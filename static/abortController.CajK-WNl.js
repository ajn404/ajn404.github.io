import{j as o}from"./jsx-runtime.DZ3s2XAB.js";import{r as a}from"./index.D4IXJ7me.js";import{C as d}from"./code.DqwIic1I.js";import"./_sentry-release-injection-file.B-UwqLso.js";import"./_commonjsHelpers.DqoTaOmB.js";import"./index.I3ggT9xy.js";import"./index.DY7eviV5.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ab9aa79e-862a-4305-85a4-1638ed1764c7",e._sentryDebugIdIdentifier="sentry-dbid-ab9aa79e-862a-4305-85a4-1638ed1764c7")}catch{}})();const x=()=>{const[e,t]=a.useState(""),n=a.useRef(null),i=()=>{t("请求中..."),n.current=new AbortController;const l=n.current.signal;fetch("https://httpbin.org/delay/5",{signal:l}).then(r=>{if(!r.ok)throw new Error("网络响应错误");return r.json()}).then(r=>{let s=JSON.stringify(r);s=s.replace(/,/g,`,
`),t(s)}).catch(r=>{r.name==="AbortError"?t("请求已中止"):t("请求失败: "+r.message)})},c=()=>{n.current&&(n.current.abort(),t("请求已中止"))};return o.jsxs("div",{children:[o.jsx("h1",{children:"中止 Fetch 请求示例"}),o.jsx("button",{className:"bg-black px-10 text-white mx-20 my-4",onClick:i,children:"开始请求"}),o.jsx("button",{className:"bg-white px-10 text-black mx-20 my-4",onClick:c,children:"中止请求"}),o.jsx(d,{children:e})]})};export{x as default};
//# sourceMappingURL=abortController.CajK-WNl.js.map
