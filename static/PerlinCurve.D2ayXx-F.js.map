{"version":3,"file":"PerlinCurve.D2ayXx-F.js","sources":["../../src/components/react/p5/Randomness/PerlinCurve.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\n\nexport default ({ hideRandom }: { hideRandom?: boolean }) => {\n  const sketchPerlin = (p: p5) => {\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 3, 240);\n    };\n    let time = 0;\n    const draw = () => {\n      p.background(0);\n      p.noFill();\n      p.strokeWeight(4);\n      p.stroke(255);\n      p.beginShape();\n      let xoff = time;\n      for (let i = 0; i < p.width; i++) {\n        let noise_height = p.noise(xoff) * p.height;\n        xoff += 0.01;\n        //不同的增量会影响噪声的平滑度\n        p.vertex(i, noise_height);\n      }\n      p.endShape();\n\n      time += 0.01;\n    };\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, 240);\n    };\n    p.setup = setup;\n    p.draw = draw;\n    p.windowResized = resize;\n  };\n\n  const sketchRandom = (p: p5) => {\n    let list;\n    let len = 0;\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 3, 240);\n    };\n    const draw = () => {\n      len = len || Math.floor(p.width);\n      list = list || new Array(len).fill(0).map(() => p.random(p.height));\n\n      p.background(255).noFill().stroke(0).strokeWeight(2).beginShape();\n      for (let i = 0; i < p.width; i++)\n        p.vertex(i, list[(i + p.frameCount) % len]);\n      p.endShape();\n    };\n    p.setup = setup;\n    p.draw = draw;\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, 240);\n    };\n    p.windowResized = resize;\n  };\n\n  return (\n    <>\n      <div className=\"flex flex-wrap justify-around gap-4\">\n        <Basic sketch={sketchPerlin} showControls={!hideRandom}></Basic>\n        {!hideRandom && <Basic sketch={sketchRandom} showControls></Basic>}\n      </div>\n    </>\n  );\n};\n"],"names":["PerlinCurve","hideRandom","sketchPerlin","p","setup","time","draw","xoff","i","noise_height","resize","sketchRandom","list","len","jsx","Fragment","jsxs","Basic"],"mappings":"0rBAGA,MAAAA,EAAe,CAAC,CAAE,WAAAC,CAAA,IAA2C,CACrD,MAAAC,EAAgBC,GAAU,CAC9B,MAAMC,EAAQ,IAAM,CAClBD,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACA,IAAIE,EAAO,EACX,MAAMC,EAAO,IAAM,CACjBH,EAAE,WAAW,CAAC,EACdA,EAAE,OAAO,EACTA,EAAE,aAAa,CAAC,EAChBA,EAAE,OAAO,GAAG,EACZA,EAAE,WAAW,EACb,IAAII,EAAOF,EACX,QAASG,EAAI,EAAGA,EAAIL,EAAE,MAAOK,IAAK,CAChC,IAAIC,EAAeN,EAAE,MAAMI,CAAI,EAAIJ,EAAE,OAC7BI,GAAA,IAENJ,EAAA,OAAOK,EAAGC,CAAY,CAAA,CAE1BN,EAAE,SAAS,EAEHE,GAAA,GACV,EACMK,EAAS,IAAM,CACnBP,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQC,EACVD,EAAE,KAAOG,EACTH,EAAE,cAAgBO,CACpB,EAEMC,EAAgBR,GAAU,CAC1B,IAAAS,EACAC,EAAM,EACV,MAAMT,EAAQ,IAAM,CAClBD,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACMG,EAAO,IAAM,CACjBO,EAAMA,GAAO,KAAK,MAAMV,EAAE,KAAK,EAC/BS,EAAOA,GAAQ,IAAI,MAAMC,CAAG,EAAE,KAAK,CAAC,EAAE,IAAI,IAAMV,EAAE,OAAOA,EAAE,MAAM,CAAC,EAEhEA,EAAA,WAAW,GAAG,EAAE,OAAO,EAAE,OAAO,CAAC,EAAE,aAAa,CAAC,EAAE,WAAW,EAChE,QAASK,EAAI,EAAGA,EAAIL,EAAE,MAAOK,IAC3BL,EAAE,OAAOK,EAAGI,GAAMJ,EAAIL,EAAE,YAAcU,CAAG,CAAC,EAC5CV,EAAE,SAAS,CACb,EACAA,EAAE,MAAQC,EACVD,EAAE,KAAOG,EACT,MAAMI,EAAS,IAAM,CACnBP,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,cAAgBO,CACpB,EAEA,OAEII,EAAA,IAAAC,WAAA,CAAA,SAAAC,EAAAA,KAAC,MAAI,CAAA,UAAU,sCACb,SAAA,CAAAF,EAAA,IAACG,EAAM,CAAA,OAAQf,EAAc,aAAc,CAACD,EAAY,EACvD,CAACA,GAAca,EAAAA,IAACG,GAAM,OAAQN,EAAc,aAAY,EAAC,CAAA,CAAA,CAAA,CAC5D,CACF,CAAA,CAEJ"}