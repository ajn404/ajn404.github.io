{"version":3,"file":"windSimulation.D0RjN-Aq.js","sources":["../../src/components/react/p5/Randomness/windSimulation.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\n\nexport default () => {\n  const sketch = (p: p5) => {\n    let yoff = 0;\n    let seed = 5;\n    let { PI } = p;\n\n    const branch = (h: number, xoff: number) => {\n      let sw = p.map(h, 2, 100, 1, 5);\n      p.strokeWeight(sw);\n      p.line(0, 0, 0, -h);\n      p.translate(0, -h);\n\n      h *= 0.71;\n      xoff += 0.1;\n\n      if (h > p.height / 60) {\n        let n = p.floor(p.random(1, 5));\n        for (let i = 0; i < n; i++) {\n          let noise = p.noise(xoff + i, yoff);\n          let theta = p.map(noise, 0, 1, -PI / 2, PI / 2);\n          if (n % 2 == 0) theta *= -1;\n          p.stroke(0);\n          p.push();\n          p.rotate(theta);\n          branch(h, xoff);\n          p.pop();\n        }\n      }\n    };\n\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 4 + 20, 200);\n    };\n\n    const draw = () => {\n      p.background(255);\n      p.translate(p.width / 2, p.height);\n      yoff += 0.005;\n      p.randomSeed(seed);\n      branch(p.height / 5, 0);\n    };\n\n    p.mouseClicked = () => {\n      yoff = p.random(1000);\n      seed = p.millis();\n    };\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, 240);\n    };\n    p.setup = setup;\n    p.draw = draw;\n    p.windowResized = resize;\n  };\n  return <Basic sketch={sketch} showControls></Basic>;\n};\n"],"names":["windSimulation","sketch","p","yoff","seed","PI","branch","h","xoff","sw","n","i","noise","theta","setup","draw","resize","jsx","Basic"],"mappings":"0rBAGA,MAAAA,EAAe,IAAM,CACb,MAAAC,EAAUC,GAAU,CACxB,IAAIC,EAAO,EACPC,EAAO,EACP,CAAE,GAAAC,GAAOH,EAEP,MAAAI,EAAS,CAACC,EAAWC,IAAiB,CAC1C,IAAIC,EAAKP,EAAE,IAAIK,EAAG,EAAG,IAAK,EAAG,CAAC,EAQ1B,GAPJL,EAAE,aAAaO,CAAE,EACjBP,EAAE,KAAK,EAAG,EAAG,EAAG,CAACK,CAAC,EAChBL,EAAA,UAAU,EAAG,CAACK,CAAC,EAEZA,GAAA,IACGC,GAAA,GAEJD,EAAIL,EAAE,OAAS,GAAI,CACrB,IAAIQ,EAAIR,EAAE,MAAMA,EAAE,OAAO,EAAG,CAAC,CAAC,EAC9B,QAASS,EAAI,EAAGA,EAAID,EAAGC,IAAK,CAC1B,IAAIC,EAAQV,EAAE,MAAMM,EAAOG,EAAGR,CAAI,EAC9BU,EAAQX,EAAE,IAAIU,EAAO,EAAG,EAAG,CAACP,EAAK,EAAGA,EAAK,CAAC,EAC1CK,EAAI,GAAK,IAAYG,GAAA,IACzBX,EAAE,OAAO,CAAC,EACVA,EAAE,KAAK,EACPA,EAAE,OAAOW,CAAK,EACdP,EAAOC,EAAGC,CAAI,EACdN,EAAE,IAAI,CAAA,CACR,CAEJ,EAEMY,EAAQ,IAAM,CAClBZ,EAAE,aAAaA,EAAE,YAAc,EAAI,GAAI,GAAG,CAC5C,EAEMa,EAAO,IAAM,CACjBb,EAAE,WAAW,GAAG,EAChBA,EAAE,UAAUA,EAAE,MAAQ,EAAGA,EAAE,MAAM,EACzBC,GAAA,KACRD,EAAE,WAAWE,CAAI,EACVE,EAAAJ,EAAE,OAAS,EAAG,CAAC,CACxB,EAEAA,EAAE,aAAe,IAAM,CACdC,EAAAD,EAAE,OAAO,GAAI,EACpBE,EAAOF,EAAE,OAAO,CAClB,EACA,MAAMc,EAAS,IAAM,CACnBd,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQY,EACVZ,EAAE,KAAOa,EACTb,EAAE,cAAgBc,CACpB,EACA,OAAQC,EAAAA,IAAAC,EAAA,CAAM,OAAAjB,EAAgB,aAAY,EAAC,CAAA,CAC7C"}