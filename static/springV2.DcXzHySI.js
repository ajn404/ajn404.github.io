import{j as a}from"./jsx-runtime.DZ3s2XAB.js";import R from"./index.FIxribuB.js";import{r}from"./index.D4IXJ7me.js";import{a as V,b as S}from"./Spring.DIaDz18w.js";import{u as b}from"./index.BS-qR_3E.js";import{S as l}from"./slider.UtFttJc2.js";import{c as m}from"./utils.CQ2vwKer.js";import"./_sentry-release-injection-file.B-UwqLso.js";import"./preload-helper.ddZQF9G8.js";/* empty css                       */import"./react-icons.esm.Bm3uWd-S.js";import"./createLucideIcon.Bi-ZCKuD.js";import"./_commonjsHelpers.DqoTaOmB.js";import"./index.DSKVgZYz.js";import"./index.Dgakj2qx.js";import"./index.CEsCW6vM.js";import"./index.D4qPoAuk.js";import"./index.DB_Y-4NU.js";import"./index.8q4ZzGYF.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},u=new o.Error().stack;u&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[u]="b524ba18-cf1c-4713-af41-6955bd41b5e7",o._sentryDebugIdIdentifier="sentry-dbid-b524ba18-cf1c-4713-af41-6955bd41b5e7")}catch{}})();const H=({showControl:o})=>{const[u,w]=r.useState(.2),i=b(u,500),[g,v]=r.useState(10),f=b(g,500),[n,x]=r.useState({width:500,height:500}),d=b(n,500),s=r.useRef([]),c=r.useRef([]),E=r.useCallback(e=>{const j=o?Math.max(d.width,e.windowWidth/2):e.windowWidth/3,y=()=>{e.createCanvas(j,d.height),e.frameRate(120),s.current=[],c.current=[],new Array(f).fill(e.random(5,20)).forEach(t=>{const h=new V(e,e.random(e.width),e.random(e.height),t);s.current.push(h)});for(let t=0;t<s.current.length;t++)for(let h=t+1;h<s.current.length;h++)c.current.push(new S(e,200,i,s.current[t],s.current[h]))},C=()=>{e.background(33,39,55),s.current.forEach(t=>{t.update(),t.handleDrag(e.mouseX,e.mouseY)}),c.current.forEach(t=>{t.connect()}),c.current.forEach(t=>{t.bobA&&t.bobB?t.constrainLength(t.bobA,t.bobB,50,250):t.bobA&&t.anchor&&t.constrainLengthToAnchor(t.bobA,50,250)}),c.current.forEach(t=>t.show()),s.current.forEach(t=>t.show())};e.mousePressed=()=>{s.current.forEach(t=>{t.handleMousePressed(e.mouseX,e.mouseY)})},e.touchStarted=()=>{s.current.forEach(t=>{t.handleMousePressed(e.mouseX,e.mouseY)})},e.touchEnded=()=>{s.current.forEach(t=>t.handleMouseReleased())},e.mouseReleased=()=>{s.current.forEach(t=>t.handleMouseReleased())};const N=()=>{e.resizeCanvas(Math.max(d.width,e.windowWidth/2),d.height)};e.setup=y,e.draw=C,e.windowResized=N},[i,f,d]);return r.useEffect(()=>{c.current.forEach(e=>{e.k=i})},[i]),a.jsxs("div",{className:"max-w-[90vw] overflow-auto flex items-center shadow justify-around ",children:[a.jsx(R,{sketch:E,showControls:!!o}),o&&a.jsxs("div",{className:"w-1/5 toolbox",children:[a.jsxs("label",{className:"select-none",children:["弹性系数：",i]}),a.jsx(l,{defaultValue:[.2],max:.7,min:.1,step:.01,className:m("w-[100%] m-4"),onValueChange:e=>{w(e[0])},value:[u]}),a.jsxs("label",{className:"select-none",children:["小球数量：",f]}),a.jsx(l,{defaultValue:[10],max:20,min:2,step:1,className:m("w-[100%] m-4"),onValueChange:e=>{v(e[0])},value:[g]}),a.jsxs("label",{className:"select-none",children:["canvas width：",n.width]}),a.jsx(l,{defaultValue:[500],max:1e3,min:100,step:20,className:m("w-[100%] m-4"),onValueChange:e=>{x({width:e[0],height:n.height})},value:[n.width]}),a.jsxs("label",{className:"select-none",children:["canvas height:",n.height]}),a.jsx(l,{defaultValue:[500],max:1e3,min:100,step:20,className:m("w-[100%] m-4"),onValueChange:e=>{x({width:n.width,height:e[0]})},value:[n.height]})]})]})};export{H as default};
//# sourceMappingURL=springV2.DcXzHySI.js.map
