{"version":3,"mappings":"6jBAcA,MAAMA,EAAyC,CAAC,CAC9C,SAAAC,EACA,SAAAC,EACA,KAAAC,CACF,IAAM,CACJ,IAAIC,EACDH,EAA0B,MAAM,OAChCA,EAA0B,MAAM,SAC/BI,EAASC,SAAY,IAAI,EACzB,CAACC,EAAMC,CAAO,EAAIC,WAAS,EAAK,EAEpCC,YAAU,IAAM,CACPC,EAAA,yCAAY,MAAE,KAAK,IAAM,CAC9BH,EAAQ,EAAI,EACb,EACF,EACD,MAAMI,EAAgB,IAAM,CACnBP,EAAA,SACLA,EAAO,QAAQ,OAAO,CACpB,MAAO,EACP,SAAU,GACX,CACL,EACA,cACG,MACE,WACCE,GAAAM,EAAA,IAAC,cACC,MAAO,CAAE,WAAY,MAAO,EAC5B,IAAKR,EACL,KAAMF,GAAM,SAAS,EACrB,kBAAe,GAEd,SAAAC,CAAA,CACH,EAEDF,GACCW,EAAA,IAAC,UACC,UAAU,6DACV,QAASD,EACV,eAED,EAEJ,CAEJ","names":["Doodle","children","download","grid","value","doodle","useRef","show","setShow","useState","useEffect","__vitePreload","downloadClick","jsx"],"ignoreList":[],"sources":["../../src/components/react/doodle/common.tsx"],"sourcesContent":["import {\n  useEffect,\n  useState,\n  type ReactNode,\n  type ReactElement,\n  useRef,\n} from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  download?: Boolean;\n  grid?: string;\n}\n\nconst Doodle: React.FunctionComponent<Props> = ({\n  children,\n  download,\n  grid,\n}) => {\n  let value =\n    (children as ReactElement).props.value ||\n    (children as ReactElement).props.children;\n  let doodle = useRef<any>(null);\n  let [show, setShow] = useState(false);\n\n  useEffect(() => {\n    import(\"css-doodle\").then(() => {\n      setShow(true);\n    });\n  });\n  const downloadClick = () => {\n    doodle.current &&\n      doodle.current.export({\n        scale: 8,\n        download: true,\n      });\n  };\n  return (\n    <div>\n      {show && (\n        <css-doodle\n          style={{ background: \"#fff\" }}\n          ref={doodle}\n          grid={grid?.toString()}\n          click-to-update\n        >\n          {value}\n        </css-doodle>\n      )}\n      {download && (\n        <button\n          className=\"text-l w-[50vmin] pt-1 text-skin-base hover:drop-shadow-md\"\n          onClick={downloadClick}\n        >\n          下载\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Doodle;\n"],"file":"static/common.CCw_e0Ib.js"}