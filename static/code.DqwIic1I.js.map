{"version":3,"file":"code.DqwIic1I.js","sources":["../../src/components/react/editor/code.tsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport { EditorView, basicSetup } from \"codemirror\";\nimport { javascript } from \"@codemirror/lang-javascript\";\n\nexport default ({ children }) => {\n  const editorRef = useRef<HTMLDivElement>(null);\n  let editor = useRef<EditorView | null>(null);\n\n  useEffect(() => {\n    if (editorRef.current && editorRef.current.innerHTML.length === 0) {\n      const parent = editorRef.current;\n      editor.current = new EditorView({\n        extensions: [basicSetup, javascript()],\n        parent: parent || document.body,\n      });\n    }\n    if (children) {\n      editor.current.dispatch({\n        changes: {\n          from: 0,\n          to: editor.current.state.doc.length,\n          insert: children,\n        },\n      });\n    }\n  }, [children]);\n\n  return <div id=\"editor\" className=\"bg-[#000] w-full\" ref={editorRef}></div>;\n};\n"],"names":["Code","children","editorRef","useRef","editor","useEffect","parent","EditorView","basicSetup","javascript"],"mappings":"2hBAIA,MAAAA,EAAe,CAAC,CAAE,SAAAC,CAAA,IAAe,CACzB,MAAAC,EAAYC,SAAuB,IAAI,EACzC,IAAAC,EAASD,SAA0B,IAAI,EAE3CE,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIH,EAAU,SAAWA,EAAU,QAAQ,UAAU,SAAW,EAAG,CACjE,MAAMI,EAASJ,EAAU,QAClBE,EAAA,QAAU,IAAIG,EAAW,CAC9B,WAAY,CAACC,EAAYC,GAAY,EACrC,OAAQH,GAAU,SAAS,IAAA,CAC5B,CAAA,CAECL,GACFG,EAAO,QAAQ,SAAS,CACtB,QAAS,CACP,KAAM,EACN,GAAIA,EAAO,QAAQ,MAAM,IAAI,OAC7B,OAAQH,CAAA,CACV,CACD,CACH,EACC,CAACA,CAAQ,CAAC,QAEL,MAAI,CAAA,GAAG,SAAS,UAAU,mBAAmB,IAAKC,EAAW,CACvE"}