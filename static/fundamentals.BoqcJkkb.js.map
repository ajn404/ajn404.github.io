{"version":3,"file":"fundamentals.BoqcJkkb.js","sources":["../../src/components/react/webgl/fundamental/fundamentals.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nexport default () => {\n  const canvas = useRef<HTMLCanvasElement>(null);\n  const [progress, setProgress] = useState(0); // 进度状态\n\n  useEffect(() => {\n    const gl = canvas.current?.getContext(\"webgl\");\n    let id;\n    if (!gl) {\n      console.error(\"WebGL not supported\");\n      return;\n    }\n\n    // 初始化 WebGL\n    const initWebGL = () => {\n      gl.clearColor(1.0, 0.0, 0.0, 1.0); // 设置背景颜色为黑色\n      gl.clear(gl.COLOR_BUFFER_BIT); // 清除画布\n    };\n    // 渲染函数\n    const render = () => {\n      initWebGL();\n      setProgress(prev => (prev < 100 ? prev + 1 : 100)); // 模拟进度更新\n      gl.clearColor(progress / 100, 0.5, 1 - progress / 100, 1.0); // 设置背景颜色为黑色\n      gl.clear(gl.COLOR_BUFFER_BIT); // 清除画布\n      if (progress < 100) {\n        id = requestAnimationFrame(render); // 循环渲染\n      } else {\n        console.log(\"Render complete\");\n        cancelAnimationFrame(id); // 停止渲染\n      }\n    };\n    console.log(\"Rendering...\");\n\n    render(); // 开始渲染\n\n    return () => {\n      console.log(\"Cleanup\");\n      cancelAnimationFrame(id); // 清除动画帧\n    };\n  }, []);\n\n  return (\n    <div>\n      <canvas ref={canvas} className=\"bg-black w-full h-64\"></canvas>\n      <div className=\"mt-4\">\n        <progress value={progress} max=\"100\" className=\"w-full\"></progress>\n        <p className=\"text-center text-white\">{progress.toFixed(2)}%</p>\n      </div>\n    </div>\n  );\n};\n"],"names":["fundamentals","canvas","useRef","progress","setProgress","useState","useEffect","gl","id","initWebGL","render","prev","jsx","jsxs"],"mappings":"4gBAEA,MAAAA,EAAe,IAAM,CACb,MAAAC,EAASC,SAA0B,IAAI,EACvC,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,CAAC,EAE1CC,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAKN,EAAO,SAAS,WAAW,OAAO,EACzC,IAAAO,EACJ,GAAI,CAACD,EAAI,CACP,QAAQ,MAAM,qBAAqB,EACnC,MAAA,CAIF,MAAME,EAAY,IAAM,CACtBF,EAAG,WAAW,EAAK,EAAK,EAAK,CAAG,EAC7BA,EAAA,MAAMA,EAAG,gBAAgB,CAC9B,EAEMG,EAAS,IAAM,CACTD,EAAA,EACVL,EAAqBO,GAAAA,EAAO,IAAMA,EAAO,EAAI,GAAI,EACjDJ,EAAG,WAAWJ,EAAW,IAAK,GAAK,EAAIA,EAAW,IAAK,CAAG,EACvDI,EAAA,MAAMA,EAAG,gBAAgB,EACxBJ,EAAW,IACbK,EAAK,sBAAsBE,CAAM,GAEjC,QAAQ,IAAI,iBAAiB,EAC7B,qBAAqBF,CAAE,EAE3B,EACA,eAAQ,IAAI,cAAc,EAEnBE,EAAA,EAEA,IAAM,CACX,QAAQ,IAAI,SAAS,EACrB,qBAAqBF,CAAE,CACzB,CACF,EAAG,EAAE,SAGF,MACC,CAAA,SAAA,CAAAI,EAAA,IAAC,SAAO,CAAA,IAAKX,EAAQ,UAAU,uBAAuB,EACtDY,EAAAA,KAAC,MAAI,CAAA,UAAU,OACb,SAAA,CAAAD,MAAC,YAAS,MAAOT,EAAU,IAAI,MAAM,UAAU,SAAS,EACxDU,EAAAA,KAAC,IAAE,CAAA,UAAU,yBAA0B,SAAA,CAAAV,EAAS,QAAQ,CAAC,EAAE,GAAA,CAAC,CAAA,CAAA,CAC9D,CAAA,CAAA,EACF,CAEJ"}