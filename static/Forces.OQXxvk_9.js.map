{"version":3,"file":"Forces.OQXxvk_9.js","sources":["../../src/components/react/p5/Forces/ForceC.tsx","../../src/components/react/p5/Forces/ForceD.tsx","../../src/components/react/p5/Forces/ForceE.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { ForceMoverC } from \"./ForceMoverC\";\nimport { useCallback, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { cn } from \"@utils/utils\";\n\nexport default () => {\n  let moverWithWind: ForceMoverC;\n  let wind: p5.Vector;\n  let [mass, setMass] = useState(2.8);\n  let debounceMass = useDebounce(mass, 200);\n  let [maxHeight, setMaxHeight] = useState(0);\n  let [height, setHeight] = useState(0);\n\n  const sketch = useCallback(\n    (p: p5) => {\n      const setup = () => {\n        p.createCanvas((p.windowWidth * 2) / 3, debounceMass * 100);\n        moverWithWind = new ForceMoverC(\n          p,\n          \"press mouse\",\n          debounceMass * 15,\n          null,\n          debounceMass\n        );\n        p.frameRate(120);\n        moverWithWind.position = p.createVector(p.width / 2, p.height / 2);\n      };\n      const draw = () => {\n        p.background(moverWithWind.color);\n        moverWithWind.applyForce(p.createVector(0, 0.1));\n        if (p.mouseIsPressed) {\n          wind = p.createVector(0.1, 0);\n          moverWithWind.applyForce(wind); // 应用风\n        }\n        moverWithWind.move();\n        moverWithWind.show();\n        moverWithWind.showName();\n        moverWithWind.checkEdges();\n        setHeight(Number((p.height - moverWithWind.position.y).toFixed(2)));\n        if (p.height - moverWithWind.position.y >= maxHeight) {\n          setMaxHeight(\n            Number((p.height - moverWithWind.position.y).toFixed(2))\n          );\n        }\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debounceMass, maxHeight]\n  );\n  return (\n    <>\n      小球质量{mass}(单位:any)\n      <Slider\n        defaultValue={[2.8]}\n        max={5}\n        min={1}\n        step={0.01}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setMass(value[0]);\n        }}\n        value={[mass]}\n      />\n      风力大小为 f = m*a;这里的m = mass;a = 0.1; f = {(mass * 0.1).toFixed(2)}\n      <br />\n      小球高度{height} <br />\n      最大高度{maxHeight}\n      <Basic sketch={sketch} showControls></Basic>\n    </>\n  );\n};\n","import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { ForceMoverC } from \"./ForceMoverC\";\nimport { useCallback, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { cn } from \"@utils/utils\";\n\nexport default () => {\n  let moverWithWind: ForceMoverC[];\n  let wind: p5.Vector;\n  let [mass, setMass] = useState(2.8);\n  let debounceMass = useDebounce(mass, 200);\n\n  const sketch = useCallback(\n    (p: p5) => {\n      const setup = () => {\n        p.createCanvas((p.windowWidth * 2) / 3, debounceMass * 100);\n        moverWithWind = new Array(12).fill(0).map((_, i) => {\n          let radius = p.random(debounceMass);\n          let res = new ForceMoverC(\n            p,\n            \"press mouse\",\n            radius * 15,\n            null,\n            radius\n          );\n          res.position = p.createVector(\n            p.random(res.circleRadius + 1, p.width - res.circleRadius - 1),\n            p.random(res.circleRadius + 1, p.height - res.circleRadius - 1)\n          );\n\n          return res;\n        });\n        p.frameRate(120);\n      };\n      const draw = () => {\n        p.background(0);\n        moverWithWind.forEach(m => {\n          m.applyForce(p.createVector(0, 0.1));\n          if (p.mouseIsPressed) {\n            wind = p.createVector(0.1, 0);\n            m.applyForce(wind); // 应用风\n          }\n          m.move();\n          m.show();\n          m.checkEdges();\n        });\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debounceMass]\n  );\n  return (\n    <>\n      <Slider\n        defaultValue={[2.8]}\n        max={5}\n        min={1}\n        step={0.01}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setMass(value[0]);\n        }}\n        value={[mass]}\n      />\n      <Basic sketch={sketch} showControls></Basic>\n    </>\n  );\n};\n","import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { ForceMoverC } from \"./ForceMoverC\";\nimport { useCallback, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { cn } from \"@utils/utils\";\n\nexport default () => {\n  let moverWithWind: ForceMoverC;\n  let wind: p5.Vector;\n  let [mass, setMass] = useState(2.8);\n  let debounceMass = useDebounce(mass, 200);\n  let [maxHeight, setMaxHeight] = useState(0);\n  let [height, setHeight] = useState(0);\n\n  const sketch = useCallback(\n    (p: p5) => {\n      const setup = () => {\n        p.createCanvas((p.windowWidth * 2) / 3, debounceMass * 100);\n        moverWithWind = new ForceMoverC(\n          p,\n          \"press mouse\",\n          debounceMass * 15,\n          null,\n          debounceMass\n        );\n        p.frameRate(120);\n        moverWithWind.position = p.createVector(p.width / 2, p.height / 2);\n      };\n      const draw = () => {\n        p.background(moverWithWind.color);\n        moverWithWind.applyForce(p.createVector(0, 0.1));\n        if (p.mouseIsPressed) {\n          wind = p.createVector(0.1, 0);\n          moverWithWind.applyForce(wind); // 应用风\n        }\n\n        moverWithWind.move();\n        moverWithWind.show();\n        moverWithWind.showName();\n        // moverWithWind.checkEdges();\n\n        let distanceX = p\n          .createVector(p.width, moverWithWind.position.y)\n          .dist(moverWithWind.position);\n        let distanceY = p\n          .createVector(moverWithWind.position.x, p.height)\n          .dist(moverWithWind.position);\n        if (\n          distanceX < moverWithWind.circleRadius ||\n          moverWithWind.position.x > p.width\n        ) {\n          moverWithWind.applyForce(p.createVector(-10, 0));\n        }\n        if (\n          distanceY < moverWithWind.circleRadius ||\n          moverWithWind.position.y > p.height\n        ) {\n          moverWithWind.applyForce(p.createVector(0, -1));\n        }\n        let distanceXL = p\n          .createVector(0, moverWithWind.position.y)\n          .dist(moverWithWind.position);\n        let distanceYL = p\n          .createVector(moverWithWind.position.x, 0)\n          .dist(moverWithWind.position);\n        if (\n          distanceXL < moverWithWind.circleRadius ||\n          moverWithWind.position.x < 0\n        ) {\n          moverWithWind.applyForce(p.createVector(1, 0));\n        }\n        if (\n          distanceYL < moverWithWind.circleRadius ||\n          moverWithWind.position.y < 0\n        ) {\n          moverWithWind.applyForce(p.createVector(0, 1));\n        }\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debounceMass]\n  );\n  return (\n    <>\n      小球质量{mass}(单位:any)\n      <Slider\n        defaultValue={[2.8]}\n        max={5}\n        min={1}\n        step={0.01}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setMass(value[0]);\n        }}\n        value={[mass]}\n      />\n      风力大小为 f = m*a;这里的m = mass;a = 0.1; f = {(mass * 0.1).toFixed(2)}\n      <br />\n      小球高度{height} <br />\n      最大高度{maxHeight}\n      <Basic sketch={sketch} showControls></Basic>\n    </>\n  );\n};\n"],"names":["ForceC","moverWithWind","wind","mass","setMass","useState","debounceMass","useDebounce","maxHeight","setMaxHeight","height","setHeight","sketch","useCallback","p","setup","ForceMoverC","draw","resize","jsxs","Fragment","jsx","Slider","cn","value","Basic","ForceD","_","i","radius","res","m","ForceE","distanceX","distanceY","distanceXL","distanceYL"],"mappings":"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"}