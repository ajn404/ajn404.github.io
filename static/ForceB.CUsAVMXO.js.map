{"version":3,"file":"ForceB.CUsAVMXO.js","sources":["../../src/components/react/p5/Forces/ForceMoverB.ts","../../src/components/react/p5/Forces/ForceB.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport { Mover } from \"../Vector/Mover\";\n\nexport class ForceMoverB extends Mover {\n  mass: number;\n  constructor(p: p5, name?: string, circleRadius?: number, color?: p5.Color) {\n    super(p);\n    this.name = name || this.name;\n    this.circleRadius = circleRadius || this.circleRadius;\n    this.color = color || this.color;\n    this.velocity = p.createVector(0, 0);\n    this.acceleration = p.createVector(0, 0);\n    this.mass = 1;\n  }\n  applyForce(force: p5.Vector) {\n    let f = force.copy(); // 创建一个副本\n    f.div(this.mass);\n    this.acceleration.add(f);\n  }\n\n  move() {\n    this.velocity.add(this.acceleration);\n    this.position.add(this.velocity);\n    this.acceleration.mult(0);\n  }\n\n  checkEdges() {\n    const p = this.p;\n    if (\n      this.position.x + this.circleRadius > p.width ||\n      this.position.x < this.circleRadius\n    ) {\n      this.velocity.x *= -1;\n      if (this.position.x + this.circleRadius > p.width) {\n        this.position.x = p.width - this.circleRadius;\n      }\n    }\n    if (\n      this.position.y + this.circleRadius > p.height ||\n      this.position.y < this.circleRadius\n    ) {\n      this.velocity.y *= -1;\n      if (this.position.y + this.circleRadius > p.height) {\n        this.position.y = p.height - this.circleRadius;\n      }\n    }\n  }\n}\n","import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { ForceMoverB } from \"./ForceMoverB\";\nexport default () => {\n  const sketch = (p: p5) => {\n    let mover: ForceMoverB;\n    let moverWithWind: ForceMoverB;\n    let movers: ForceMoverB[];\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 2, 240);\n      mover = new ForceMoverB(p, \"mover\", 32);\n      moverWithWind = new ForceMoverB(p, \"press mouse\", 32);\n      moverWithWind.position = p.createVector(\n        p.width / 2,\n        moverWithWind.circleRadius\n      );\n      movers = new Array(3)\n        .fill(0)\n        .map(\n          (item, index) => new ForceMoverB(p, \"mover\" + index, p.random(16, 32))\n        );\n      p.frameRate(120);\n    };\n    const draw = () => {\n      p.background(255);\n\n      mover.move();\n      mover.checkEdges();\n      mover.show();\n      mover.showName();\n\n      moverWithWind.applyForce(p.createVector(0, 0.1));\n\n      if (p.mouseIsPressed) {\n        let wind = p.createVector(0.1, 0);\n        moverWithWind.applyForce(wind); // 应用风\n      }\n\n      moverWithWind.move();\n      moverWithWind.show();\n      moverWithWind.showName();\n      moverWithWind.checkEdges();\n\n      movers.forEach(m => {\n        m.applyForce(p.createVector(0, p.random(0, 1)));\n        m.move();\n        m.checkEdges();\n        m.show();\n        m.showName();\n      });\n    };\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, 240);\n    };\n    p.setup = setup;\n    p.draw = draw;\n    p.windowResized = resize;\n  };\n  return (\n    <>\n      <Basic sketch={sketch} showControls></Basic>\n    </>\n  );\n};\n"],"names":["ForceMoverB","Mover","p","name","circleRadius","color","force","f","ForceB","sketch","mover","moverWithWind","movers","setup","item","index","draw","wind","m","resize","jsx","Basic"],"mappings":"kuBAGO,MAAMA,UAAoBC,CAAM,CAErC,YAAYC,EAAOC,EAAeC,EAAuBC,EAAkB,CACzE,MAAMH,CAAC,EACF,KAAA,KAAOC,GAAQ,KAAK,KACpB,KAAA,aAAeC,GAAgB,KAAK,aACpC,KAAA,MAAQC,GAAS,KAAK,MAC3B,KAAK,SAAWH,EAAE,aAAa,EAAG,CAAC,EACnC,KAAK,aAAeA,EAAE,aAAa,EAAG,CAAC,EACvC,KAAK,KAAO,CAAA,CAEd,WAAWI,EAAkB,CACvB,IAAAC,EAAID,EAAM,KAAK,EACjBC,EAAA,IAAI,KAAK,IAAI,EACV,KAAA,aAAa,IAAIA,CAAC,CAAA,CAGzB,MAAO,CACA,KAAA,SAAS,IAAI,KAAK,YAAY,EAC9B,KAAA,SAAS,IAAI,KAAK,QAAQ,EAC1B,KAAA,aAAa,KAAK,CAAC,CAAA,CAG1B,YAAa,CACX,MAAML,EAAI,KAAK,GAEb,KAAK,SAAS,EAAI,KAAK,aAAeA,EAAE,OACxC,KAAK,SAAS,EAAI,KAAK,gBAEvB,KAAK,SAAS,GAAK,GACf,KAAK,SAAS,EAAI,KAAK,aAAeA,EAAE,QAC1C,KAAK,SAAS,EAAIA,EAAE,MAAQ,KAAK,gBAInC,KAAK,SAAS,EAAI,KAAK,aAAeA,EAAE,QACxC,KAAK,SAAS,EAAI,KAAK,gBAEvB,KAAK,SAAS,GAAK,GACf,KAAK,SAAS,EAAI,KAAK,aAAeA,EAAE,SAC1C,KAAK,SAAS,EAAIA,EAAE,OAAS,KAAK,cAEtC,CAEJ,CC5CA,MAAAM,EAAe,IAAM,CACb,MAAAC,EAAUP,GAAU,CACpB,IAAAQ,EACAC,EACAC,EACJ,MAAMC,EAAQ,IAAM,CAClBX,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,EACrCQ,EAAQ,IAAIV,EAAYE,EAAG,QAAS,EAAE,EACtCS,EAAgB,IAAIX,EAAYE,EAAG,cAAe,EAAE,EACpDS,EAAc,SAAWT,EAAE,aACzBA,EAAE,MAAQ,EACVS,EAAc,YAChB,EACAC,EAAS,IAAI,MAAM,CAAC,EACjB,KAAK,CAAC,EACN,IACC,CAACE,EAAMC,IAAU,IAAIf,EAAYE,EAAG,QAAUa,EAAOb,EAAE,OAAO,GAAI,EAAE,CAAC,CACvE,EACFA,EAAE,UAAU,GAAG,CACjB,EACMc,EAAO,IAAM,CAUjB,GATAd,EAAE,WAAW,GAAG,EAEhBQ,EAAM,KAAK,EACXA,EAAM,WAAW,EACjBA,EAAM,KAAK,EACXA,EAAM,SAAS,EAEfC,EAAc,WAAWT,EAAE,aAAa,EAAG,EAAG,CAAC,EAE3CA,EAAE,eAAgB,CACpB,IAAIe,EAAOf,EAAE,aAAa,GAAK,CAAC,EAChCS,EAAc,WAAWM,CAAI,CAAA,CAG/BN,EAAc,KAAK,EACnBA,EAAc,KAAK,EACnBA,EAAc,SAAS,EACvBA,EAAc,WAAW,EAEzBC,EAAO,QAAaM,GAAA,CAChBA,EAAA,WAAWhB,EAAE,aAAa,EAAGA,EAAE,OAAO,EAAG,CAAC,CAAC,CAAC,EAC9CgB,EAAE,KAAK,EACPA,EAAE,WAAW,EACbA,EAAE,KAAK,EACPA,EAAE,SAAS,CAAA,CACZ,CACH,EACMC,EAAS,IAAM,CACnBjB,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQW,EACVX,EAAE,KAAOc,EACTd,EAAE,cAAgBiB,CACpB,EACA,yBAEI,SAACC,EAAA,IAAAC,EAAA,CAAM,OAAAZ,EAAgB,aAAY,GAAC,CACtC,CAAA,CAEJ"}