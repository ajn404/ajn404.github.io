{"version":3,"file":"angleAcceleration.kqKZLyu4.js","sources":["../../src/components/react/p5/Oscillation/angleAcceleration.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { Input } from \"@shadcn/ui/input\";\nimport { useCallback, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\n\nexport default () => {\n  // State for angle acceleration and debounce it\n  const [angleAcceleration, setAngleAcceleration] = useState(0.001);\n  const debouncedAngleAcceleration = useDebounce(angleAcceleration, 100); // Debounce with 100ms delay\n\n  let angleVelocity = 0;\n  let angle = 0;\n\n  const sketch = useCallback(\n    (p: p5) => {\n      const setup = () => {\n        p.createCanvas(p.windowWidth / 2, 240);\n        p.angleMode(p.DEGREES);\n        p.frameRate(60);\n      };\n\n      const draw = () => {\n        p.background(250);\n        p.push();\n        p.translate(p.width / 2, p.height / 2);\n        p.rotate(angle);\n        // center\n        p.line(-50, 0, 50, 0);\n        // Line ends with filled circles\n        p.fill(255, 0, 0);\n\n        p.ellipse(-50, 0, 10);\n        p.text(\"开始\", -60, 20);\n\n        p.ellipse(50, 0, 10);\n        p.text(\"结束\", 40, 20);\n\n        p.fill(0);\n        p.text((angle % 360).toFixed(2), -5, 20);\n        p.pop();\n\n        angleVelocity += debouncedAngleAcceleration;\n        angle += angleVelocity;\n      };\n\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n\n      p.setup = () => {\n        setup();\n      };\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debouncedAngleAcceleration]\n  );\n\n  return (\n    <>\n      <Basic sketch={sketch} showControls key=\"p5-angle\"></Basic>\n      <Input\n        type=\"range\"\n        min=\"0\"\n        max=\"0.1\"\n        step=\"0.001\"\n        value={angleAcceleration}\n        onChange={e => {\n          setAngleAcceleration(Number(e.target.value));\n        }}\n      ></Input>\n      <div>\n        <label htmlFor=\"text\">加速度</label>\n        <span id=\"text\">{debouncedAngleAcceleration}</span>\n      </div>\n    </>\n  );\n};\n"],"names":["angleAcceleration","setAngleAcceleration","useState","debouncedAngleAcceleration","useDebounce","angleVelocity","angle","sketch","useCallback","p","setup","draw","resize","jsxs","Fragment","jsx","Basic","Input"],"mappings":"kzBAMA,MAAAA,EAAe,IAAM,CAEnB,KAAM,CAACA,EAAmBC,CAAoB,EAAIC,EAAAA,SAAS,IAAK,EAC1DC,EAA6BC,EAAYJ,EAAmB,GAAG,EAErE,IAAIK,EAAgB,EAChBC,EAAQ,EAEZ,MAAMC,EAASC,EAAA,YACZC,GAAU,CACT,MAAMC,EAAQ,IAAM,CAClBD,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,EACnCA,EAAA,UAAUA,EAAE,OAAO,EACrBA,EAAE,UAAU,EAAE,CAChB,EAEME,EAAO,IAAM,CACjBF,EAAE,WAAW,GAAG,EAChBA,EAAE,KAAK,EACPA,EAAE,UAAUA,EAAE,MAAQ,EAAGA,EAAE,OAAS,CAAC,EACrCA,EAAE,OAAOH,CAAK,EAEdG,EAAE,KAAK,IAAK,EAAG,GAAI,CAAC,EAElBA,EAAA,KAAK,IAAK,EAAG,CAAC,EAEdA,EAAA,QAAQ,IAAK,EAAG,EAAE,EAClBA,EAAA,KAAK,KAAM,IAAK,EAAE,EAElBA,EAAA,QAAQ,GAAI,EAAG,EAAE,EACjBA,EAAA,KAAK,KAAM,GAAI,EAAE,EAEnBA,EAAE,KAAK,CAAC,EACRA,EAAE,MAAMH,EAAQ,KAAK,QAAQ,CAAC,EAAG,GAAI,EAAE,EACvCG,EAAE,IAAI,EAEWJ,GAAAF,EACRG,GAAAD,CACX,EAEMO,EAAS,IAAM,CACnBH,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EAEAA,EAAE,MAAQ,IAAM,CACRC,EAAA,CACR,EACAD,EAAE,KAAOE,EACTF,EAAE,cAAgBG,CACpB,EACA,CAACT,CAA0B,CAC7B,EAEA,OAEIU,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAC,EAAA,IAACC,EAAM,CAAA,OAAAT,EAAgB,aAAY,EAAA,EAAK,UAAW,EACnDQ,EAAA,IAACE,EAAA,CACC,KAAK,QACL,IAAI,IACJ,IAAI,MACJ,KAAK,QACL,MAAOjB,EACP,SAAe,GAAA,CACbC,EAAqB,OAAO,EAAE,OAAO,KAAK,CAAC,CAAA,CAC7C,CACD,SACA,MACC,CAAA,SAAA,CAACc,EAAA,IAAA,QAAA,CAAM,QAAQ,OAAO,SAAG,MAAA,EACxBA,EAAA,IAAA,OAAA,CAAK,GAAG,OAAQ,SAA2BZ,CAAA,CAAA,CAAA,CAC9C,CAAA,CAAA,EACF,CAEJ"}