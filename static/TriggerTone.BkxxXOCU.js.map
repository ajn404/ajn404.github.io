{"version":3,"file":"TriggerTone.BkxxXOCU.js","sources":["../../src/components/react/little/TriggerTone.tsx"],"sourcesContent":["import * as Tone from \"tone\";\nimport { Button } from \"@shadcn/ui/button\";\n\nexport default () => {\n  function play(note = \"C4\") {\n    if (Tone.isNote(note)) {\n      const synth = new Tone.Synth().toDestination();\n      const now = Tone.now();\n      synth.triggerAttack(note, now);\n      synth.triggerRelease(now + 0.1);\n    }\n  }\n\n  // // 定义旋律\n  const melody = [\n    { note: \"A3\", duration: \"4n\" },\n    { note: \"C4\", duration: \"4n\" },\n    { note: \"E4\", duration: \"4n\" },\n    { note: \"G4\", duration: \"4n\" },\n    { note: \"A4\", duration: \"4n\" },\n    { note: \"G4\", duration: \"4n\" },\n    { note: \"E4\", duration: \"4n\" },\n    { note: \"C4\", duration: \"4n\" },\n  ];\n\n  // 播放旋律的函数\n  function playMelody() {\n    const synth = new Tone.Synth().toDestination();\n\n    let now = Tone.now();\n    melody.forEach(({ note, duration }) => {\n      synth.triggerAttackRelease(note, duration, now);\n      now += Tone.Time(duration).toSeconds(); // 更新当前时间\n    });\n  }\n\n  const start = async () => {\n    await Tone.start(); // 开始音频上下文\n    playMelody(); // 播放旋律\n  };\n\n  return (\n    <>\n      <div>\n        <p>Tone.js</p>\n        <div className=\"flex flex-col gap-2\">\n          <Button onClick={() => play(\"A3\")}>Play A3</Button>\n          <Button onClick={() => play(\"A1\")}>Play A1</Button>\n          <Button onClick={() => play(\"A2\")}>Play A2</Button>\n          <Button onClick={() => play(\"A4\")}>Play A4</Button>\n          <Button onClick={() => play(\"C3\")}>Play A3</Button>\n        </div>\n        <p>自制好听的旋律</p>\n        <Button onClick={start}>播放</Button>\n      </div>\n    </>\n  );\n};\n"],"names":["TriggerTone","play","note","Tone.isNote","synth","Tone.Synth","now","Tone.now","melody","playMelody","duration","Tone.Time","start","Tone.start","jsx","Fragment","jsxs","Button"],"mappings":"suBAGA,MAAAA,EAAe,IAAM,CACV,SAAAC,EAAKC,EAAO,KAAM,CACrB,GAAAC,EAAYD,CAAI,EAAG,CACrB,MAAME,EAAQ,IAAIC,IAAa,cAAc,EACvCC,EAAMC,EAAS,EACfH,EAAA,cAAcF,EAAMI,CAAG,EACvBF,EAAA,eAAeE,EAAM,EAAG,CAAA,CAChC,CAIF,MAAME,EAAS,CACb,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,EAC7B,CAAE,KAAM,KAAM,SAAU,IAAK,CAC/B,EAGA,SAASC,GAAa,CACpB,MAAML,EAAQ,IAAIC,IAAa,cAAc,EAEzC,IAAAC,EAAMC,EAAS,EACnBC,EAAO,QAAQ,CAAC,CAAE,KAAAN,EAAM,SAAAQ,KAAe,CAC/BN,EAAA,qBAAqBF,EAAMQ,EAAUJ,CAAG,EAC9CA,GAAOK,EAAUD,CAAQ,EAAE,UAAU,CAAA,CACtC,CAAA,CAGH,MAAME,EAAQ,SAAY,CACxB,MAAMC,EAAW,EACNJ,EAAA,CACb,EAGE,OAAAK,EAAAA,IAAAC,EAAAA,SAAA,CACE,gBAAC,MACC,CAAA,SAAA,CAAAD,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EACVE,EAAAA,KAAC,MAAI,CAAA,UAAU,sBACb,SAAA,CAAAF,MAACG,GAAO,QAAS,IAAMhB,EAAK,IAAI,EAAG,SAAO,UAAA,QACzCgB,EAAO,CAAA,QAAS,IAAMhB,EAAK,IAAI,EAAG,SAAO,UAAA,QACzCgB,EAAO,CAAA,QAAS,IAAMhB,EAAK,IAAI,EAAG,SAAO,UAAA,QACzCgB,EAAO,CAAA,QAAS,IAAMhB,EAAK,IAAI,EAAG,SAAO,UAAA,QACzCgB,EAAO,CAAA,QAAS,IAAMhB,EAAK,IAAI,EAAG,SAAO,SAAA,CAAA,CAAA,EAC5C,EACAa,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EACTA,EAAA,IAAAG,EAAA,CAAO,QAASL,EAAO,SAAE,IAAA,CAAA,CAAA,CAAA,CAC5B,CACF,CAAA,CAEJ"}