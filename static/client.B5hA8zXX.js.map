{"version":3,"file":"client.B5hA8zXX.js","sources":["../../src/components/vue/_app.ts","../../node_modules/.pnpm/@astrojs+vue@4.5.3_@types+node@20.17.47_astro@4.16.18_@types+node@20.17.47_lightningcss@1.30._nepf657oes26fxuxo3w6ee5gae/node_modules/@astrojs/vue/static-html.js","../../node_modules/.pnpm/@astrojs+vue@4.5.3_@types+node@20.17.47_astro@4.16.18_@types+node@20.17.47_lightningcss@1.30._nepf657oes26fxuxo3w6ee5gae/node_modules/@astrojs/vue/client.js"],"sourcesContent":["import type { App } from \"vue\";\nexport default (app: App) => {\n  app.config.performance = true;\n};\n","import { defineComponent, h } from 'vue';\n\n/**\n * Astro passes `children` as a string of HTML, so we need\n * a wrapper `div` to render that content as VNodes.\n *\n * This is the Vue + JSX equivalent of using `<div v-html=\"value\" />`\n */\nconst StaticHtml = defineComponent({\n\tprops: {\n\t\tvalue: String,\n\t\tname: String,\n\t\thydrate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tsetup({ name, value, hydrate }) {\n\t\tif (!value) return () => null;\n\t\tlet tagName = hydrate ? 'astro-slot' : 'astro-static-slot';\n\t\treturn () => h(tagName, { name, innerHTML: value });\n\t},\n});\n\n/**\n * Other frameworks have `shouldComponentUpdate` in order to signal\n * that this subtree is entirely static and will not be updated\n *\n * Fortunately, Vue is smart enough to figure that out without any\n * help from us, so this just works out of the box!\n */\n\nexport default StaticHtml;\n","import { setup } from 'virtual:@astrojs/vue/app';\nimport { Suspense, createApp, createSSRApp, h } from 'vue';\nimport StaticHtml from './static-html.js';\n\n// keep track of already initialized apps, so we don't hydrate again for view transitions\nlet appMap = new WeakMap();\n\nexport default (element) =>\n\tasync (Component, props, slotted, { client }) => {\n\t\tif (!element.hasAttribute('ssr')) return;\n\n\t\t// Expose name on host component for Vue devtools\n\t\tconst name = Component.name ? `${Component.name} Host` : undefined;\n\t\tconst slots = {};\n\t\tfor (const [key, value] of Object.entries(slotted)) {\n\t\t\tslots[key] = () => h(StaticHtml, { value, name: key === 'default' ? undefined : key });\n\t\t}\n\n\t\tconst isHydrate = client !== 'only';\n\t\tconst bootstrap = isHydrate ? createSSRApp : createApp;\n\n\t\t// keep a reference to the app, props and slots so we can update a running instance later\n\t\tlet appInstance = appMap.get(element);\n\n\t\tif (!appInstance) {\n\t\t\tappInstance = {\n\t\t\t\tprops,\n\t\t\t\tslots,\n\t\t\t};\n\t\t\tconst app = bootstrap({\n\t\t\t\tname,\n\t\t\t\trender() {\n\t\t\t\t\tlet content = h(Component, appInstance.props, appInstance.slots);\n\t\t\t\t\tappInstance.component = this;\n\t\t\t\t\t// related to https://github.com/withastro/astro/issues/6549\n\t\t\t\t\t// if the component is async, wrap it in a Suspense component\n\t\t\t\t\tif (isAsync(Component.setup)) {\n\t\t\t\t\t\tcontent = h(Suspense, null, content);\n\t\t\t\t\t}\n\t\t\t\t\treturn content;\n\t\t\t\t},\n\t\t\t});\n\t\t\tapp.config.idPrefix = element.getAttribute('prefix');\n\t\t\tawait setup(app);\n\t\t\tapp.mount(element, isHydrate);\n\t\t\tappMap.set(element, appInstance);\n\t\t\telement.addEventListener('astro:unmount', () => app.unmount(), { once: true });\n\t\t} else {\n\t\t\tappInstance.props = props;\n\t\t\tappInstance.slots = slots;\n\t\t\tappInstance.component.$forceUpdate();\n\t\t}\n\t};\n\nfunction isAsync(fn) {\n\tconst constructor = fn?.constructor;\n\treturn constructor && constructor.name === 'AsyncFunction';\n}\n"],"names":["_app","app","StaticHtml","defineComponent","name","value","hydrate","tagName","h","appMap","client","element","Component","props","slotted","slots","key","isHydrate","bootstrap","createSSRApp","createApp","appInstance","content","isAsync","Suspense","setup","fn","constructor"],"mappings":"yhBACA,MAAeA,EAACC,GAAa,CAC3BA,EAAI,OAAO,YAAc,EAC3B,gJCKMC,EAAaC,EAAgB,CAClC,MAAO,CACN,MAAO,OACP,KAAM,OACN,QAAS,CACR,KAAM,QACN,QAAS,EACT,CACD,EACD,MAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,CAAO,EAAI,CAC/B,GAAI,CAACD,EAAO,MAAO,IAAM,KACzB,IAAIE,EAAUD,EAAU,aAAe,oBACvC,MAAO,IAAME,EAAED,EAAS,CAAE,KAAAH,EAAM,UAAWC,EAAO,CAClD,CACF,CAAC,ECjBD,IAAII,EAAS,IAAI,QAEjB,MAAAC,EAAgBC,GACf,MAAOC,EAAWC,EAAOC,EAAS,CAAE,OAAAJ,CAAM,IAAO,CAChD,GAAI,CAACC,EAAQ,aAAa,KAAK,EAAG,OAGlC,MAAMP,EAAOQ,EAAU,KAAO,GAAGA,EAAU,IAAI,QAAU,OACnDG,EAAQ,CAAE,EAChB,SAAW,CAACC,EAAKX,CAAK,IAAK,OAAO,QAAQS,CAAO,EAChDC,EAAMC,CAAG,EAAI,IAAMR,EAAEN,EAAY,CAAE,MAAAG,EAAO,KAAMW,IAAQ,UAAY,OAAYA,CAAG,CAAE,EAGtF,MAAMC,EAAYP,IAAW,OACvBQ,EAAYD,EAAYE,EAAeC,EAG7C,IAAIC,EAAcZ,EAAO,IAAIE,CAAO,EAEpC,GAAKU,EAwBJA,EAAY,MAAQR,EACpBQ,EAAY,MAAQN,EACpBM,EAAY,UAAU,aAAc,MA1BnB,CACjBA,EAAc,CACb,MAAAR,EACA,MAAAE,CACA,EACD,MAAMd,EAAMiB,EAAU,CACrB,KAAAd,EACA,QAAS,CACR,IAAIkB,EAAUd,EAAEI,EAAWS,EAAY,MAAOA,EAAY,KAAK,EAC/D,OAAAA,EAAY,UAAY,KAGpBE,EAAQX,EAAU,KAAK,IAC1BU,EAAUd,EAAEgB,EAAU,KAAMF,CAAO,GAE7BA,CACP,CACL,CAAI,EACDrB,EAAI,OAAO,SAAWU,EAAQ,aAAa,QAAQ,EACnD,MAAMc,EAAMxB,CAAG,EACfA,EAAI,MAAMU,EAASM,CAAS,EAC5BR,EAAO,IAAIE,EAASU,CAAW,EAC/BV,EAAQ,iBAAiB,gBAAiB,IAAMV,EAAI,UAAW,CAAE,KAAM,GAAM,CAChF,CAKE,EAEF,SAASsB,EAAQG,EAAI,CACpB,MAAMC,EAAcD,GAAI,YACxB,OAAOC,GAAeA,EAAY,OAAS,eAC5C","x_google_ignoreList":[1,2]}