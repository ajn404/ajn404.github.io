{"version":3,"file":"zdog.B8mVttcG.js","sources":["../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/boilerplate.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/canvas-renderer.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/svg-renderer.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/vector.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/anchor.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/dragger.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/illustration.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/path-command.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/shape.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/group.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/rect.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/rounded-rect.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/ellipse.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/polygon.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/hemisphere.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/cylinder.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/cone.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/box.js","../../node_modules/.pnpm/zdog@1.1.3/node_modules/zdog/js/index.js","../../src/components/react/d3/fantastic/zdog.tsx"],"sourcesContent":["/*!\n * Zdog v1.1.3\n * Round, flat, designer-friendly pseudo-3D engine\n * Licensed MIT\n * https://zzz.dog\n * Copyright 2020 Metafizzy\n */\n\n/**\n * Boilerplate & utils\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog = factory();\n  }\n}( this, function factory() {\n\nvar Zdog = {};\n\nZdog.TAU = Math.PI * 2;\n\nZdog.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\nZdog.lerp = function( a, b, alpha ) {\n  return ( b - a ) * alpha + a;\n};\n\nZdog.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\nvar powerMultipliers = {\n  2: function( a ) {\n    return a * a;\n  },\n  3: function( a ) {\n    return a * a * a;\n  },\n  4: function( a ) {\n    return a * a * a * a;\n  },\n  5: function( a ) {\n    return a * a * a * a * a;\n  },\n};\n\nZdog.easeInOut = function( alpha, power ) {\n  if ( power == 1 ) {\n    return alpha;\n  }\n  alpha = Math.max( 0, Math.min( 1, alpha ) );\n  var isFirstHalf = alpha < 0.5;\n  var slope = isFirstHalf ? alpha : 1 - alpha;\n  slope /= 0.5;\n  // make easing steeper with more multiples\n  var powerMultiplier = powerMultipliers[ power ] || powerMultipliers[2];\n  var curve = powerMultiplier( slope );\n  curve /= 2;\n  return isFirstHalf ? curve : 1 - curve;\n};\n\nreturn Zdog;\n\n} ) );\n","/**\n * CanvasRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.CanvasRenderer = factory();\n  }\n}( this, function factory() {\n\nvar CanvasRenderer = { isCanvas: true };\n\nCanvasRenderer.begin = function( ctx ) {\n  ctx.beginPath();\n};\n\nCanvasRenderer.move = function( ctx, elem, point ) {\n  ctx.moveTo( point.x, point.y );\n};\n\nCanvasRenderer.line = function( ctx, elem, point ) {\n  ctx.lineTo( point.x, point.y );\n};\n\nCanvasRenderer.bezier = function( ctx, elem, cp0, cp1, end ) {\n  ctx.bezierCurveTo( cp0.x, cp0.y, cp1.x, cp1.y, end.x, end.y );\n};\n\nCanvasRenderer.closePath = function( ctx ) {\n  ctx.closePath();\n};\n\nCanvasRenderer.setPath = function() {};\n\nCanvasRenderer.renderPath = function( ctx, elem, pathCommands, isClosed ) {\n  this.begin( ctx, elem );\n  pathCommands.forEach( function( command ) {\n    command.render( ctx, elem, CanvasRenderer );\n  } );\n  if ( isClosed ) {\n    this.closePath( ctx, elem );\n  }\n};\n\nCanvasRenderer.stroke = function( ctx, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.stroke();\n};\n\nCanvasRenderer.fill = function( ctx, elem, isFill, color ) {\n  if ( !isFill ) {\n    return;\n  }\n  ctx.fillStyle = color;\n  ctx.fill();\n};\n\nCanvasRenderer.end = function() {};\n\nreturn CanvasRenderer;\n\n} ) );\n","/**\n * SvgRenderer\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.SvgRenderer = factory();\n  }\n}( this, function factory() {\n\nvar SvgRenderer = { isSvg: true };\n\n// round path coordinates to 3 decimals\nvar round = SvgRenderer.round = function( num ) {\n  return Math.round( num * 1000 ) / 1000;\n};\n\nfunction getPointString( point ) {\n  return round( point.x ) + ',' + round( point.y ) + ' ';\n}\n\nSvgRenderer.begin = function() {};\n\nSvgRenderer.move = function( svg, elem, point ) {\n  return 'M' + getPointString( point );\n};\n\nSvgRenderer.line = function( svg, elem, point ) {\n  return 'L' + getPointString( point );\n};\n\nSvgRenderer.bezier = function( svg, elem, cp0, cp1, end ) {\n  return 'C' + getPointString( cp0 ) + getPointString( cp1 ) +\n    getPointString( end );\n};\n\nSvgRenderer.closePath = function( /* elem */) {\n  return 'Z';\n};\n\nSvgRenderer.setPath = function( svg, elem, pathValue ) {\n  elem.setAttribute( 'd', pathValue );\n};\n\nSvgRenderer.renderPath = function( svg, elem, pathCommands, isClosed ) {\n  var pathValue = '';\n  pathCommands.forEach( function( command ) {\n    pathValue += command.render( svg, elem, SvgRenderer );\n  } );\n  if ( isClosed ) {\n    pathValue += this.closePath( svg, elem );\n  }\n  this.setPath( svg, elem, pathValue );\n};\n\nSvgRenderer.stroke = function( svg, elem, isStroke, color, lineWidth ) {\n  if ( !isStroke ) {\n    return;\n  }\n  elem.setAttribute( 'stroke', color );\n  elem.setAttribute( 'stroke-width', lineWidth );\n};\n\nSvgRenderer.fill = function( svg, elem, isFill, color ) {\n  var fillColor = isFill ? color : 'none';\n  elem.setAttribute( 'fill', fillColor );\n};\n\nSvgRenderer.end = function( svg, elem ) {\n  svg.appendChild( elem );\n};\n\nreturn SvgRenderer;\n\n} ) );\n","/**\n * Vector\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Vector = factory( Zdog );\n  }\n\n}( this, function factory( utils ) {\n\nfunction Vector( position ) {\n  this.set( position );\n}\n\nvar TAU = utils.TAU;\n\n// 'pos' = 'position'\nVector.prototype.set = function( pos ) {\n  this.x = pos && pos.x || 0;\n  this.y = pos && pos.y || 0;\n  this.z = pos && pos.z || 0;\n  return this;\n};\n\n// set coordinates without sanitizing\n// vec.write({ y: 2 }) only sets y coord\nVector.prototype.write = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x = pos.x != undefined ? pos.x : this.x;\n  this.y = pos.y != undefined ? pos.y : this.y;\n  this.z = pos.z != undefined ? pos.z : this.z;\n  return this;\n};\n\nVector.prototype.rotate = function( rotation ) {\n  if ( !rotation ) {\n    return;\n  }\n  this.rotateZ( rotation.z );\n  this.rotateY( rotation.y );\n  this.rotateX( rotation.x );\n  return this;\n};\n\nVector.prototype.rotateZ = function( angle ) {\n  rotateProperty( this, angle, 'x', 'y' );\n};\n\nVector.prototype.rotateX = function( angle ) {\n  rotateProperty( this, angle, 'y', 'z' );\n};\n\nVector.prototype.rotateY = function( angle ) {\n  rotateProperty( this, angle, 'x', 'z' );\n};\n\nfunction rotateProperty( vec, angle, propA, propB ) {\n  if ( !angle || angle % TAU === 0 ) {\n    return;\n  }\n  var cos = Math.cos( angle );\n  var sin = Math.sin( angle );\n  var a = vec[ propA ];\n  var b = vec[ propB ];\n  vec[ propA ] = a * cos - b * sin;\n  vec[ propB ] = b * cos + a * sin;\n}\n\nVector.prototype.isSame = function( pos ) {\n  if ( !pos ) {\n    return false;\n  }\n  return this.x === pos.x && this.y === pos.y && this.z === pos.z;\n};\n\nVector.prototype.add = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x += pos.x || 0;\n  this.y += pos.y || 0;\n  this.z += pos.z || 0;\n  return this;\n};\n\nVector.prototype.subtract = function( pos ) {\n  if ( !pos ) {\n    return this;\n  }\n  this.x -= pos.x || 0;\n  this.y -= pos.y || 0;\n  this.z -= pos.z || 0;\n  return this;\n};\n\nVector.prototype.multiply = function( pos ) {\n  if ( pos == undefined ) {\n    return this;\n  }\n  // multiple all values by same number\n  if ( typeof pos == 'number' ) {\n    this.x *= pos;\n    this.y *= pos;\n    this.z *= pos;\n  } else {\n    // multiply object\n    this.x *= pos.x != undefined ? pos.x : 1;\n    this.y *= pos.y != undefined ? pos.y : 1;\n    this.z *= pos.z != undefined ? pos.z : 1;\n  }\n  return this;\n};\n\nVector.prototype.transform = function( translation, rotation, scale ) {\n  this.multiply( scale );\n  this.rotate( rotation );\n  this.add( translation );\n  return this;\n};\n\nVector.prototype.lerp = function( pos, alpha ) {\n  this.x = utils.lerp( this.x, pos.x || 0, alpha );\n  this.y = utils.lerp( this.y, pos.y || 0, alpha );\n  this.z = utils.lerp( this.z, pos.z || 0, alpha );\n  return this;\n};\n\nVector.prototype.magnitude = function() {\n  var sum = this.x * this.x + this.y * this.y + this.z * this.z;\n  return getMagnitudeSqrt( sum );\n};\n\nfunction getMagnitudeSqrt( sum ) {\n  // PERF: check if sum ~= 1 and skip sqrt\n  if ( Math.abs( sum - 1 ) < 0.00000001 ) {\n    return 1;\n  }\n  return Math.sqrt( sum );\n}\n\nVector.prototype.magnitude2d = function() {\n  var sum = this.x * this.x + this.y * this.y;\n  return getMagnitudeSqrt( sum );\n};\n\nVector.prototype.copy = function() {\n  return new Vector( this );\n};\n\nreturn Vector;\n\n} ) );\n","/**\n * Anchor\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./canvas-renderer'), require('./svg-renderer') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Anchor = factory( Zdog, Zdog.Vector, Zdog.CanvasRenderer,\n        Zdog.SvgRenderer );\n  }\n}( this, function factory( utils, Vector, CanvasRenderer, SvgRenderer ) {\n\nvar TAU = utils.TAU;\nvar onePoint = { x: 1, y: 1, z: 1 };\n\nfunction Anchor( options ) {\n  this.create( options || {} );\n}\n\nAnchor.prototype.create = function( options ) {\n  this.children = [];\n  // set defaults & options\n  utils.extend( this, this.constructor.defaults );\n  this.setOptions( options );\n\n  // transform\n  this.translate = new Vector( options.translate );\n  this.rotate = new Vector( options.rotate );\n  this.scale = new Vector( onePoint ).multiply( this.scale );\n  // origin\n  this.origin = new Vector();\n  this.renderOrigin = new Vector();\n\n  if ( this.addTo ) {\n    this.addTo.addChild( this );\n  }\n};\n\nAnchor.defaults = {};\n\nAnchor.optionKeys = Object.keys( Anchor.defaults ).concat([\n  'rotate',\n  'translate',\n  'scale',\n  'addTo',\n]);\n\nAnchor.prototype.setOptions = function( options ) {\n  var optionKeys = this.constructor.optionKeys;\n\n  for ( var key in options ) {\n    if ( optionKeys.indexOf( key ) != -1 ) {\n      this[ key ] = options[ key ];\n    }\n  }\n};\n\nAnchor.prototype.addChild = function( shape ) {\n  if ( this.children.indexOf( shape ) != -1 ) {\n    return;\n  }\n  shape.remove(); // remove previous parent\n  shape.addTo = this; // keep parent reference\n  this.children.push( shape );\n};\n\nAnchor.prototype.removeChild = function( shape ) {\n  var index = this.children.indexOf( shape );\n  if ( index != -1 ) {\n    this.children.splice( index, 1 );\n  }\n};\n\nAnchor.prototype.remove = function() {\n  if ( this.addTo ) {\n    this.addTo.removeChild( this );\n  }\n};\n\n// ----- update ----- //\n\nAnchor.prototype.update = function() {\n  // update self\n  this.reset();\n  // update children\n  this.children.forEach( function( child ) {\n    child.update();\n  } );\n  this.transform( this.translate, this.rotate, this.scale );\n};\n\nAnchor.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n};\n\nAnchor.prototype.transform = function( translation, rotation, scale ) {\n  this.renderOrigin.transform( translation, rotation, scale );\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  } );\n};\n\nAnchor.prototype.updateGraph = function() {\n  this.update();\n  this.updateFlatGraph();\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n  } );\n  // z-sort\n  this.flatGraph.sort( Anchor.shapeSorter );\n};\n\nAnchor.shapeSorter = function( a, b ) {\n  return a.sortValue - b.sortValue;\n};\n\n// custom getter to check for flatGraph before using it\nObject.defineProperty( Anchor.prototype, 'flatGraph', {\n  get: function() {\n    if ( !this._flatGraph ) {\n      this.updateFlatGraph();\n    }\n    return this._flatGraph;\n  },\n  set: function( graph ) {\n    this._flatGraph = graph;\n  },\n} );\n\nAnchor.prototype.updateFlatGraph = function() {\n  this.flatGraph = this.getFlatGraph();\n};\n\n// return Array of self & all child graph items\nAnchor.prototype.getFlatGraph = function() {\n  var flatGraph = [ this ];\n  return this.addChildFlatGraph( flatGraph );\n};\n\nAnchor.prototype.addChildFlatGraph = function( flatGraph ) {\n  this.children.forEach( function( child ) {\n    var childFlatGraph = child.getFlatGraph();\n    Array.prototype.push.apply( flatGraph, childFlatGraph );\n  } );\n  return flatGraph;\n};\n\nAnchor.prototype.updateSortValue = function() {\n  this.sortValue = this.renderOrigin.z;\n};\n\n// ----- render ----- //\n\nAnchor.prototype.render = function() {};\n\n// TODO refactor out CanvasRenderer so its not a dependency within anchor.js\nAnchor.prototype.renderGraphCanvas = function( ctx ) {\n  if ( !ctx ) {\n    throw new Error( 'ctx is ' + ctx + '. ' +\n      'Canvas context required for render. Check .renderGraphCanvas( ctx ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, CanvasRenderer );\n  } );\n};\n\nAnchor.prototype.renderGraphSvg = function( svg ) {\n  if ( !svg ) {\n    throw new Error( 'svg is ' + svg + '. ' +\n      'SVG required for render. Check .renderGraphSvg( svg ).' );\n  }\n  this.flatGraph.forEach( function( item ) {\n    item.render( svg, SvgRenderer );\n  } );\n};\n\n// ----- misc ----- //\n\nAnchor.prototype.copy = function( options ) {\n  // copy options\n  var itemOptions = {};\n  var optionKeys = this.constructor.optionKeys;\n  optionKeys.forEach( function( key ) {\n    itemOptions[ key ] = this[ key ];\n  }, this );\n  // add set options\n  utils.extend( itemOptions, options );\n  var ItemClass = this.constructor;\n  return new ItemClass( itemOptions );\n};\n\nAnchor.prototype.copyGraph = function( options ) {\n  var clone = this.copy( options );\n  this.children.forEach( function( child ) {\n    child.copyGraph({\n      addTo: clone,\n    });\n  } );\n  return clone;\n};\n\nAnchor.prototype.normalizeRotate = function() {\n  this.rotate.x = utils.modulo( this.rotate.x, TAU );\n  this.rotate.y = utils.modulo( this.rotate.y, TAU );\n  this.rotate.z = utils.modulo( this.rotate.z, TAU );\n};\n\n// ----- subclass ----- //\n\nfunction getSubclass( Super ) {\n  return function( defaults ) {\n    // create constructor\n    function Item( options ) {\n      this.create( options || {} );\n    }\n\n    Item.prototype = Object.create( Super.prototype );\n    Item.prototype.constructor = Item;\n\n    Item.defaults = utils.extend( {}, Super.defaults );\n    utils.extend( Item.defaults, defaults );\n    // create optionKeys\n    Item.optionKeys = Super.optionKeys.slice( 0 );\n    // add defaults keys to optionKeys, dedupe\n    Object.keys( Item.defaults ).forEach( function( key ) {\n      if ( !Item.optionKeys.indexOf( key ) != 1 ) {\n        Item.optionKeys.push( key );\n      }\n    } );\n\n    Item.subclass = getSubclass( Item );\n\n    return Item;\n  };\n}\n\nAnchor.subclass = getSubclass( Anchor );\n\nreturn Anchor;\n\n} ) );\n","/**\n * Dragger\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    root.Zdog.Dragger = factory();\n  }\n}( this, function factory() {\n\n// quick & dirty drag event stuff\n// messes up if multiple pointers/touches\n\n// check for browser window #85\nvar hasWindow = typeof window != 'undefined';\n// event support, default to mouse events\nvar downEvent = 'mousedown';\nvar moveEvent = 'mousemove';\nvar upEvent = 'mouseup';\nif ( hasWindow ) {\n  if ( window.PointerEvent ) {\n    // PointerEvent, Chrome\n    downEvent = 'pointerdown';\n    moveEvent = 'pointermove';\n    upEvent = 'pointerup';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events, iOS Safari\n    downEvent = 'touchstart';\n    moveEvent = 'touchmove';\n    upEvent = 'touchend';\n  }\n}\n\nfunction noop() {}\n\nfunction Dragger( options ) {\n  this.create( options || {} );\n}\n\nDragger.prototype.create = function( options ) {\n  this.onDragStart = options.onDragStart || noop;\n  this.onDragMove = options.onDragMove || noop;\n  this.onDragEnd = options.onDragEnd || noop;\n\n  this.bindDrag( options.startElement );\n};\n\nDragger.prototype.bindDrag = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    return;\n  }\n  // disable browser gestures #53\n  element.style.touchAction = 'none';\n  element.addEventListener( downEvent, this );\n};\n\nDragger.prototype.getQueryElement = function( element ) {\n  if ( typeof element == 'string' ) {\n    // with string, query selector\n    element = document.querySelector( element );\n  }\n  return element;\n};\n\nDragger.prototype.handleEvent = function( event ) {\n  var method = this[ 'on' + event.type ];\n  if ( method ) {\n    method.call( this, event );\n  }\n};\n\nDragger.prototype.onmousedown =\nDragger.prototype.onpointerdown = function( event ) {\n  this.dragStart( event, event );\n};\n\nDragger.prototype.ontouchstart = function( event ) {\n  this.dragStart( event, event.changedTouches[0] );\n};\n\nDragger.prototype.dragStart = function( event, pointer ) {\n  event.preventDefault();\n  this.dragStartX = pointer.pageX;\n  this.dragStartY = pointer.pageY;\n  if ( hasWindow ) {\n    window.addEventListener( moveEvent, this );\n    window.addEventListener( upEvent, this );\n  }\n  this.onDragStart( pointer );\n};\n\nDragger.prototype.ontouchmove = function( event ) {\n  // HACK, moved touch may not be first\n  this.dragMove( event, event.changedTouches[0] );\n};\n\nDragger.prototype.onmousemove =\nDragger.prototype.onpointermove = function( event ) {\n  this.dragMove( event, event );\n};\n\nDragger.prototype.dragMove = function( event, pointer ) {\n  event.preventDefault();\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  this.onDragMove( pointer, moveX, moveY );\n};\n\nDragger.prototype.onmouseup =\nDragger.prototype.onpointerup =\nDragger.prototype.ontouchend =\nDragger.prototype.dragEnd = function( /* event */) {\n  window.removeEventListener( moveEvent, this );\n  window.removeEventListener( upEvent, this );\n  this.onDragEnd();\n};\n\nreturn Dragger;\n\n} ) );\n","/**\n * Illustration\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./anchor'),\n        require('./dragger') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Illustration = factory( Zdog, Zdog.Anchor, Zdog.Dragger );\n  }\n}( this, function factory( utils, Anchor, Dragger ) {\n\nfunction noop() {}\nvar TAU = utils.TAU;\n\nvar Illustration = Anchor.subclass({\n  element: undefined,\n  centered: true,\n  zoom: 1,\n  dragRotate: false,\n  resize: false,\n  onPrerender: noop,\n  onDragStart: noop,\n  onDragMove: noop,\n  onDragEnd: noop,\n  onResize: noop,\n});\n\nutils.extend( Illustration.prototype, Dragger.prototype );\n\nIllustration.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  Dragger.prototype.create.call( this, options );\n  this.setElement( this.element );\n  this.setDragRotate( this.dragRotate );\n  this.setResize( this.resize );\n};\n\nIllustration.prototype.setElement = function( element ) {\n  element = this.getQueryElement( element );\n  if ( !element ) {\n    throw new Error( 'Zdog.Illustration element required. Set to ' + element );\n  }\n\n  var nodeName = element.nodeName.toLowerCase();\n  if ( nodeName == 'canvas' ) {\n    this.setCanvas( element );\n  } else if ( nodeName == 'svg' ) {\n    this.setSvg( element );\n  }\n};\n\nIllustration.prototype.setSize = function( width, height ) {\n  width = Math.round( width );\n  height = Math.round( height );\n  if ( this.isCanvas ) {\n    this.setSizeCanvas( width, height );\n  } else if ( this.isSvg ) {\n    this.setSizeSvg( width, height );\n  }\n};\n\nIllustration.prototype.setResize = function( resize ) {\n  this.resize = resize;\n  // create resize event listener\n  if ( !this.resizeListener ) {\n    this.resizeListener = this.onWindowResize.bind( this );\n  }\n  // add/remove event listener\n  if ( resize ) {\n    window.addEventListener( 'resize', this.resizeListener );\n    this.onWindowResize();\n  } else {\n    window.removeEventListener( 'resize', this.resizeListener );\n  }\n};\n\n// TODO debounce this?\nIllustration.prototype.onWindowResize = function() {\n  this.setMeasuredSize();\n  this.onResize( this.width, this.height );\n};\n\nIllustration.prototype.setMeasuredSize = function() {\n  var width, height;\n  var isFullscreen = this.resize == 'fullscreen';\n  if ( isFullscreen ) {\n    width = window.innerWidth;\n    height = window.innerHeight;\n  } else {\n    var rect = this.element.getBoundingClientRect();\n    width = rect.width;\n    height = rect.height;\n  }\n  this.setSize( width, height );\n};\n\n// ----- render ----- //\n\nIllustration.prototype.renderGraph = function( item ) {\n  if ( this.isCanvas ) {\n    this.renderGraphCanvas( item );\n  } else if ( this.isSvg ) {\n    this.renderGraphSvg( item );\n  }\n};\n\n// combo method\nIllustration.prototype.updateRenderGraph = function( item ) {\n  this.updateGraph();\n  this.renderGraph( item );\n};\n\n// ----- canvas ----- //\n\nIllustration.prototype.setCanvas = function( element ) {\n  this.element = element;\n  this.isCanvas = true;\n  // update related properties\n  this.ctx = this.element.getContext('2d');\n  // set initial size\n  this.setSizeCanvas( element.width, element.height );\n};\n\nIllustration.prototype.setSizeCanvas = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  // up-rez for hi-DPI devices\n  var pixelRatio = this.pixelRatio = window.devicePixelRatio || 1;\n  this.element.width = this.canvasWidth = width * pixelRatio;\n  this.element.height = this.canvasHeight = height * pixelRatio;\n  var needsHighPixelRatioSizing = pixelRatio > 1 && !this.resize;\n  if ( needsHighPixelRatioSizing ) {\n    this.element.style.width = width + 'px';\n    this.element.style.height = height + 'px';\n  }\n};\n\nIllustration.prototype.renderGraphCanvas = function( item ) {\n  item = item || this;\n  this.prerenderCanvas();\n  Anchor.prototype.renderGraphCanvas.call( item, this.ctx );\n  this.postrenderCanvas();\n};\n\nIllustration.prototype.prerenderCanvas = function() {\n  var ctx = this.ctx;\n  ctx.lineCap = 'round';\n  ctx.lineJoin = 'round';\n  ctx.clearRect( 0, 0, this.canvasWidth, this.canvasHeight );\n  ctx.save();\n  if ( this.centered ) {\n    var centerX = this.width / 2 * this.pixelRatio;\n    var centerY = this.height / 2 * this.pixelRatio;\n    ctx.translate( centerX, centerY );\n  }\n  var scale = this.pixelRatio * this.zoom;\n  ctx.scale( scale, scale );\n  this.onPrerender( ctx );\n};\n\nIllustration.prototype.postrenderCanvas = function() {\n  this.ctx.restore();\n};\n\n// ----- svg ----- //\n\nIllustration.prototype.setSvg = function( element ) {\n  this.element = element;\n  this.isSvg = true;\n  this.pixelRatio = 1;\n  // set initial size from width & height attributes\n  var width = element.getAttribute('width');\n  var height = element.getAttribute('height');\n  this.setSizeSvg( width, height );\n};\n\nIllustration.prototype.setSizeSvg = function( width, height ) {\n  this.width = width;\n  this.height = height;\n  var viewWidth = width / this.zoom;\n  var viewHeight = height / this.zoom;\n  var viewX = this.centered ? -viewWidth/2 : 0;\n  var viewY = this.centered ? -viewHeight/2 : 0;\n  this.element.setAttribute( 'viewBox', viewX + ' ' + viewY + ' ' +\n    viewWidth + ' ' + viewHeight );\n  if ( this.resize ) {\n    // remove size attributes, let size be determined by viewbox\n    this.element.removeAttribute('width');\n    this.element.removeAttribute('height');\n  } else {\n    this.element.setAttribute( 'width', width );\n    this.element.setAttribute( 'height', height );\n  }\n};\n\nIllustration.prototype.renderGraphSvg = function( item ) {\n  item = item || this;\n  empty( this.element );\n  this.onPrerender( this.element );\n  Anchor.prototype.renderGraphSvg.call( item, this.element );\n};\n\nfunction empty( element ) {\n  while ( element.firstChild ) {\n    element.removeChild( element.firstChild );\n  }\n}\n\n// ----- drag ----- //\n\nIllustration.prototype.setDragRotate = function( item ) {\n  if ( !item ) {\n    return;\n  } else if ( item === true ) {\n    /* eslint consistent-this: \"off\" */\n    item = this;\n  }\n  this.dragRotate = item;\n\n  this.bindDrag( this.element );\n};\n\nIllustration.prototype.dragStart = function( /* event, pointer */) {\n  this.dragStartRX = this.dragRotate.rotate.x;\n  this.dragStartRY = this.dragRotate.rotate.y;\n  Dragger.prototype.dragStart.apply( this, arguments );\n};\n\nIllustration.prototype.dragMove = function( event, pointer ) {\n  var moveX = pointer.pageX - this.dragStartX;\n  var moveY = pointer.pageY - this.dragStartY;\n  var displaySize = Math.min( this.width, this.height );\n  var moveRY = moveX/displaySize * TAU;\n  var moveRX = moveY/displaySize * TAU;\n  this.dragRotate.rotate.x = this.dragStartRX - moveRX;\n  this.dragRotate.rotate.y = this.dragStartRY - moveRY;\n  Dragger.prototype.dragMove.apply( this, arguments );\n};\n\nreturn Illustration;\n\n} ) );\n","/**\n * PathCommand\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./vector') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.PathCommand = factory( Zdog.Vector );\n  }\n}( this, function factory( Vector ) {\n\nfunction PathCommand( method, points, previousPoint ) {\n  this.method = method;\n  this.points = points.map( mapVectorPoint );\n  this.renderPoints = points.map( mapNewVector );\n  this.previousPoint = previousPoint;\n  this.endRenderPoint = this.renderPoints[ this.renderPoints.length - 1 ];\n  // arc actions come with previous point & corner point\n  // but require bezier control points\n  if ( method == 'arc' ) {\n    this.controlPoints = [ new Vector(), new Vector() ];\n  }\n}\n\nfunction mapVectorPoint( point ) {\n  if ( point instanceof Vector ) {\n    return point;\n  } else {\n    return new Vector( point );\n  }\n}\n\nfunction mapNewVector( point ) {\n  return new Vector( point );\n}\n\nPathCommand.prototype.reset = function() {\n  // reset renderPoints back to orignal points position\n  var points = this.points;\n  this.renderPoints.forEach( function( renderPoint, i ) {\n    var point = points[i];\n    renderPoint.set( point );\n  } );\n};\n\nPathCommand.prototype.transform = function( translation, rotation, scale ) {\n  this.renderPoints.forEach( function( renderPoint ) {\n    renderPoint.transform( translation, rotation, scale );\n  } );\n};\n\nPathCommand.prototype.render = function( ctx, elem, renderer ) {\n  return this[ this.method ]( ctx, elem, renderer );\n};\n\nPathCommand.prototype.move = function( ctx, elem, renderer ) {\n  return renderer.move( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.line = function( ctx, elem, renderer ) {\n  return renderer.line( ctx, elem, this.renderPoints[0] );\n};\n\nPathCommand.prototype.bezier = function( ctx, elem, renderer ) {\n  var cp0 = this.renderPoints[0];\n  var cp1 = this.renderPoints[1];\n  var end = this.renderPoints[2];\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nvar arcHandleLength = 9/16;\n\nPathCommand.prototype.arc = function( ctx, elem, renderer ) {\n  var prev = this.previousPoint;\n  var corner = this.renderPoints[0];\n  var end = this.renderPoints[1];\n  var cp0 = this.controlPoints[0];\n  var cp1 = this.controlPoints[1];\n  cp0.set( prev ).lerp( corner, arcHandleLength );\n  cp1.set( end ).lerp( corner, arcHandleLength );\n  return renderer.bezier( ctx, elem, cp0, cp1, end );\n};\n\nreturn PathCommand;\n\n} ) );\n","/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./path-command'), require('./anchor') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Shape = factory( Zdog, Zdog.Vector, Zdog.PathCommand, Zdog.Anchor );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor ) {\n\nvar Shape = Anchor.subclass({\n  stroke: 1,\n  fill: false,\n  color: '#333',\n  closed: true,\n  visible: true,\n  path: [ {} ],\n  front: { z: 1 },\n  backface: true,\n});\n\nShape.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // front\n  this.front = new Vector( options.front || this.front );\n  this.renderFront = new Vector( this.front );\n  this.renderNormal = new Vector();\n};\n\nvar actionNames = [\n  'move',\n  'line',\n  'bezier',\n  'arc',\n];\n\nShape.prototype.updatePath = function() {\n  this.setPath();\n  this.updatePathCommands();\n};\n\n// place holder for Ellipse, Rect, etc.\nShape.prototype.setPath = function() {};\n\n// parse path into PathCommands\nShape.prototype.updatePathCommands = function() {\n  var previousPoint;\n  this.pathCommands = this.path.map( function( pathPart, i ) {\n    // pathPart can be just vector coordinates -> { x, y, z }\n    // or path instruction -> { arc: [ {x0,y0,z0}, {x1,y1,z1} ] }\n    var keys = Object.keys( pathPart );\n    var method = keys[0];\n    var points = pathPart[ method ];\n    // default to line if no instruction\n    var isInstruction = keys.length == 1 && actionNames.indexOf( method ) != -1;\n    if ( !isInstruction ) {\n      method = 'line';\n      points = pathPart;\n    }\n    // munge single-point methods like line & move without arrays\n    var isLineOrMove = method == 'line' || method == 'move';\n    var isPointsArray = Array.isArray( points );\n    if ( isLineOrMove && !isPointsArray ) {\n      points = [ points ];\n    }\n\n    // first action is always move\n    method = i === 0 ? 'move' : method;\n    // arcs require previous last point\n    var command = new PathCommand( method, points, previousPoint );\n    // update previousLastPoint\n    previousPoint = command.endRenderPoint;\n    return command;\n  } );\n};\n\n// ----- update ----- //\n\nShape.prototype.reset = function() {\n  this.renderOrigin.set( this.origin );\n  this.renderFront.set( this.front );\n  // reset command render points\n  this.pathCommands.forEach( function( command ) {\n    command.reset();\n  } );\n};\n\nShape.prototype.transform = function( translation, rotation, scale ) {\n  // calculate render points backface visibility & cone/hemisphere shapes\n  this.renderOrigin.transform( translation, rotation, scale );\n  this.renderFront.transform( translation, rotation, scale );\n  this.renderNormal.set( this.renderOrigin ).subtract( this.renderFront );\n  // transform points\n  this.pathCommands.forEach( function( command ) {\n    command.transform( translation, rotation, scale );\n  } );\n  // transform children\n  this.children.forEach( function( child ) {\n    child.transform( translation, rotation, scale );\n  } );\n};\n\nShape.prototype.updateSortValue = function() {\n  // sort by average z of all points\n  // def not geometrically correct, but works for me\n  var pointCount = this.pathCommands.length;\n  var firstPoint = this.pathCommands[0].endRenderPoint;\n  var lastPoint = this.pathCommands[ pointCount - 1 ].endRenderPoint;\n  // ignore the final point if self closing shape\n  var isSelfClosing = pointCount > 2 && firstPoint.isSame( lastPoint );\n  if ( isSelfClosing ) {\n    pointCount -= 1;\n  }\n\n  var sortValueTotal = 0;\n  for ( var i = 0; i < pointCount; i++ ) {\n    sortValueTotal += this.pathCommands[i].endRenderPoint.z;\n  }\n  this.sortValue = sortValueTotal/pointCount;\n};\n\n// ----- render ----- //\n\nShape.prototype.render = function( ctx, renderer ) {\n  var length = this.pathCommands.length;\n  if ( !this.visible || !length ) {\n    return;\n  }\n  // do not render if hiding backface\n  this.isFacingBack = this.renderNormal.z > 0;\n  if ( !this.backface && this.isFacingBack ) {\n    return;\n  }\n  if ( !renderer ) {\n    throw new Error( 'Zdog renderer required. Set to ' + renderer );\n  }\n  // render dot or path\n  var isDot = length == 1;\n  if ( renderer.isCanvas && isDot ) {\n    this.renderCanvasDot( ctx, renderer );\n  } else {\n    this.renderPath( ctx, renderer );\n  }\n};\n\nvar TAU = utils.TAU;\n// Safari does not render lines with no size, have to render circle instead\nShape.prototype.renderCanvasDot = function( ctx ) {\n  var lineWidth = this.getLineWidth();\n  if ( !lineWidth ) {\n    return;\n  }\n  ctx.fillStyle = this.getRenderColor();\n  var point = this.pathCommands[0].endRenderPoint;\n  ctx.beginPath();\n  var radius = lineWidth/2;\n  ctx.arc( point.x, point.y, radius, 0, TAU );\n  ctx.fill();\n};\n\nShape.prototype.getLineWidth = function() {\n  if ( !this.stroke ) {\n    return 0;\n  }\n  if ( this.stroke == true ) {\n    return 1;\n  }\n  return this.stroke;\n};\n\nShape.prototype.getRenderColor = function() {\n  // use backface color if applicable\n  var isBackfaceColor = typeof this.backface == 'string' && this.isFacingBack;\n  var color = isBackfaceColor ? this.backface : this.color;\n  return color;\n};\n\nShape.prototype.renderPath = function( ctx, renderer ) {\n  var elem = this.getRenderElement( ctx, renderer );\n  var isTwoPoints = this.pathCommands.length == 2 &&\n    this.pathCommands[1].method == 'line';\n  var isClosed = !isTwoPoints && this.closed;\n  var color = this.getRenderColor();\n\n  renderer.renderPath( ctx, elem, this.pathCommands, isClosed );\n  renderer.stroke( ctx, elem, this.stroke, color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nShape.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path' );\n    this.svgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.svgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.svgElement;\n};\n\nreturn Shape;\n\n} ) );\n","/**\n * Group\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./anchor') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Group = factory( Zdog.Anchor );\n  }\n}( this, function factory( Anchor ) {\n\nvar Group = Anchor.subclass({\n  updateSort: false,\n  visible: true,\n});\n\n// ----- update ----- //\n\nGroup.prototype.updateSortValue = function() {\n  var sortValueTotal = 0;\n  this.flatGraph.forEach( function( item ) {\n    item.updateSortValue();\n    sortValueTotal += item.sortValue;\n  } );\n  // average sort value of all points\n  // def not geometrically correct, but works for me\n  this.sortValue = sortValueTotal / this.flatGraph.length;\n\n  if ( this.updateSort ) {\n    this.flatGraph.sort( Anchor.shapeSorter );\n  }\n};\n\n// ----- render ----- //\n\nGroup.prototype.render = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n\n  this.flatGraph.forEach( function( item ) {\n    item.render( ctx, renderer );\n  } );\n};\n\n// actual group flatGraph only used inside group\nGroup.prototype.updateFlatGraph = function() {\n  // do not include self\n  var flatGraph = [];\n  this.flatGraph = this.addChildFlatGraph( flatGraph );\n};\n\n// do not include children, group handles rendering & sorting internally\nGroup.prototype.getFlatGraph = function() {\n  return [ this ];\n};\n\nreturn Group;\n\n} ) );\n","/**\n * Rect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Rect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar Rect = Shape.subclass({\n  width: 1,\n  height: 1,\n});\n\nRect.prototype.setPath = function() {\n  var x = this.width / 2;\n  var y = this.height / 2;\n  /* eslint key-spacing: \"off\" */\n  this.path = [\n    { x: -x, y: -y },\n    { x:  x, y: -y },\n    { x:  x, y:  y },\n    { x: -x, y:  y },\n  ];\n};\n\nreturn Rect;\n\n} ) );\n","/**\n * RoundedRect\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.RoundedRect = factory( Zdog.Shape );\n  }\n}( this, function factory( Shape ) {\n\nvar RoundedRect = Shape.subclass({\n  width: 1,\n  height: 1,\n  cornerRadius: 0.25,\n  closed: false,\n});\n\nRoundedRect.prototype.setPath = function() {\n  /* eslint\n     id-length: [ \"error\", { \"min\": 2, \"exceptions\": [ \"x\", \"y\" ] }],\n     key-spacing: \"off\" */\n  var xA = this.width / 2;\n  var yA = this.height / 2;\n  var shortSide = Math.min( xA, yA );\n  var cornerRadius = Math.min( this.cornerRadius, shortSide );\n  var xB = xA - cornerRadius;\n  var yB = yA - cornerRadius;\n  var path = [\n    // top right corner\n    { x: xB, y: -yA },\n    { arc: [\n      { x: xA, y: -yA },\n      { x: xA, y: -yB },\n    ] },\n  ];\n  // bottom right corner\n  if ( yB ) {\n    path.push({ x: xA, y: yB });\n  }\n  path.push({ arc: [\n    { x: xA, y:  yA },\n    { x: xB, y:  yA },\n  ] });\n  // bottom left corner\n  if ( xB ) {\n    path.push({ x: -xB, y: yA });\n  }\n  path.push({ arc: [\n    { x: -xA, y:  yA },\n    { x: -xA, y:  yB },\n  ] });\n  // top left corner\n  if ( yB ) {\n    path.push({ x: -xA, y: -yB });\n  }\n  path.push({ arc: [\n    { x: -xA, y: -yA },\n    { x: -xB, y: -yA },\n  ] });\n\n  // back to top right corner\n  if ( xB ) {\n    path.push({ x: xB, y: -yA });\n  }\n\n  this.path = path;\n};\n\nreturn RoundedRect;\n\n} ) );\n","/**\n * Ellipse\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Ellipse = factory( Zdog.Shape );\n  }\n\n}( this, function factory( Shape ) {\n\nvar Ellipse = Shape.subclass({\n  diameter: 1,\n  width: undefined,\n  height: undefined,\n  quarters: 4,\n  closed: false,\n});\n\nEllipse.prototype.setPath = function() {\n  var width = this.width != undefined ? this.width : this.diameter;\n  var height = this.height != undefined ? this.height : this.diameter;\n  var x = width/2;\n  var y = height/2;\n  this.path = [\n    { x: 0, y: -y },\n    { arc: [ // top right\n      { x: x, y: -y },\n      { x: x, y: 0 },\n    ] },\n  ];\n  // bottom right\n  if ( this.quarters > 1 ) {\n    this.path.push({ arc: [\n      { x: x, y: y },\n      { x: 0, y: y },\n    ] });\n  }\n  // bottom left\n  if ( this.quarters > 2 ) {\n    this.path.push({ arc: [\n      { x: -x, y: y },\n      { x: -x, y: 0 },\n    ] });\n  }\n  // top left\n  if ( this.quarters > 3 ) {\n    this.path.push({ arc: [\n      { x: -x, y: -y },\n      { x: 0, y: -y },\n    ] });\n  }\n};\n\nreturn Ellipse;\n\n} ) );\n","/**\n * Shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./shape') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Polygon = factory( Zdog, Zdog.Shape );\n  }\n}( this, function factory( utils, Shape ) {\n\nvar Polygon = Shape.subclass({\n  sides: 3,\n  radius: 0.5,\n});\n\nvar TAU = utils.TAU;\n\nPolygon.prototype.setPath = function() {\n  this.path = [];\n  for ( var i = 0; i < this.sides; i++ ) {\n    var theta = i / this.sides * TAU - TAU/4;\n    var x = Math.cos( theta ) * this.radius;\n    var y = Math.sin( theta ) * this.radius;\n    this.path.push({ x: x, y: y });\n  }\n};\n\nreturn Polygon;\n\n} ) );\n","/**\n * Hemisphere composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./anchor'), require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Hemisphere = factory( Zdog, Zdog.Vector, Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, Anchor, Ellipse ) {\n\nvar Hemisphere = Ellipse.subclass({\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nHemisphere.prototype.create = function( /* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.diameter / 2 },\n  });\n  // vector used for calculation\n  this.renderCentroid = new Vector();\n};\n\nHemisphere.prototype.updateSortValue = function() {\n  // centroid of hemisphere is 3/8 between origin and apex\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 3/8 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nHemisphere.prototype.render = function( ctx, renderer ) {\n  this.renderDome( ctx, renderer );\n  // call super\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nHemisphere.prototype.renderDome = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  var elem = this.getDomeRenderElement( ctx, renderer );\n  var contourAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x );\n  var domeRadius = this.diameter / 2 * this.renderNormal.magnitude();\n  var x = this.renderOrigin.x;\n  var y = this.renderOrigin.y;\n\n  if ( renderer.isCanvas ) {\n    // canvas\n    var startAngle = contourAngle + TAU/4;\n    var endAngle = contourAngle - TAU/4;\n    ctx.beginPath();\n    ctx.arc( x, y, domeRadius, startAngle, endAngle );\n  } else if ( renderer.isSvg ) {\n    // svg\n    contourAngle = ( contourAngle - TAU/4 ) / TAU * 360;\n    this.domeSvgElement.setAttribute( 'd', 'M ' + -domeRadius + ',0 A ' +\n        domeRadius + ',' + domeRadius + ' 0 0 1 ' + domeRadius + ',0' );\n    this.domeSvgElement.setAttribute( 'transform',\n        'translate(' + x + ',' + y + ' ) rotate(' + contourAngle + ')' );\n  }\n\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nHemisphere.prototype.getDomeRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.domeSvgElement ) {\n    // create svgElement\n    this.domeSvgElement = document.createElementNS( svgURI, 'path' );\n    this.domeSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.domeSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.domeSvgElement;\n};\n\nreturn Hemisphere;\n\n} ) );\n","/**\n * Cylinder composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'),\n        require('./path-command'), require('./shape'), require('./group'),\n        require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cylinder = factory( Zdog, Zdog.PathCommand, Zdog.Shape,\n        Zdog.Group, Zdog.Ellipse );\n  }\n}( this, function factory( utils, PathCommand, Shape, Group, Ellipse ) {\n\nfunction noop() {}\n\n// ----- CylinderGroup ----- //\n\nvar CylinderGroup = Group.subclass({\n  color: '#333',\n  updateSort: true,\n});\n\nCylinderGroup.prototype.create = function() {\n  Group.prototype.create.apply( this, arguments );\n  this.pathCommands = [\n    new PathCommand( 'move', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCylinderGroup.prototype.render = function( ctx, renderer ) {\n  this.renderCylinderSurface( ctx, renderer );\n  Group.prototype.render.apply( this, arguments );\n};\n\nCylinderGroup.prototype.renderCylinderSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  // render cylinder surface\n  var elem = this.getRenderElement( ctx, renderer );\n  var frontBase = this.frontBase;\n  var rearBase = this.rearBase;\n  var scale = frontBase.renderNormal.magnitude();\n  var strokeWidth = frontBase.diameter * scale + frontBase.getLineWidth();\n  // set path command render points\n  this.pathCommands[0].renderPoints[0].set( frontBase.renderOrigin );\n  this.pathCommands[1].renderPoints[0].set( rearBase.renderOrigin );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'butt'; // nice\n  }\n  renderer.renderPath( ctx, elem, this.pathCommands );\n  renderer.stroke( ctx, elem, true, this.color, strokeWidth );\n  renderer.end( ctx, elem );\n\n  if ( renderer.isCanvas ) {\n    ctx.lineCap = 'round'; // reset\n  }\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCylinderGroup.prototype.getRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.svgElement ) {\n    // create svgElement\n    this.svgElement = document.createElementNS( svgURI, 'path' );\n  }\n  return this.svgElement;\n};\n\n// prevent double-creation in parent.copyGraph()\n// only create in Cylinder.create()\nCylinderGroup.prototype.copyGraph = noop;\n\n// ----- CylinderEllipse ----- //\n\nvar CylinderEllipse = Ellipse.subclass();\n\nCylinderEllipse.prototype.copyGraph = noop;\n\n// ----- Cylinder ----- //\n\nvar Cylinder = Shape.subclass({\n  diameter: 1,\n  length: 1,\n  frontFace: undefined,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCylinder.prototype.create = function( /* options */) {\n  // call super\n  Shape.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  // CylinderGroup to render cylinder surface then bases\n  this.group = new CylinderGroup({\n    addTo: this,\n    color: this.color,\n    visible: this.visible,\n  });\n  var baseZ = this.length / 2;\n  var baseColor = this.backface || true;\n  // front outside base\n  this.frontBase = this.group.frontBase = new Ellipse({\n    addTo: this.group,\n    diameter: this.diameter,\n    translate: { z: baseZ },\n    rotate: { y: TAU/2 },\n    color: this.color,\n    stroke: this.stroke,\n    fill: this.fill,\n    backface: this.frontFace || baseColor,\n    visible: this.visible,\n  });\n  // back outside base\n  this.rearBase = this.group.rearBase = this.frontBase.copy({\n    translate: { z: -baseZ },\n    rotate: { y: 0 },\n    backface: baseColor,\n  });\n};\n\n// Cylinder shape does not render anything\nCylinder.prototype.render = function() {};\n\n// ----- set child properties ----- //\n\nvar childProperties = [ 'stroke', 'fill', 'color', 'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Cylinder.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      // set property on children\n      if ( this.frontBase ) {\n        this.frontBase[ property ] = value;\n        this.rearBase[ property ] = value;\n        this.group[ property ] = value;\n      }\n    },\n  } );\n} );\n\n// TODO child property setter for backface, frontBaseColor, & rearBaseColor\n\nreturn Cylinder;\n\n} ) );\n","/**\n * Cone composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./vector'),\n        require('./path-command'), require('./anchor'), require('./ellipse') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Cone = factory( Zdog, Zdog.Vector, Zdog.PathCommand,\n        Zdog.Anchor, Zdog.Ellipse );\n  }\n}( this, function factory( utils, Vector, PathCommand, Anchor, Ellipse ) {\n\nvar Cone = Ellipse.subclass({\n  length: 1,\n  fill: true,\n});\n\nvar TAU = utils.TAU;\n\nCone.prototype.create = function( /* options */) {\n  // call super\n  Ellipse.prototype.create.apply( this, arguments );\n  // composite shape, create child shapes\n  this.apex = new Anchor({\n    addTo: this,\n    translate: { z: this.length },\n  });\n\n  // vectors used for calculation\n  this.renderApex = new Vector();\n  this.renderCentroid = new Vector();\n  this.tangentA = new Vector();\n  this.tangentB = new Vector();\n\n  this.surfacePathCommands = [\n    new PathCommand( 'move', [ {} ] ), // points set in renderConeSurface\n    new PathCommand( 'line', [ {} ] ),\n    new PathCommand( 'line', [ {} ] ),\n  ];\n};\n\nCone.prototype.updateSortValue = function() {\n  // center of cone is one third of its length\n  this.renderCentroid.set( this.renderOrigin )\n    .lerp( this.apex.renderOrigin, 1/3 );\n  this.sortValue = this.renderCentroid.z;\n};\n\nCone.prototype.render = function( ctx, renderer ) {\n  this.renderConeSurface( ctx, renderer );\n  Ellipse.prototype.render.apply( this, arguments );\n};\n\nCone.prototype.renderConeSurface = function( ctx, renderer ) {\n  if ( !this.visible ) {\n    return;\n  }\n  this.renderApex.set( this.apex.renderOrigin )\n    .subtract( this.renderOrigin );\n\n  var scale = this.renderNormal.magnitude();\n  var apexDistance = this.renderApex.magnitude2d();\n  var normalDistance = this.renderNormal.magnitude2d();\n  // eccentricity\n  var eccenAngle = Math.acos( normalDistance/scale );\n  var eccen = Math.sin( eccenAngle );\n  var radius = this.diameter / 2 * scale;\n  // does apex extend beyond eclipse of face\n  var isApexVisible = radius * eccen < apexDistance;\n  if ( !isApexVisible ) {\n    return;\n  }\n  // update tangents\n  var apexAngle = Math.atan2( this.renderNormal.y, this.renderNormal.x ) +\n      TAU/2;\n  var projectLength = apexDistance/eccen;\n  var projectAngle = Math.acos( radius/projectLength );\n  // set tangent points\n  var tangentA = this.tangentA;\n  var tangentB = this.tangentB;\n\n  tangentA.x = Math.cos( projectAngle ) * radius * eccen;\n  tangentA.y = Math.sin( projectAngle ) * radius;\n\n  tangentB.set( this.tangentA );\n  tangentB.y *= -1;\n\n  tangentA.rotateZ( apexAngle );\n  tangentB.rotateZ( apexAngle );\n  tangentA.add( this.renderOrigin );\n  tangentB.add( this.renderOrigin );\n\n  this.setSurfaceRenderPoint( 0, tangentA );\n  this.setSurfaceRenderPoint( 1, this.apex.renderOrigin );\n  this.setSurfaceRenderPoint( 2, tangentB );\n\n  // render\n  var elem = this.getSurfaceRenderElement( ctx, renderer );\n  renderer.renderPath( ctx, elem, this.surfacePathCommands );\n  renderer.stroke( ctx, elem, this.stroke, this.color, this.getLineWidth() );\n  renderer.fill( ctx, elem, this.fill, this.color );\n  renderer.end( ctx, elem );\n};\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\nCone.prototype.getSurfaceRenderElement = function( ctx, renderer ) {\n  if ( !renderer.isSvg ) {\n    return;\n  }\n  if ( !this.surfaceSvgElement ) {\n    // create svgElement\n    this.surfaceSvgElement = document.createElementNS( svgURI, 'path' );\n    this.surfaceSvgElement.setAttribute( 'stroke-linecap', 'round' );\n    this.surfaceSvgElement.setAttribute( 'stroke-linejoin', 'round' );\n  }\n  return this.surfaceSvgElement;\n};\n\nCone.prototype.setSurfaceRenderPoint = function( index, point ) {\n  var renderPoint = this.surfacePathCommands[ index ].renderPoints[0];\n  renderPoint.set( point );\n};\n\nreturn Cone;\n\n} ) );\n","/**\n * Box composite shape\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory( require('./boilerplate'), require('./anchor'),\n        require('./shape'), require('./rect') );\n  } else {\n    // browser global\n    var Zdog = root.Zdog;\n    Zdog.Box = factory( Zdog, Zdog.Anchor, Zdog.Shape, Zdog.Rect );\n  }\n}( this, function factory( utils, Anchor, Shape, Rect ) {\n\n// ----- BoxRect ----- //\n\nvar BoxRect = Rect.subclass();\n// prevent double-creation in parent.copyGraph()\n// only create in Box.create()\nBoxRect.prototype.copyGraph = function() {};\n\n// ----- Box ----- //\n\nvar TAU = utils.TAU;\nvar faceNames = [\n  'frontFace',\n  'rearFace',\n  'leftFace',\n  'rightFace',\n  'topFace',\n  'bottomFace',\n];\n\nvar boxDefaults = utils.extend( {}, Shape.defaults );\ndelete boxDefaults.path;\nfaceNames.forEach( function( faceName ) {\n  boxDefaults[ faceName ] = true;\n} );\nutils.extend( boxDefaults, {\n  width: 1,\n  height: 1,\n  depth: 1,\n  fill: true,\n} );\n\nvar Box = Anchor.subclass( boxDefaults );\n\n/* eslint-disable no-self-assign */\nBox.prototype.create = function( options ) {\n  Anchor.prototype.create.call( this, options );\n  this.updatePath();\n  // HACK reset fill to trigger face setter\n  this.fill = this.fill;\n};\n\nBox.prototype.updatePath = function() {\n  // reset all faces to trigger setters\n  faceNames.forEach( function( faceName ) {\n    this[ faceName ] = this[ faceName ];\n  }, this );\n};\n/* eslint-enable no-self-assign */\n\nfaceNames.forEach( function( faceName ) {\n  var _faceName = '_' + faceName;\n  Object.defineProperty( Box.prototype, faceName, {\n    get: function() {\n      return this[ _faceName ];\n    },\n    set: function( value ) {\n      this[ _faceName ] = value;\n      this.setFace( faceName, value );\n    },\n  } );\n} );\n\nBox.prototype.setFace = function( faceName, value ) {\n  var rectProperty = faceName + 'Rect';\n  var rect = this[ rectProperty ];\n  // remove if false\n  if ( !value ) {\n    this.removeChild( rect );\n    return;\n  }\n  // update & add face\n  var options = this.getFaceOptions( faceName );\n  options.color = typeof value == 'string' ? value : this.color;\n\n  if ( rect ) {\n    // update previous\n    rect.setOptions( options );\n  } else {\n    // create new\n    rect = this[ rectProperty ] = new BoxRect( options );\n  }\n  rect.updatePath();\n  this.addChild( rect );\n};\n\nBox.prototype.getFaceOptions = function( faceName ) {\n  return {\n    frontFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: this.depth / 2 },\n    },\n    rearFace: {\n      width: this.width,\n      height: this.height,\n      translate: { z: -this.depth / 2 },\n      rotate: { y: TAU/2 },\n    },\n    leftFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: -this.width / 2 },\n      rotate: { y: -TAU/4 },\n    },\n    rightFace: {\n      width: this.depth,\n      height: this.height,\n      translate: { x: this.width / 2 },\n      rotate: { y: TAU/4 },\n    },\n    topFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: -this.height / 2 },\n      rotate: { x: -TAU/4 },\n    },\n    bottomFace: {\n      width: this.width,\n      height: this.depth,\n      translate: { y: this.height / 2 },\n      rotate: { x: TAU/4 },\n    },\n  }[ faceName ];\n};\n\n// ----- set face properties ----- //\n\nvar childProperties = [ 'color', 'stroke', 'fill', 'backface', 'front',\n  'visible' ];\nchildProperties.forEach( function( property ) {\n  // use proxy property for custom getter & setter\n  var _prop = '_' + property;\n  Object.defineProperty( Box.prototype, property, {\n    get: function() {\n      return this[ _prop ];\n    },\n    set: function( value ) {\n      this[ _prop ] = value;\n      faceNames.forEach( function( faceName ) {\n        var rect = this[ faceName + 'Rect' ];\n        var isFaceColor = typeof this[ faceName ] == 'string';\n        var isColorUnderwrite = property == 'color' && isFaceColor;\n        if ( rect && !isColorUnderwrite ) {\n          rect[ property ] = value;\n        }\n      }, this );\n    },\n  } );\n} );\n\nreturn Box;\n\n} ) );\n","/**\n * Index\n */\n\n( function( root, factory ) {\n  // module definition\n  if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('./boilerplate'),\n        require('./canvas-renderer'),\n        require('./svg-renderer'),\n        require('./vector'),\n        require('./anchor'),\n        require('./dragger'),\n        require('./illustration'),\n        require('./path-command'),\n        require('./shape'),\n        require('./group'),\n        require('./rect'),\n        require('./rounded-rect'),\n        require('./ellipse'),\n        require('./polygon'),\n        require('./hemisphere'),\n        require('./cylinder'),\n        require('./cone'),\n        require('./box')\n    );\n  } else if ( typeof define == 'function' && define.amd ) {\n    /* globals define */ // AMD\n    define( 'zdog', [], root.Zdog );\n  }\n/* eslint-disable max-params */\n} )( this, function factory( Zdog, CanvasRenderer, SvgRenderer, Vector, Anchor,\n    Dragger, Illustration, PathCommand, Shape, Group, Rect, RoundedRect,\n    Ellipse, Polygon, Hemisphere, Cylinder, Cone, Box ) {\n/* eslint-enable max-params */\n\n      Zdog.CanvasRenderer = CanvasRenderer;\n      Zdog.SvgRenderer = SvgRenderer;\n      Zdog.Vector = Vector;\n      Zdog.Anchor = Anchor;\n      Zdog.Dragger = Dragger;\n      Zdog.Illustration = Illustration;\n      Zdog.PathCommand = PathCommand;\n      Zdog.Shape = Shape;\n      Zdog.Group = Group;\n      Zdog.Rect = Rect;\n      Zdog.RoundedRect = RoundedRect;\n      Zdog.Ellipse = Ellipse;\n      Zdog.Polygon = Polygon;\n      Zdog.Hemisphere = Hemisphere;\n      Zdog.Cylinder = Cylinder;\n      Zdog.Cone = Cone;\n      Zdog.Box = Box;\n\n      return Zdog;\n} );\n","import React, { useEffect, useRef } from \"react\";\nimport Zdog from \"zdog\";\n\nexport default () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (canvasRef.current) {\n      const illo = new Zdog.Illustration({\n        element: canvasRef.current,\n        dragRotate: true,\n      });\n\n      const polygon = new Zdog.Polygon({\n        addTo: illo,\n        radius: 60,\n        sides: 5,\n        stroke: 20,\n        color: \"#EA0\",\n      });\n\n      const animate = () => {\n        polygon.rotate.y += 0.03;\n        illo.updateRenderGraph();\n        requestAnimationFrame(animate);\n      };\n\n      animate();\n    }\n  }, []);\n\n  return <canvas ref={canvasRef} width={300} height={300}></canvas>;\n};\n"],"names":["root","factory","module","this","Zdog","a","b","prop","alpha","num","div","powerMultipliers","power","isFirstHalf","slope","powerMultiplier","curve","CanvasRenderer","ctx","elem","point","cp0","cp1","end","pathCommands","isClosed","command","isStroke","color","lineWidth","isFill","SvgRenderer","round","getPointString","svg","pathValue","fillColor","require$$0","utils","Vector","position","TAU","pos","rotation","angle","rotateProperty","vec","propA","propB","cos","sin","translation","scale","sum","getMagnitudeSqrt","require$$1","require$$2","require$$3","onePoint","Anchor","options","optionKeys","key","shape","index","child","item","graph","flatGraph","childFlatGraph","itemOptions","ItemClass","clone","getSubclass","Super","defaults","Item","hasWindow","downEvent","moveEvent","upEvent","noop","Dragger","element","event","method","pointer","moveX","moveY","Illustration","nodeName","width","height","resize","isFullscreen","rect","pixelRatio","needsHighPixelRatioSizing","centerX","centerY","viewWidth","viewHeight","viewX","viewY","empty","displaySize","moveRY","moveRX","PathCommand","points","previousPoint","mapVectorPoint","mapNewVector","renderPoint","i","renderer","arcHandleLength","prev","corner","Shape","actionNames","pathPart","keys","isInstruction","isLineOrMove","isPointsArray","pointCount","firstPoint","lastPoint","isSelfClosing","sortValueTotal","length","isDot","radius","isBackfaceColor","isTwoPoints","svgURI","Group","Rect","x","y","RoundedRect","xA","yA","shortSide","cornerRadius","xB","yB","path","Ellipse","Polygon","theta","Hemisphere","contourAngle","domeRadius","startAngle","endAngle","require$$4","CylinderGroup","frontBase","rearBase","strokeWidth","CylinderEllipse","Cylinder","baseZ","baseColor","childProperties","property","_prop","value","Cone","apexDistance","normalDistance","eccenAngle","eccen","isApexVisible","apexAngle","projectLength","projectAngle","tangentA","tangentB","BoxRect","faceNames","boxDefaults","faceName","Box","_faceName","rectProperty","isFaceColor","isColorUnderwrite","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","zdog","canvasRef","useRef","useEffect","illo","polygon","animate"],"mappings":";;;;;;kDAYE,SAAUA,EAAMC,EAAU,CAEQC,EAAO,QAEvCA,EAAA,QAAiBD,EAAS,EAG1BD,EAAK,KAAOC,EAAS,CAEzB,GAAGE,EAAM,UAAmB,CAE5B,IAAIC,EAAO,CAAE,EAEbA,EAAK,IAAM,KAAK,GAAK,EAErBA,EAAK,OAAS,SAAUC,EAAGC,EAAI,CAC7B,QAAUC,KAAQD,EAChBD,EAAGE,CAAI,EAAKD,EAAGC,CAAM,EAEvB,OAAOF,CACR,EAEDD,EAAK,KAAO,SAAUC,EAAGC,EAAGE,EAAQ,CAClC,OAASF,EAAID,GAAMG,EAAQH,CAC5B,EAEDD,EAAK,OAAS,SAAUK,EAAKC,EAAM,CACjC,OAAWD,EAAMC,EAAQA,GAAQA,CAClC,EAED,IAAIC,EAAmB,CACrB,EAAG,SAAUN,EAAI,CACf,OAAOA,EAAIA,CACZ,EACD,EAAG,SAAUA,EAAI,CACf,OAAOA,EAAIA,EAAIA,CAChB,EACD,EAAG,SAAUA,EAAI,CACf,OAAOA,EAAIA,EAAIA,EAAIA,CACpB,EACD,EAAG,SAAUA,EAAI,CACf,OAAOA,EAAIA,EAAIA,EAAIA,EAAIA,CACxB,CACF,EAED,OAAAD,EAAK,UAAY,SAAUI,EAAOI,EAAQ,CACxC,GAAKA,GAAS,EACZ,OAAOJ,EAETA,EAAQ,KAAK,IAAK,EAAG,KAAK,IAAK,EAAGA,EAAS,EAC3C,IAAIK,EAAcL,EAAQ,GACtBM,EAAQD,EAAcL,EAAQ,EAAIA,EACtCM,GAAS,GAET,IAAIC,EAAkBJ,EAAkBC,CAAK,GAAMD,EAAiB,CAAC,EACjEK,EAAQD,EAAiBD,CAAO,EACpC,OAAAE,GAAS,EACFH,EAAcG,EAAQ,EAAIA,CAClC,EAEMZ,CAEP,iFCtEE,SAAUJ,EAAMC,EAAU,CAEQC,EAAO,QAEvCA,EAAA,QAAiBD,EAAS,EAG1BD,EAAK,KAAK,eAAiBC,EAAS,CAExC,GAAGE,EAAM,UAAmB,CAE5B,IAAIc,EAAiB,CAAE,SAAU,EAAM,EAEvC,OAAAA,EAAe,MAAQ,SAAUC,EAAM,CACrCA,EAAI,UAAW,CAChB,EAEDD,EAAe,KAAO,SAAUC,EAAKC,EAAMC,EAAQ,CACjDF,EAAI,OAAQE,EAAM,EAAGA,EAAM,CAAG,CAC/B,EAEDH,EAAe,KAAO,SAAUC,EAAKC,EAAMC,EAAQ,CACjDF,EAAI,OAAQE,EAAM,EAAGA,EAAM,CAAG,CAC/B,EAEDH,EAAe,OAAS,SAAUC,EAAKC,EAAME,EAAKC,EAAKC,EAAM,CAC3DL,EAAI,cAAeG,EAAI,EAAGA,EAAI,EAAGC,EAAI,EAAGA,EAAI,EAAGC,EAAI,EAAGA,EAAI,CAAG,CAC9D,EAEDN,EAAe,UAAY,SAAUC,EAAM,CACzCA,EAAI,UAAW,CAChB,EAEDD,EAAe,QAAU,UAAW,CAAE,EAEtCA,EAAe,WAAa,SAAUC,EAAKC,EAAMK,EAAcC,EAAW,CACxE,KAAK,MAAOP,EAAKC,CAAM,EACvBK,EAAa,QAAS,SAAUE,EAAU,CACxCA,EAAQ,OAAQR,EAAKC,EAAMF,CAAgB,CAC/C,CAAK,EACEQ,GACH,KAAK,UAAWP,EAAKC,CAAM,CAE9B,EAEDF,EAAe,OAAS,SAAUC,EAAKC,EAAMQ,EAAUC,EAAOC,EAAY,CAClEF,IAGNT,EAAI,YAAcU,EAClBV,EAAI,UAAYW,EAChBX,EAAI,OAAQ,EACb,EAEDD,EAAe,KAAO,SAAUC,EAAKC,EAAMW,EAAQF,EAAQ,CACnDE,IAGNZ,EAAI,UAAYU,EAChBV,EAAI,KAAM,EACX,EAEDD,EAAe,IAAM,UAAW,CAAE,EAE3BA,CAEP,iFClEE,SAAUjB,EAAMC,EAAU,CAEQC,EAAO,QAEvCA,EAAA,QAAiBD,EAAS,EAG1BD,EAAK,KAAK,YAAcC,EAAS,CAErC,GAAGE,EAAM,UAAmB,CAE5B,IAAI4B,EAAc,CAAE,MAAO,EAAM,EAG7BC,EAAQD,EAAY,MAAQ,SAAUtB,EAAM,CAC9C,OAAO,KAAK,MAAOA,EAAM,GAAM,EAAG,GACnC,EAED,SAASwB,EAAgBb,EAAQ,CAC/B,OAAOY,EAAOZ,EAAM,CAAG,EAAG,IAAMY,EAAOZ,EAAM,CAAC,EAAK,IAGrD,OAAAW,EAAY,MAAQ,UAAW,CAAE,EAEjCA,EAAY,KAAO,SAAUG,EAAKf,EAAMC,EAAQ,CAC9C,MAAO,IAAMa,EAAgBb,CAAO,CACrC,EAEDW,EAAY,KAAO,SAAUG,EAAKf,EAAMC,EAAQ,CAC9C,MAAO,IAAMa,EAAgBb,CAAO,CACrC,EAEDW,EAAY,OAAS,SAAUG,EAAKf,EAAME,EAAKC,EAAKC,EAAM,CACxD,MAAO,IAAMU,EAAgBZ,CAAG,EAAKY,EAAgBX,CAAK,EACxDW,EAAgBV,CAAK,CACxB,EAEDQ,EAAY,UAAY,UAAsB,CAC5C,MAAO,GACR,EAEDA,EAAY,QAAU,SAAUG,EAAKf,EAAMgB,EAAY,CACrDhB,EAAK,aAAc,IAAKgB,CAAW,CACpC,EAEDJ,EAAY,WAAa,SAAUG,EAAKf,EAAMK,EAAcC,EAAW,CACrE,IAAIU,EAAY,GAChBX,EAAa,QAAS,SAAUE,EAAU,CACxCS,GAAaT,EAAQ,OAAQQ,EAAKf,EAAMY,CAAa,CACzD,CAAK,EACEN,IACHU,GAAa,KAAK,UAAWD,EAAKf,CAAM,GAE1C,KAAK,QAASe,EAAKf,EAAMgB,CAAW,CACrC,EAEDJ,EAAY,OAAS,SAAUG,EAAKf,EAAMQ,EAAUC,EAAOC,EAAY,CAC/DF,IAGNR,EAAK,aAAc,SAAUS,CAAO,EACpCT,EAAK,aAAc,eAAgBU,CAAW,EAC/C,EAEDE,EAAY,KAAO,SAAUG,EAAKf,EAAMW,EAAQF,EAAQ,CACtD,IAAIQ,EAAYN,EAASF,EAAQ,OACjCT,EAAK,aAAc,OAAQiB,CAAW,CACvC,EAEDL,EAAY,IAAM,SAAUG,EAAKf,EAAO,CACtCe,EAAI,YAAaf,CAAM,CACxB,EAEMY,CAEP,mFC3EE,SAAU/B,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,GAA0B,MAC/C,CAEL,IAAIjC,EAAOJ,EAAK,KAChBI,EAAK,OAASH,EAASG,CAAM,EAGjC,GAAGD,EAAM,SAAkBmC,EAAQ,CAEnC,SAASC,EAAQC,EAAW,CAC1B,KAAK,IAAKA,CAAU,EAGtB,IAAIC,EAAMH,EAAM,IAGhBC,EAAO,UAAU,IAAM,SAAUG,EAAM,CACrC,YAAK,EAAIA,GAAOA,EAAI,GAAK,EACzB,KAAK,EAAIA,GAAOA,EAAI,GAAK,EACzB,KAAK,EAAIA,GAAOA,EAAI,GAAK,EAClB,IACR,EAIDH,EAAO,UAAU,MAAQ,SAAUG,EAAM,CACvC,OAAMA,GAGN,KAAK,EAAIA,EAAI,GAAK,KAAYA,EAAI,EAAI,KAAK,EAC3C,KAAK,EAAIA,EAAI,GAAK,KAAYA,EAAI,EAAI,KAAK,EAC3C,KAAK,EAAIA,EAAI,GAAK,KAAYA,EAAI,EAAI,KAAK,EACpC,MALE,IAMV,EAEDH,EAAO,UAAU,OAAS,SAAUI,EAAW,CAC7C,GAAMA,EAGN,YAAK,QAASA,EAAS,CAAG,EAC1B,KAAK,QAASA,EAAS,CAAG,EAC1B,KAAK,QAASA,EAAS,CAAG,EACnB,IACR,EAEDJ,EAAO,UAAU,QAAU,SAAUK,EAAQ,CAC3CC,EAAgB,KAAMD,EAAO,IAAK,GAAK,CACxC,EAEDL,EAAO,UAAU,QAAU,SAAUK,EAAQ,CAC3CC,EAAgB,KAAMD,EAAO,IAAK,GAAK,CACxC,EAEDL,EAAO,UAAU,QAAU,SAAUK,EAAQ,CAC3CC,EAAgB,KAAMD,EAAO,IAAK,GAAK,CACxC,EAED,SAASC,EAAgBC,EAAKF,EAAOG,EAAOC,EAAQ,CAClD,GAAK,GAACJ,GAASA,EAAQH,IAAQ,GAG/B,KAAIQ,EAAM,KAAK,IAAKL,CAAO,EACvBM,EAAM,KAAK,IAAKN,CAAO,EACvBvC,EAAIyC,EAAKC,CAAO,EAChBzC,EAAIwC,EAAKE,CAAO,EACpBF,EAAKC,CAAO,EAAG1C,EAAI4C,EAAM3C,EAAI4C,EAC7BJ,EAAKE,CAAO,EAAG1C,EAAI2C,EAAM5C,EAAI6C,GAG/BX,EAAO,UAAU,OAAS,SAAUG,EAAM,CACxC,OAAMA,EAGC,KAAK,IAAMA,EAAI,GAAK,KAAK,IAAMA,EAAI,GAAK,KAAK,IAAMA,EAAI,EAFrD,EAGV,EAEDH,EAAO,UAAU,IAAM,SAAUG,EAAM,CACrC,OAAMA,GAGN,KAAK,GAAKA,EAAI,GAAK,EACnB,KAAK,GAAKA,EAAI,GAAK,EACnB,KAAK,GAAKA,EAAI,GAAK,EACZ,MALE,IAMV,EAEDH,EAAO,UAAU,SAAW,SAAUG,EAAM,CAC1C,OAAMA,GAGN,KAAK,GAAKA,EAAI,GAAK,EACnB,KAAK,GAAKA,EAAI,GAAK,EACnB,KAAK,GAAKA,EAAI,GAAK,EACZ,MALE,IAMV,EAEDH,EAAO,UAAU,SAAW,SAAUG,EAAM,CAC1C,OAAKA,GAAO,KACH,MAGJ,OAAOA,GAAO,UACjB,KAAK,GAAKA,EACV,KAAK,GAAKA,EACV,KAAK,GAAKA,IAGV,KAAK,GAAKA,EAAI,GAAK,KAAYA,EAAI,EAAI,EACvC,KAAK,GAAKA,EAAI,GAAK,KAAYA,EAAI,EAAI,EACvC,KAAK,GAAKA,EAAI,GAAK,KAAYA,EAAI,EAAI,GAElC,KACR,EAEDH,EAAO,UAAU,UAAY,SAAUY,EAAaR,EAAUS,EAAQ,CACpE,YAAK,SAAUA,CAAO,EACtB,KAAK,OAAQT,CAAU,EACvB,KAAK,IAAKQ,CAAa,EAChB,IACR,EAEDZ,EAAO,UAAU,KAAO,SAAUG,EAAKlC,EAAQ,CAC7C,YAAK,EAAI8B,EAAM,KAAM,KAAK,EAAGI,EAAI,GAAK,EAAGlC,CAAO,EAChD,KAAK,EAAI8B,EAAM,KAAM,KAAK,EAAGI,EAAI,GAAK,EAAGlC,CAAO,EAChD,KAAK,EAAI8B,EAAM,KAAM,KAAK,EAAGI,EAAI,GAAK,EAAGlC,CAAO,EACzC,IACR,EAED+B,EAAO,UAAU,UAAY,UAAW,CACtC,IAAIc,EAAM,KAAK,EAAI,KAAK,EAAI,KAAK,EAAI,KAAK,EAAI,KAAK,EAAI,KAAK,EAC5D,OAAOC,EAAkBD,CAAK,CAC/B,EAED,SAASC,EAAkBD,EAAM,CAE/B,OAAK,KAAK,IAAKA,EAAM,CAAC,EAAK,KAClB,EAEF,KAAK,KAAMA,CAAK,EAGzB,OAAAd,EAAO,UAAU,YAAc,UAAW,CACxC,IAAIc,EAAM,KAAK,EAAI,KAAK,EAAI,KAAK,EAAI,KAAK,EAC1C,OAAOC,EAAkBD,CAAK,CAC/B,EAEDd,EAAO,UAAU,KAAO,UAAW,CACjC,OAAO,IAAIA,EAAQ,IAAM,CAC1B,EAEMA,CAEP,mFC5JE,SAAUvC,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,EAAA,EAA0BkB,EAAmB,EACnEC,GAA4B,EAAEC,IAA2B,MACxD,CAEL,IAAIrD,EAAOJ,EAAK,KAChBI,EAAK,OAASH,EAASG,EAAMA,EAAK,OAAQA,EAAK,eAC3CA,EAAK,WAAa,EAE1B,GAAGD,EAAM,SAAkBmC,EAAOC,EAAQtB,EAAgBc,EAAc,CAExE,IAAIU,EAAMH,EAAM,IACZoB,EAAW,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAG,EAEnC,SAASC,EAAQC,EAAU,CACzB,KAAK,OAAQA,GAAW,EAAI,EAG9BD,EAAO,UAAU,OAAS,SAAUC,EAAU,CAC5C,KAAK,SAAW,CAAE,EAElBtB,EAAM,OAAQ,KAAM,KAAK,YAAY,QAAU,EAC/C,KAAK,WAAYsB,CAAS,EAG1B,KAAK,UAAY,IAAIrB,EAAQqB,EAAQ,SAAW,EAChD,KAAK,OAAS,IAAIrB,EAAQqB,EAAQ,MAAQ,EAC1C,KAAK,MAAQ,IAAIrB,EAAQmB,CAAQ,EAAG,SAAU,KAAK,KAAO,EAE1D,KAAK,OAAS,IAAInB,EAClB,KAAK,aAAe,IAAIA,EAEnB,KAAK,OACR,KAAK,MAAM,SAAU,IAAM,CAE9B,EAEDoB,EAAO,SAAW,CAAE,EAEpBA,EAAO,WAAa,OAAO,KAAMA,EAAO,QAAU,EAAC,OAAO,CACxD,SACA,YACA,QACA,OACF,CAAC,EAEDA,EAAO,UAAU,WAAa,SAAUC,EAAU,CAChD,IAAIC,EAAa,KAAK,YAAY,WAElC,QAAUC,KAAOF,EACVC,EAAW,QAASC,CAAG,GAAM,KAChC,KAAMA,CAAG,EAAKF,EAASE,CAAK,EAGjC,EAEDH,EAAO,UAAU,SAAW,SAAUI,EAAQ,CACvC,KAAK,SAAS,QAASA,CAAK,GAAM,KAGvCA,EAAM,OAAM,EACZA,EAAM,MAAQ,KACd,KAAK,SAAS,KAAMA,CAAO,EAC5B,EAEDJ,EAAO,UAAU,YAAc,SAAUI,EAAQ,CAC/C,IAAIC,EAAQ,KAAK,SAAS,QAASD,CAAO,EACrCC,GAAS,IACZ,KAAK,SAAS,OAAQA,EAAO,CAAG,CAEnC,EAEDL,EAAO,UAAU,OAAS,UAAW,CAC9B,KAAK,OACR,KAAK,MAAM,YAAa,IAAM,CAEjC,EAIDA,EAAO,UAAU,OAAS,UAAW,CAEnC,KAAK,MAAO,EAEZ,KAAK,SAAS,QAAS,SAAUM,EAAQ,CACvCA,EAAM,OAAQ,CAClB,CAAK,EACH,KAAK,UAAW,KAAK,UAAW,KAAK,OAAQ,KAAK,KAAO,CAC1D,EAEDN,EAAO,UAAU,MAAQ,UAAW,CAClC,KAAK,aAAa,IAAK,KAAK,MAAQ,CACrC,EAEDA,EAAO,UAAU,UAAY,SAAUR,EAAaR,EAAUS,EAAQ,CACpE,KAAK,aAAa,UAAWD,EAAaR,EAAUS,CAAO,EAE3D,KAAK,SAAS,QAAS,SAAUa,EAAQ,CACvCA,EAAM,UAAWd,EAAaR,EAAUS,CAAO,CACnD,CAAK,CACJ,EAEDO,EAAO,UAAU,YAAc,UAAW,CACxC,KAAK,OAAQ,EACb,KAAK,gBAAiB,EACtB,KAAK,UAAU,QAAS,SAAUO,EAAO,CACvCA,EAAK,gBAAiB,CAC1B,CAAK,EAEH,KAAK,UAAU,KAAMP,EAAO,WAAa,CAC1C,EAEDA,EAAO,YAAc,SAAUtD,EAAGC,EAAI,CACpC,OAAOD,EAAE,UAAYC,EAAE,SACxB,EAGD,OAAO,eAAgBqD,EAAO,UAAW,YAAa,CACpD,IAAK,UAAW,CACd,OAAM,KAAK,YACT,KAAK,gBAAiB,EAEjB,KAAK,UACb,EACD,IAAK,SAAUQ,EAAQ,CACrB,KAAK,WAAaA,CACnB,CACH,CAAG,EAEHR,EAAO,UAAU,gBAAkB,UAAW,CAC5C,KAAK,UAAY,KAAK,aAAc,CACrC,EAGDA,EAAO,UAAU,aAAe,UAAW,CACzC,IAAIS,EAAY,CAAE,IAAM,EACxB,OAAO,KAAK,kBAAmBA,CAAW,CAC3C,EAEDT,EAAO,UAAU,kBAAoB,SAAUS,EAAY,CACzD,YAAK,SAAS,QAAS,SAAUH,EAAQ,CACvC,IAAII,EAAiBJ,EAAM,aAAc,EACzC,MAAM,UAAU,KAAK,MAAOG,EAAWC,CAAgB,CAC3D,CAAK,EACID,CACR,EAEDT,EAAO,UAAU,gBAAkB,UAAW,CAC5C,KAAK,UAAY,KAAK,aAAa,CACpC,EAIDA,EAAO,UAAU,OAAS,UAAW,CAAE,EAGvCA,EAAO,UAAU,kBAAoB,SAAUzC,EAAM,CACnD,GAAK,CAACA,EACJ,MAAM,IAAI,MAAO,UAAYA,EAAM,wEACuC,EAE5E,KAAK,UAAU,QAAS,SAAUgD,EAAO,CACvCA,EAAK,OAAQhD,EAAKD,CAAgB,CACtC,CAAK,CACJ,EAED0C,EAAO,UAAU,eAAiB,SAAUzB,EAAM,CAChD,GAAK,CAACA,EACJ,MAAM,IAAI,MAAO,UAAYA,EAAM,0DACyB,EAE9D,KAAK,UAAU,QAAS,SAAUgC,EAAO,CACvCA,EAAK,OAAQhC,EAAKH,CAAa,CACnC,CAAK,CACJ,EAID4B,EAAO,UAAU,KAAO,SAAUC,EAAU,CAE1C,IAAIU,EAAc,CAAE,EAChBT,EAAa,KAAK,YAAY,WAClCA,EAAW,QAAS,SAAUC,EAAM,CAClCQ,EAAaR,CAAG,EAAK,KAAMA,CAAK,CACjC,EAAE,IAAM,EAETxB,EAAM,OAAQgC,EAAaV,CAAS,EACpC,IAAIW,EAAY,KAAK,YACrB,OAAO,IAAIA,EAAWD,CAAa,CACpC,EAEDX,EAAO,UAAU,UAAY,SAAUC,EAAU,CAC/C,IAAIY,EAAQ,KAAK,KAAMZ,CAAS,EAChC,YAAK,SAAS,QAAS,SAAUK,EAAQ,CACvCA,EAAM,UAAU,CACd,MAAOO,CACb,CAAK,CACL,CAAK,EACIA,CACR,EAEDb,EAAO,UAAU,gBAAkB,UAAW,CAC5C,KAAK,OAAO,EAAIrB,EAAM,OAAQ,KAAK,OAAO,EAAGG,CAAK,EAClD,KAAK,OAAO,EAAIH,EAAM,OAAQ,KAAK,OAAO,EAAGG,CAAK,EAClD,KAAK,OAAO,EAAIH,EAAM,OAAQ,KAAK,OAAO,EAAGG,CAAK,CACnD,EAID,SAASgC,EAAaC,EAAQ,CAC5B,OAAO,SAAUC,EAAW,CAE1B,SAASC,EAAMhB,EAAU,CACvB,KAAK,OAAQA,GAAW,EAAI,EAG9B,OAAAgB,EAAK,UAAY,OAAO,OAAQF,EAAM,SAAW,EACjDE,EAAK,UAAU,YAAcA,EAE7BA,EAAK,SAAWtC,EAAM,OAAQ,CAAE,EAAEoC,EAAM,QAAU,EAClDpC,EAAM,OAAQsC,EAAK,SAAUD,CAAU,EAEvCC,EAAK,WAAaF,EAAM,WAAW,MAAO,CAAG,EAE7C,OAAO,KAAME,EAAK,QAAQ,EAAG,QAAS,SAAUd,EAAM,CAC/C,CAACc,EAAK,WAAW,QAASd,CAAG,GAAM,GACtCc,EAAK,WAAW,KAAMd,CAAK,CAEnC,CAAO,EAEHc,EAAK,SAAWH,EAAaG,CAAM,EAE5BA,CACR,EAGH,OAAAjB,EAAO,SAAWc,EAAad,CAAQ,EAEhCA,CAEP,oFCnPE,SAAU3D,EAAMC,EAAU,CAEQC,EAAO,QAEvCA,EAAA,QAAiBD,EAAS,EAG1BD,EAAK,KAAK,QAAUC,EAAS,CAEjC,GAAGE,EAAM,UAAmB,CAM5B,IAAI0E,EAAY,OAAO,OAAU,IAE7BC,EAAY,YACZC,EAAY,YACZC,EAAU,UACTH,IACE,OAAO,cAEVC,EAAY,cACZC,EAAY,cACZC,EAAU,aACA,iBAAkB,SAE5BF,EAAY,aACZC,EAAY,YACZC,EAAU,aAId,SAASC,GAAO,CAAA,CAEhB,SAASC,EAAStB,EAAU,CAC1B,KAAK,OAAQA,GAAW,EAAI,EAG9B,OAAAsB,EAAQ,UAAU,OAAS,SAAUtB,EAAU,CAC7C,KAAK,YAAcA,EAAQ,aAAeqB,EAC1C,KAAK,WAAarB,EAAQ,YAAcqB,EACxC,KAAK,UAAYrB,EAAQ,WAAaqB,EAEtC,KAAK,SAAUrB,EAAQ,YAAc,CACtC,EAEDsB,EAAQ,UAAU,SAAW,SAAUC,EAAU,CAC/CA,EAAU,KAAK,gBAAiBA,CAAS,EACnCA,IAINA,EAAQ,MAAM,YAAc,OAC5BA,EAAQ,iBAAkBL,EAAW,IAAM,EAC5C,EAEDI,EAAQ,UAAU,gBAAkB,SAAUC,EAAU,CACtD,OAAK,OAAOA,GAAW,WAErBA,EAAU,SAAS,cAAeA,CAAS,GAEtCA,CACR,EAEDD,EAAQ,UAAU,YAAc,SAAUE,EAAQ,CAChD,IAAIC,EAAS,KAAM,KAAOD,EAAM,IAAM,EACjCC,GACHA,EAAO,KAAM,KAAMD,CAAO,CAE7B,EAEDF,EAAQ,UAAU,YAClBA,EAAQ,UAAU,cAAgB,SAAUE,EAAQ,CAClD,KAAK,UAAWA,EAAOA,CAAO,CAC/B,EAEDF,EAAQ,UAAU,aAAe,SAAUE,EAAQ,CACjD,KAAK,UAAWA,EAAOA,EAAM,eAAe,CAAC,CAAG,CACjD,EAEDF,EAAQ,UAAU,UAAY,SAAUE,EAAOE,EAAU,CACvDF,EAAM,eAAgB,EACtB,KAAK,WAAaE,EAAQ,MAC1B,KAAK,WAAaA,EAAQ,MACrBT,IACH,OAAO,iBAAkBE,EAAW,IAAM,EAC1C,OAAO,iBAAkBC,EAAS,IAAM,GAE1C,KAAK,YAAaM,CAAS,CAC5B,EAEDJ,EAAQ,UAAU,YAAc,SAAUE,EAAQ,CAEhD,KAAK,SAAUA,EAAOA,EAAM,eAAe,CAAC,CAAG,CAChD,EAEDF,EAAQ,UAAU,YAClBA,EAAQ,UAAU,cAAgB,SAAUE,EAAQ,CAClD,KAAK,SAAUA,EAAOA,CAAO,CAC9B,EAEDF,EAAQ,UAAU,SAAW,SAAUE,EAAOE,EAAU,CACtDF,EAAM,eAAgB,EACtB,IAAIG,EAAQD,EAAQ,MAAQ,KAAK,WAC7BE,EAAQF,EAAQ,MAAQ,KAAK,WACjC,KAAK,WAAYA,EAASC,EAAOC,CAAO,CACzC,EAEDN,EAAQ,UAAU,UAClBA,EAAQ,UAAU,YAClBA,EAAQ,UAAU,WAClBA,EAAQ,UAAU,QAAU,UAAuB,CACjD,OAAO,oBAAqBH,EAAW,IAAM,EAC7C,OAAO,oBAAqBC,EAAS,IAAM,EAC3C,KAAK,UAAW,CACjB,EAEME,CAEP,oFCzHE,SAAUlF,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,EAAA,EAA0BkB,EAAmB,EACnEC,IAAsB,MACrB,CAEL,IAAIpD,EAAOJ,EAAK,KAChBI,EAAK,aAAeH,EAASG,EAAMA,EAAK,OAAQA,EAAK,OAAS,EAEjE,GAAED,EAAM,SAAkBmC,EAAOqB,EAAQuB,EAAU,CAEpD,SAASD,GAAO,CAAA,CAChB,IAAIxC,EAAMH,EAAM,IAEZmD,EAAe9B,EAAO,SAAS,CACjC,QAAS,OACT,SAAU,GACV,KAAM,EACN,WAAY,GACZ,OAAQ,GACR,YAAasB,EACb,YAAaA,EACb,WAAYA,EACZ,UAAWA,EACX,SAAUA,CACZ,CAAC,EAED3C,EAAM,OAAQmD,EAAa,UAAWP,EAAQ,SAAW,EAEzDO,EAAa,UAAU,OAAS,SAAU7B,EAAU,CAClDD,EAAO,UAAU,OAAO,KAAM,KAAMC,CAAS,EAC7CsB,EAAQ,UAAU,OAAO,KAAM,KAAMtB,CAAS,EAC9C,KAAK,WAAY,KAAK,OAAS,EAC/B,KAAK,cAAe,KAAK,UAAY,EACrC,KAAK,UAAW,KAAK,MAAQ,CAC9B,EAED6B,EAAa,UAAU,WAAa,SAAUN,EAAU,CAEtD,GADAA,EAAU,KAAK,gBAAiBA,CAAS,EACpC,CAACA,EACJ,MAAM,IAAI,MAAO,8CAAgDA,CAAS,EAG5E,IAAIO,EAAWP,EAAQ,SAAS,YAAa,EACxCO,GAAY,SACf,KAAK,UAAWP,CAAS,EACfO,GAAY,OACtB,KAAK,OAAQP,CAAS,CAEzB,EAEDM,EAAa,UAAU,QAAU,SAAUE,EAAOC,EAAS,CACzDD,EAAQ,KAAK,MAAOA,CAAO,EAC3BC,EAAS,KAAK,MAAOA,CAAQ,EACxB,KAAK,SACR,KAAK,cAAeD,EAAOC,CAAQ,EACzB,KAAK,OACf,KAAK,WAAYD,EAAOC,CAAQ,CAEnC,EAEDH,EAAa,UAAU,UAAY,SAAUI,EAAS,CACpD,KAAK,OAASA,EAER,KAAK,iBACT,KAAK,eAAiB,KAAK,eAAe,KAAM,IAAM,GAGnDA,GACH,OAAO,iBAAkB,SAAU,KAAK,cAAgB,EACxD,KAAK,eAAgB,GAErB,OAAO,oBAAqB,SAAU,KAAK,cAAgB,CAE9D,EAGDJ,EAAa,UAAU,eAAiB,UAAW,CACjD,KAAK,gBAAiB,EACtB,KAAK,SAAU,KAAK,MAAO,KAAK,MAAQ,CACzC,EAEDA,EAAa,UAAU,gBAAkB,UAAW,CAClD,IAAIE,EAAOC,EACPE,EAAe,KAAK,QAAU,aAClC,GAAKA,EACHH,EAAQ,OAAO,WACfC,EAAS,OAAO,gBACX,CACL,IAAIG,EAAO,KAAK,QAAQ,sBAAuB,EAC/CJ,EAAQI,EAAK,MACbH,EAASG,EAAK,OAEhB,KAAK,QAASJ,EAAOC,CAAQ,CAC9B,EAIDH,EAAa,UAAU,YAAc,SAAUvB,EAAO,CAC/C,KAAK,SACR,KAAK,kBAAmBA,CAAM,EACpB,KAAK,OACf,KAAK,eAAgBA,CAAM,CAE9B,EAGDuB,EAAa,UAAU,kBAAoB,SAAUvB,EAAO,CAC1D,KAAK,YAAa,EAClB,KAAK,YAAaA,CAAM,CACzB,EAIDuB,EAAa,UAAU,UAAY,SAAUN,EAAU,CACrD,KAAK,QAAUA,EACf,KAAK,SAAW,GAEhB,KAAK,IAAM,KAAK,QAAQ,WAAW,IAAI,EAEvC,KAAK,cAAeA,EAAQ,MAAOA,EAAQ,MAAQ,CACpD,EAEDM,EAAa,UAAU,cAAgB,SAAUE,EAAOC,EAAS,CAC/D,KAAK,MAAQD,EACb,KAAK,OAASC,EAEd,IAAII,EAAa,KAAK,WAAa,OAAO,kBAAoB,EAC9D,KAAK,QAAQ,MAAQ,KAAK,YAAcL,EAAQK,EAChD,KAAK,QAAQ,OAAS,KAAK,aAAeJ,EAASI,EACnD,IAAIC,EAA4BD,EAAa,GAAK,CAAC,KAAK,OACnDC,IACH,KAAK,QAAQ,MAAM,MAAQN,EAAQ,KACnC,KAAK,QAAQ,MAAM,OAASC,EAAS,KAExC,EAEDH,EAAa,UAAU,kBAAoB,SAAUvB,EAAO,CAC1DA,EAAOA,GAAQ,KACf,KAAK,gBAAiB,EACtBP,EAAO,UAAU,kBAAkB,KAAMO,EAAM,KAAK,GAAK,EACzD,KAAK,iBAAkB,CACxB,EAEDuB,EAAa,UAAU,gBAAkB,UAAW,CAClD,IAAIvE,EAAM,KAAK,IAKf,GAJAA,EAAI,QAAU,QACdA,EAAI,SAAW,QACfA,EAAI,UAAW,EAAG,EAAG,KAAK,YAAa,KAAK,YAAc,EAC1DA,EAAI,KAAM,EACL,KAAK,SAAW,CACnB,IAAIgF,EAAU,KAAK,MAAQ,EAAI,KAAK,WAChCC,EAAU,KAAK,OAAS,EAAI,KAAK,WACrCjF,EAAI,UAAWgF,EAASC,CAAS,EAEnC,IAAI/C,EAAQ,KAAK,WAAa,KAAK,KACnClC,EAAI,MAAOkC,EAAOA,CAAO,EACzB,KAAK,YAAalC,CAAK,CACxB,EAEDuE,EAAa,UAAU,iBAAmB,UAAW,CACnD,KAAK,IAAI,QAAS,CACnB,EAIDA,EAAa,UAAU,OAAS,SAAUN,EAAU,CAClD,KAAK,QAAUA,EACf,KAAK,MAAQ,GACb,KAAK,WAAa,EAElB,IAAIQ,EAAQR,EAAQ,aAAa,OAAO,EACpCS,EAAST,EAAQ,aAAa,QAAQ,EAC1C,KAAK,WAAYQ,EAAOC,CAAQ,CACjC,EAEDH,EAAa,UAAU,WAAa,SAAUE,EAAOC,EAAS,CAC5D,KAAK,MAAQD,EACb,KAAK,OAASC,EACd,IAAIQ,EAAYT,EAAQ,KAAK,KACzBU,EAAaT,EAAS,KAAK,KAC3BU,EAAQ,KAAK,SAAW,CAACF,EAAU,EAAI,EACvCG,EAAQ,KAAK,SAAW,CAACF,EAAW,EAAI,EAC5C,KAAK,QAAQ,aAAc,UAAWC,EAAQ,IAAMC,EAAQ,IAC1DH,EAAY,IAAMC,CAAY,EAC3B,KAAK,QAER,KAAK,QAAQ,gBAAgB,OAAO,EACpC,KAAK,QAAQ,gBAAgB,QAAQ,IAErC,KAAK,QAAQ,aAAc,QAASV,CAAO,EAC3C,KAAK,QAAQ,aAAc,SAAUC,CAAQ,EAEhD,EAEDH,EAAa,UAAU,eAAiB,SAAUvB,EAAO,CACvDA,EAAOA,GAAQ,KACfsC,EAAO,KAAK,OAAS,EACrB,KAAK,YAAa,KAAK,OAAS,EAChC7C,EAAO,UAAU,eAAe,KAAMO,EAAM,KAAK,OAAS,CAC3D,EAED,SAASsC,EAAOrB,EAAU,CACxB,KAAQA,EAAQ,YACdA,EAAQ,YAAaA,EAAQ,UAAY,EAM7C,OAAAM,EAAa,UAAU,cAAgB,SAAUvB,EAAO,CACtD,GAAMA,EAEMA,IAAS,KAEnBA,EAAO,UAHP,QAKF,KAAK,WAAaA,EAElB,KAAK,SAAU,KAAK,OAAS,CAC9B,EAEDuB,EAAa,UAAU,UAAY,UAAgC,CACjE,KAAK,YAAc,KAAK,WAAW,OAAO,EAC1C,KAAK,YAAc,KAAK,WAAW,OAAO,EAC1CP,EAAQ,UAAU,UAAU,MAAO,KAAM,SAAW,CACrD,EAEDO,EAAa,UAAU,SAAW,SAAUL,EAAOE,EAAU,CAC3D,IAAIC,EAAQD,EAAQ,MAAQ,KAAK,WAC7BE,EAAQF,EAAQ,MAAQ,KAAK,WAC7BmB,EAAc,KAAK,IAAK,KAAK,MAAO,KAAK,MAAQ,EACjDC,EAASnB,EAAMkB,EAAchE,EAC7BkE,EAASnB,EAAMiB,EAAchE,EACjC,KAAK,WAAW,OAAO,EAAI,KAAK,YAAckE,EAC9C,KAAK,WAAW,OAAO,EAAI,KAAK,YAAcD,EAC9CxB,EAAQ,UAAU,SAAS,MAAO,KAAM,SAAW,CACpD,EAEMO,CAEP,mFCnPE,SAAUzF,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,GAAqB,MAC1C,CAEL,IAAIjC,EAAOJ,EAAK,KAChBI,EAAK,YAAcH,EAASG,EAAK,MAAQ,EAE7C,GAAGD,EAAM,SAAkBoC,EAAS,CAEpC,SAASqE,EAAavB,EAAQwB,EAAQC,EAAgB,CACpD,KAAK,OAASzB,EACd,KAAK,OAASwB,EAAO,IAAKE,CAAgB,EAC1C,KAAK,aAAeF,EAAO,IAAKG,CAAc,EAC9C,KAAK,cAAgBF,EACrB,KAAK,eAAiB,KAAK,aAAc,KAAK,aAAa,OAAS,CAAG,EAGlEzB,GAAU,QACb,KAAK,cAAgB,CAAE,IAAI9C,EAAU,IAAIA,CAAU,GAIvD,SAASwE,EAAgB3F,EAAQ,CAC/B,OAAKA,aAAiBmB,EACbnB,EAEA,IAAImB,EAAQnB,CAAO,EAI9B,SAAS4F,EAAc5F,EAAQ,CAC7B,OAAO,IAAImB,EAAQnB,CAAO,EAG5BwF,EAAY,UAAU,MAAQ,UAAW,CAEvC,IAAIC,EAAS,KAAK,OAClB,KAAK,aAAa,QAAS,SAAUI,EAAaC,EAAI,CACpD,IAAI9F,EAAQyF,EAAOK,CAAC,EACpBD,EAAY,IAAK7F,CAAO,CAC5B,CAAK,CACJ,EAEDwF,EAAY,UAAU,UAAY,SAAUzD,EAAaR,EAAUS,EAAQ,CACzE,KAAK,aAAa,QAAS,SAAU6D,EAAc,CACjDA,EAAY,UAAW9D,EAAaR,EAAUS,CAAO,CACzD,CAAK,CACJ,EAEDwD,EAAY,UAAU,OAAS,SAAU1F,EAAKC,EAAMgG,EAAW,CAC7D,OAAO,KAAM,KAAK,MAAQ,EAAEjG,EAAKC,EAAMgG,CAAU,CAClD,EAEDP,EAAY,UAAU,KAAO,SAAU1F,EAAKC,EAAMgG,EAAW,CAC3D,OAAOA,EAAS,KAAMjG,EAAKC,EAAM,KAAK,aAAa,CAAC,CAAG,CACxD,EAEDyF,EAAY,UAAU,KAAO,SAAU1F,EAAKC,EAAMgG,EAAW,CAC3D,OAAOA,EAAS,KAAMjG,EAAKC,EAAM,KAAK,aAAa,CAAC,CAAG,CACxD,EAEDyF,EAAY,UAAU,OAAS,SAAU1F,EAAKC,EAAMgG,EAAW,CAC7D,IAAI9F,EAAM,KAAK,aAAa,CAAC,EACzBC,EAAM,KAAK,aAAa,CAAC,EACzBC,EAAM,KAAK,aAAa,CAAC,EAC7B,OAAO4F,EAAS,OAAQjG,EAAKC,EAAME,EAAKC,EAAKC,CAAK,CACnD,EAED,IAAI6F,EAAkB,EAAE,GAExB,OAAAR,EAAY,UAAU,IAAM,SAAU1F,EAAKC,EAAMgG,EAAW,CAC1D,IAAIE,EAAO,KAAK,cACZC,EAAS,KAAK,aAAa,CAAC,EAC5B/F,EAAM,KAAK,aAAa,CAAC,EACzBF,EAAM,KAAK,cAAc,CAAC,EAC1BC,EAAM,KAAK,cAAc,CAAC,EAC9B,OAAAD,EAAI,IAAKgG,CAAI,EAAG,KAAMC,EAAQF,CAAiB,EAC/C9F,EAAI,IAAKC,CAAG,EAAG,KAAM+F,EAAQF,CAAiB,EACvCD,EAAS,OAAQjG,EAAKC,EAAME,EAAKC,EAAKC,CAAK,CACnD,EAEMqF,CAEP,mFCtFE,SAAU5G,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,EAAA,EAA0BkB,EAAmB,EACnEC,EAAyB,EAAEC,GAAqB,MAC/C,CAEL,IAAIrD,EAAOJ,EAAK,KAChBI,EAAK,MAAQH,EAASG,EAAMA,EAAK,OAAQA,EAAK,YAAaA,EAAK,MAAQ,EAE5E,GAAGD,EAAM,SAAkBmC,EAAOC,EAAQqE,EAAajD,EAAS,CAEhE,IAAI4D,EAAQ5D,EAAO,SAAS,CAC1B,OAAQ,EACR,KAAM,GACN,MAAO,OACP,OAAQ,GACR,QAAS,GACT,KAAM,CAAE,CAAA,CAAI,EACZ,MAAO,CAAE,EAAG,CAAG,EACf,SAAU,EACZ,CAAC,EAED4D,EAAM,UAAU,OAAS,SAAU3D,EAAU,CAC3CD,EAAO,UAAU,OAAO,KAAM,KAAMC,CAAS,EAC7C,KAAK,WAAY,EAEjB,KAAK,MAAQ,IAAIrB,EAAQqB,EAAQ,OAAS,KAAK,KAAO,EACtD,KAAK,YAAc,IAAIrB,EAAQ,KAAK,KAAO,EAC3C,KAAK,aAAe,IAAIA,CACzB,EAED,IAAIiF,EAAc,CAChB,OACA,OACA,SACA,KACD,EAEDD,EAAM,UAAU,WAAa,UAAW,CACtC,KAAK,QAAS,EACd,KAAK,mBAAoB,CAC1B,EAGDA,EAAM,UAAU,QAAU,UAAW,CAAE,EAGvCA,EAAM,UAAU,mBAAqB,UAAW,CAC9C,IAAIT,EACJ,KAAK,aAAe,KAAK,KAAK,IAAK,SAAUW,EAAUP,EAAI,CAGzD,IAAIQ,EAAO,OAAO,KAAMD,CAAU,EAC9BpC,EAASqC,EAAK,CAAC,EACfb,EAASY,EAAUpC,CAAQ,EAE3BsC,EAAgBD,EAAK,QAAU,GAAKF,EAAY,QAASnC,CAAM,GAAM,GACnEsC,IACJtC,EAAS,OACTwB,EAASY,GAGX,IAAIG,EAAevC,GAAU,QAAUA,GAAU,OAC7CwC,EAAgB,MAAM,QAAShB,CAAQ,EACtCe,GAAgB,CAACC,IACpBhB,EAAS,CAAEA,CAAQ,GAIrBxB,EAAS6B,IAAM,EAAI,OAAS7B,EAE5B,IAAI3D,EAAU,IAAIkF,EAAavB,EAAQwB,EAAQC,CAAe,EAE9D,OAAAA,EAAgBpF,EAAQ,eACjBA,CACX,CAAK,CACJ,EAID6F,EAAM,UAAU,MAAQ,UAAW,CACjC,KAAK,aAAa,IAAK,KAAK,MAAQ,EACpC,KAAK,YAAY,IAAK,KAAK,KAAO,EAElC,KAAK,aAAa,QAAS,SAAU7F,EAAU,CAC7CA,EAAQ,MAAO,CACnB,CAAK,CACJ,EAED6F,EAAM,UAAU,UAAY,SAAUpE,EAAaR,EAAUS,EAAQ,CAEnE,KAAK,aAAa,UAAWD,EAAaR,EAAUS,CAAO,EAC3D,KAAK,YAAY,UAAWD,EAAaR,EAAUS,CAAO,EAC1D,KAAK,aAAa,IAAK,KAAK,YAAY,EAAG,SAAU,KAAK,WAAa,EAEvE,KAAK,aAAa,QAAS,SAAU1B,EAAU,CAC7CA,EAAQ,UAAWyB,EAAaR,EAAUS,CAAO,CACrD,CAAK,EAEH,KAAK,SAAS,QAAS,SAAUa,EAAQ,CACvCA,EAAM,UAAWd,EAAaR,EAAUS,CAAO,CACnD,CAAK,CACJ,EAEDmE,EAAM,UAAU,gBAAkB,UAAW,CAG3C,IAAIO,EAAa,KAAK,aAAa,OAC/BC,EAAa,KAAK,aAAa,CAAC,EAAE,eAClCC,EAAY,KAAK,aAAcF,EAAa,CAAG,EAAC,eAEhDG,EAAgBH,EAAa,GAAKC,EAAW,OAAQC,CAAW,EAC/DC,IACHH,GAAc,GAIhB,QADII,EAAiB,EACXhB,EAAI,EAAGA,EAAIY,EAAYZ,IAC/BgB,GAAkB,KAAK,aAAahB,CAAC,EAAE,eAAe,EAExD,KAAK,UAAYgB,EAAeJ,CACjC,EAIDP,EAAM,UAAU,OAAS,SAAUrG,EAAKiG,EAAW,CACjD,IAAIgB,EAAS,KAAK,aAAa,OAC/B,GAAK,GAAC,KAAK,SAAW,CAACA,KAIvB,KAAK,aAAe,KAAK,aAAa,EAAI,EACrC,GAAC,KAAK,UAAY,KAAK,eAG5B,IAAK,CAAChB,EACJ,MAAM,IAAI,MAAO,kCAAoCA,CAAU,EAGjE,IAAIiB,EAAQD,GAAU,EACjBhB,EAAS,UAAYiB,EACxB,KAAK,gBAAiBlH,EAAKiG,CAAU,EAErC,KAAK,WAAYjG,EAAKiG,CAAU,EAEnC,EAED,IAAI1E,EAAMH,EAAM,IAEhBiF,EAAM,UAAU,gBAAkB,SAAUrG,EAAM,CAChD,IAAIW,EAAY,KAAK,aAAc,EACnC,GAAMA,EAGN,CAAAX,EAAI,UAAY,KAAK,eAAgB,EACrC,IAAIE,EAAQ,KAAK,aAAa,CAAC,EAAE,eACjCF,EAAI,UAAW,EACf,IAAImH,EAASxG,EAAU,EACvBX,EAAI,IAAKE,EAAM,EAAGA,EAAM,EAAGiH,EAAQ,EAAG5F,CAAK,EAC3CvB,EAAI,KAAM,EACX,EAEDqG,EAAM,UAAU,aAAe,UAAW,CACxC,OAAM,KAAK,OAGN,KAAK,QAAU,GACX,EAEF,KAAK,OALH,CAMV,EAEDA,EAAM,UAAU,eAAiB,UAAW,CAE1C,IAAIe,EAAkB,OAAO,KAAK,UAAY,UAAY,KAAK,aAC3D1G,EAAQ0G,EAAkB,KAAK,SAAW,KAAK,MACnD,OAAO1G,CACR,EAED2F,EAAM,UAAU,WAAa,SAAUrG,EAAKiG,EAAW,CACrD,IAAIhG,EAAO,KAAK,iBAAkBD,EAAKiG,CAAU,EAC7CoB,EAAc,KAAK,aAAa,QAAU,GAC5C,KAAK,aAAa,CAAC,EAAE,QAAU,OAC7B9G,EAAW,CAAC8G,GAAe,KAAK,OAChC3G,EAAQ,KAAK,eAAgB,EAEjCuF,EAAS,WAAYjG,EAAKC,EAAM,KAAK,aAAcM,CAAU,EAC7D0F,EAAS,OAAQjG,EAAKC,EAAM,KAAK,OAAQS,EAAO,KAAK,cAAgB,EACrEuF,EAAS,KAAMjG,EAAKC,EAAM,KAAK,KAAMS,CAAO,EAC5CuF,EAAS,IAAKjG,EAAKC,CAAM,CAC1B,EAED,IAAIqH,EAAS,6BAEb,OAAAjB,EAAM,UAAU,iBAAmB,SAAUrG,EAAKiG,EAAW,CAC3D,GAAMA,EAAS,MAGf,OAAM,KAAK,aAET,KAAK,WAAa,SAAS,gBAAiBqB,EAAQ,MAAQ,EAC5D,KAAK,WAAW,aAAc,iBAAkB,OAAS,EACzD,KAAK,WAAW,aAAc,kBAAmB,OAAS,GAErD,KAAK,UACb,EAEMjB,CAEP,oFCnNE,SAAUvH,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,GAAqB,MAC1C,CAEL,IAAIjC,EAAOJ,EAAK,KAChBI,EAAK,MAAQH,EAASG,EAAK,MAAQ,EAEvC,GAAGD,EAAM,SAAkBwD,EAAS,CAEpC,IAAI8E,EAAQ9E,EAAO,SAAS,CAC1B,WAAY,GACZ,QAAS,EACX,CAAC,EAID,OAAA8E,EAAM,UAAU,gBAAkB,UAAW,CAC3C,IAAIP,EAAiB,EACrB,KAAK,UAAU,QAAS,SAAUhE,EAAO,CACvCA,EAAK,gBAAiB,EACtBgE,GAAkBhE,EAAK,SAC3B,CAAK,EAGH,KAAK,UAAYgE,EAAiB,KAAK,UAAU,OAE5C,KAAK,YACR,KAAK,UAAU,KAAMvE,EAAO,WAAa,CAE5C,EAID8E,EAAM,UAAU,OAAS,SAAUvH,EAAKiG,EAAW,CAC3C,KAAK,SAIX,KAAK,UAAU,QAAS,SAAUjD,EAAO,CACvCA,EAAK,OAAQhD,EAAKiG,CAAU,CAChC,CAAK,CACJ,EAGDsB,EAAM,UAAU,gBAAkB,UAAW,CAE3C,IAAIrE,EAAY,CAAE,EAClB,KAAK,UAAY,KAAK,kBAAmBA,CAAW,CACrD,EAGDqE,EAAM,UAAU,aAAe,UAAW,CACxC,MAAO,CAAE,IAAM,CAChB,EAEMA,CAEP,oFC5DE,SAAUzI,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,GAAoB,MACzC,CAEL,IAAIjC,EAAOJ,EAAK,KAChBI,EAAK,KAAOH,EAASG,EAAK,KAAO,EAErC,GAAGD,EAAM,SAAkBoH,EAAQ,CAEnC,IAAImB,EAAOnB,EAAM,SAAS,CACxB,MAAO,EACP,OAAQ,CACV,CAAC,EAED,OAAAmB,EAAK,UAAU,QAAU,UAAW,CAClC,IAAIC,EAAI,KAAK,MAAQ,EACjBC,EAAI,KAAK,OAAS,EAEtB,KAAK,KAAO,CACV,CAAE,EAAG,CAACD,EAAG,EAAG,CAACC,CAAG,EAChB,CAAE,EAAID,EAAG,EAAG,CAACC,CAAG,EAChB,CAAE,EAAID,EAAG,EAAIC,CAAG,EAChB,CAAE,EAAG,CAACD,EAAG,EAAIC,CAAG,CACjB,CACF,EAEMF,CAEP,oFC/BE,SAAU1I,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,GAAoB,MACzC,CAEL,IAAIjC,EAAOJ,EAAK,KAChBI,EAAK,YAAcH,EAASG,EAAK,KAAO,EAE5C,GAAGD,EAAM,SAAkBoH,EAAQ,CAEnC,IAAIsB,EAActB,EAAM,SAAS,CAC/B,MAAO,EACP,OAAQ,EACR,aAAc,IACd,OAAQ,EACV,CAAC,EAED,OAAAsB,EAAY,UAAU,QAAU,UAAW,CAIzC,IAAIC,EAAK,KAAK,MAAQ,EAClBC,EAAK,KAAK,OAAS,EACnBC,EAAY,KAAK,IAAKF,EAAIC,CAAI,EAC9BE,EAAe,KAAK,IAAK,KAAK,aAAcD,CAAW,EACvDE,EAAKJ,EAAKG,EACVE,EAAKJ,EAAKE,EACVG,EAAO,CAET,CAAE,EAAGF,EAAI,EAAG,CAACH,CAAI,EACjB,CAAE,IAAK,CACL,CAAE,EAAGD,EAAI,EAAG,CAACC,CAAI,EACjB,CAAE,EAAGD,EAAI,EAAG,CAACK,CAAI,CACvB,CAAO,CACJ,EAEIA,GACHC,EAAK,KAAK,CAAE,EAAGN,EAAI,EAAGK,EAAI,EAE5BC,EAAK,KAAK,CAAE,IAAK,CACf,CAAE,EAAGN,EAAI,EAAIC,CAAI,EACjB,CAAE,EAAGG,EAAI,EAAIH,CAAI,GAChB,EAEEG,GACHE,EAAK,KAAK,CAAE,EAAG,CAACF,EAAI,EAAGH,EAAI,EAE7BK,EAAK,KAAK,CAAE,IAAK,CACf,CAAE,EAAG,CAACN,EAAI,EAAIC,CAAI,EAClB,CAAE,EAAG,CAACD,EAAI,EAAIK,CAAI,GACjB,EAEEA,GACHC,EAAK,KAAK,CAAE,EAAG,CAACN,EAAI,EAAG,CAACK,EAAI,EAE9BC,EAAK,KAAK,CAAE,IAAK,CACf,CAAE,EAAG,CAACN,EAAI,EAAG,CAACC,CAAI,EAClB,CAAE,EAAG,CAACG,EAAI,EAAG,CAACH,CAAI,GACjB,EAGEG,GACHE,EAAK,KAAK,CAAE,EAAGF,EAAI,EAAG,CAACH,EAAI,EAG7B,KAAK,KAAOK,CACb,EAEMP,CAEP,mFCxEE,SAAU7I,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,GAAoB,MACzC,CAEL,IAAIjC,EAAOJ,EAAK,KAChBI,EAAK,QAAUH,EAASG,EAAK,KAAO,EAGxC,GAAGD,EAAM,SAAkBoH,EAAQ,CAEnC,IAAI8B,EAAU9B,EAAM,SAAS,CAC3B,SAAU,EACV,MAAO,OACP,OAAQ,OACR,SAAU,EACV,OAAQ,EACV,CAAC,EAED,OAAA8B,EAAQ,UAAU,QAAU,UAAW,CACrC,IAAI1D,EAAQ,KAAK,OAAS,KAAY,KAAK,MAAQ,KAAK,SACpDC,EAAS,KAAK,QAAU,KAAY,KAAK,OAAS,KAAK,SACvD+C,EAAIhD,EAAM,EACViD,EAAIhD,EAAO,EACf,KAAK,KAAO,CACV,CAAE,EAAG,EAAG,EAAG,CAACgD,CAAG,EACf,CAAE,IAAK,CACL,CAAE,EAAGD,EAAG,EAAG,CAACC,CAAG,EACf,CAAE,EAAGD,EAAG,EAAG,CAAG,CACpB,CAAO,CACJ,EAEI,KAAK,SAAW,GACnB,KAAK,KAAK,KAAK,CAAE,IAAK,CACpB,CAAE,EAAGA,EAAG,EAAGC,CAAG,EACd,CAAE,EAAG,EAAG,EAAGA,CAAG,GACb,EAGA,KAAK,SAAW,GACnB,KAAK,KAAK,KAAK,CAAE,IAAK,CACpB,CAAE,EAAG,CAACD,EAAG,EAAGC,CAAG,EACf,CAAE,EAAG,CAACD,EAAG,EAAG,CAAG,GACd,EAGA,KAAK,SAAW,GACnB,KAAK,KAAK,KAAK,CAAE,IAAK,CACpB,CAAE,EAAG,CAACA,EAAG,EAAG,CAACC,CAAG,EAChB,CAAE,EAAG,EAAG,EAAG,CAACA,CAAG,GACd,CAEN,EAEMS,CAEP,oFC1DE,SAAUrJ,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,UAAiBD,EAASoC,EAAwB,EAAEkB,EAAA,CAAoB,MACnE,CAEL,IAAInD,EAAOJ,EAAK,KAChBI,EAAK,QAAUH,EAASG,EAAMA,EAAK,KAAO,EAE7C,GAAED,EAAM,SAAkBmC,EAAOiF,EAAQ,CAE1C,IAAI+B,EAAU/B,EAAM,SAAS,CAC3B,MAAO,EACP,OAAQ,EACV,CAAC,EAEG9E,EAAMH,EAAM,IAEhB,OAAAgH,EAAQ,UAAU,QAAU,UAAW,CACrC,KAAK,KAAO,CAAE,EACd,QAAUpC,EAAI,EAAGA,EAAI,KAAK,MAAOA,IAAM,CACrC,IAAIqC,EAAQrC,EAAI,KAAK,MAAQzE,EAAMA,EAAI,EACnCkG,EAAI,KAAK,IAAKY,CAAO,EAAG,KAAK,OAC7BX,EAAI,KAAK,IAAKW,CAAO,EAAG,KAAK,OACjC,KAAK,KAAK,KAAK,CAAE,EAAGZ,EAAG,EAAGC,EAAG,EAEhC,EAEMU,CAEP,oFC/BE,SAAUtJ,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,EAAA,EAA0BkB,EAAmB,EACnEC,EAAmB,EAAEC,GAAsB,MAC1C,CAEL,IAAIrD,EAAOJ,EAAK,KAChBI,EAAK,WAAaH,EAASG,EAAMA,EAAK,OAAQA,EAAK,OAAQA,EAAK,OAAS,EAE7E,GAAGD,EAAM,SAAkBmC,EAAOC,EAAQoB,EAAQ0F,EAAU,CAE5D,IAAIG,EAAaH,EAAQ,SAAS,CAChC,KAAM,EACR,CAAC,EAEG5G,EAAMH,EAAM,IAEhBkH,EAAW,UAAU,OAAS,UAAyB,CAErDH,EAAQ,UAAU,OAAO,MAAO,KAAM,SAAW,EAEjD,KAAK,KAAO,IAAI1F,EAAO,CACrB,MAAO,KACP,UAAW,CAAE,EAAG,KAAK,SAAW,CAAG,CACvC,CAAG,EAED,KAAK,eAAiB,IAAIpB,CAC3B,EAEDiH,EAAW,UAAU,gBAAkB,UAAW,CAEhD,KAAK,eAAe,IAAK,KAAK,YAAY,EACvC,KAAM,KAAK,KAAK,aAAc,EAAE,CAAG,EACtC,KAAK,UAAY,KAAK,eAAe,CACtC,EAEDA,EAAW,UAAU,OAAS,SAAUtI,EAAKiG,EAAW,CACtD,KAAK,WAAYjG,EAAKiG,CAAU,EAEhCkC,EAAQ,UAAU,OAAO,MAAO,KAAM,SAAW,CAClD,EAEDG,EAAW,UAAU,WAAa,SAAUtI,EAAKiG,EAAW,CAC1D,GAAM,KAAK,QAGX,KAAIhG,EAAO,KAAK,qBAAsBD,EAAKiG,CAAU,EACjDsC,EAAe,KAAK,MAAO,KAAK,aAAa,EAAG,KAAK,aAAa,CAAG,EACrEC,EAAa,KAAK,SAAW,EAAI,KAAK,aAAa,UAAW,EAC9Df,EAAI,KAAK,aAAa,EACtBC,EAAI,KAAK,aAAa,EAE1B,GAAKzB,EAAS,SAAW,CAEvB,IAAIwC,EAAaF,EAAehH,EAAI,EAChCmH,EAAWH,EAAehH,EAAI,EAClCvB,EAAI,UAAW,EACfA,EAAI,IAAKyH,EAAGC,EAAGc,EAAYC,EAAYC,CAAU,CACrD,MAAczC,EAAS,QAEnBsC,GAAiBA,EAAehH,EAAI,GAAMA,EAAM,IAChD,KAAK,eAAe,aAAc,IAAK,KAAO,CAACiH,EAAa,QACxDA,EAAa,IAAMA,EAAa,UAAYA,EAAa,IAAM,EACnE,KAAK,eAAe,aAAc,YAC9B,aAAef,EAAI,IAAMC,EAAI,aAAea,EAAe,GAAK,GAGtEtC,EAAS,OAAQjG,EAAKC,EAAM,KAAK,OAAQ,KAAK,MAAO,KAAK,cAAgB,EAC1EgG,EAAS,KAAMjG,EAAKC,EAAM,KAAK,KAAM,KAAK,KAAO,EACjDgG,EAAS,IAAKjG,EAAKC,CAAM,EAC1B,EAED,IAAIqH,EAAS,6BAEb,OAAAgB,EAAW,UAAU,qBAAuB,SAAUtI,EAAKiG,EAAW,CACpE,GAAMA,EAAS,MAGf,OAAM,KAAK,iBAET,KAAK,eAAiB,SAAS,gBAAiBqB,EAAQ,MAAQ,EAChE,KAAK,eAAe,aAAc,iBAAkB,OAAS,EAC7D,KAAK,eAAe,aAAc,kBAAmB,OAAS,GAEzD,KAAK,cACb,EAEMgB,CAEP,oFC3FE,SAAUxJ,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAA,QAAiBD,EAASoC,EAAwB,EAC9CkB,EAAyB,EAAEC,EAAkB,EAAEC,GAAkB,EACjEoG,GAAsB,MACrB,CAEL,IAAIzJ,EAAOJ,EAAK,KAChBI,EAAK,SAAWH,EAASG,EAAMA,EAAK,YAAaA,EAAK,MAClDA,EAAK,MAAOA,EAAK,OAAS,EAElC,GAAGD,EAAM,SAAkBmC,EAAOsE,EAAaW,EAAOkB,EAAOY,EAAU,CAEvE,SAASpE,GAAO,CAAA,CAIhB,IAAI6E,EAAgBrB,EAAM,SAAS,CACjC,MAAO,OACP,WAAY,EACd,CAAC,EAEDqB,EAAc,UAAU,OAAS,UAAW,CAC1CrB,EAAM,UAAU,OAAO,MAAO,KAAM,SAAW,EAC/C,KAAK,aAAe,CAClB,IAAI7B,EAAa,OAAQ,CAAE,CAAA,EAAM,EACjC,IAAIA,EAAa,OAAQ,CAAE,CAAA,EAAM,CAClC,CACF,EAEDkD,EAAc,UAAU,OAAS,SAAU5I,EAAKiG,EAAW,CACzD,KAAK,sBAAuBjG,EAAKiG,CAAU,EAC3CsB,EAAM,UAAU,OAAO,MAAO,KAAM,SAAW,CAChD,EAEDqB,EAAc,UAAU,sBAAwB,SAAU5I,EAAKiG,EAAW,CACxE,GAAM,KAAK,QAIX,KAAIhG,EAAO,KAAK,iBAAkBD,EAAKiG,CAAU,EAC7C4C,EAAY,KAAK,UACjBC,EAAW,KAAK,SAChB5G,EAAQ2G,EAAU,aAAa,UAAW,EAC1CE,EAAcF,EAAU,SAAW3G,EAAQ2G,EAAU,aAAc,EAEvE,KAAK,aAAa,CAAC,EAAE,aAAa,CAAC,EAAE,IAAKA,EAAU,YAAc,EAClE,KAAK,aAAa,CAAC,EAAE,aAAa,CAAC,EAAE,IAAKC,EAAS,YAAc,EAE5D7C,EAAS,WACZjG,EAAI,QAAU,QAEhBiG,EAAS,WAAYjG,EAAKC,EAAM,KAAK,YAAc,EACnDgG,EAAS,OAAQjG,EAAKC,EAAM,GAAM,KAAK,MAAO8I,CAAa,EAC3D9C,EAAS,IAAKjG,EAAKC,CAAM,EAEpBgG,EAAS,WACZjG,EAAI,QAAU,SAEjB,EAED,IAAIsH,EAAS,6BAEbsB,EAAc,UAAU,iBAAmB,SAAU5I,EAAKiG,EAAW,CACnE,GAAMA,EAAS,MAGf,OAAM,KAAK,aAET,KAAK,WAAa,SAAS,gBAAiBqB,EAAQ,MAAQ,GAEvD,KAAK,UACb,EAIDsB,EAAc,UAAU,UAAY7E,EAIpC,IAAIiF,EAAkBb,EAAQ,SAAU,EAExCa,EAAgB,UAAU,UAAYjF,EAItC,IAAIkF,EAAW5C,EAAM,SAAS,CAC5B,SAAU,EACV,OAAQ,EACR,UAAW,OACX,KAAM,EACR,CAAC,EAEG9E,EAAMH,EAAM,IAEhB6H,EAAS,UAAU,OAAS,UAAyB,CAEnD5C,EAAM,UAAU,OAAO,MAAO,KAAM,SAAW,EAG/C,KAAK,MAAQ,IAAIuC,EAAc,CAC7B,MAAO,KACP,MAAO,KAAK,MACZ,QAAS,KAAK,OAClB,CAAG,EACD,IAAIM,EAAQ,KAAK,OAAS,EACtBC,EAAY,KAAK,UAAY,GAEjC,KAAK,UAAY,KAAK,MAAM,UAAY,IAAIhB,EAAQ,CAClD,MAAO,KAAK,MACZ,SAAU,KAAK,SACf,UAAW,CAAE,EAAGe,CAAO,EACvB,OAAQ,CAAE,EAAG3H,EAAI,CAAG,EACpB,MAAO,KAAK,MACZ,OAAQ,KAAK,OACb,KAAM,KAAK,KACX,SAAU,KAAK,WAAa4H,EAC5B,QAAS,KAAK,OAClB,CAAG,EAED,KAAK,SAAW,KAAK,MAAM,SAAW,KAAK,UAAU,KAAK,CACxD,UAAW,CAAE,EAAG,CAACD,CAAO,EACxB,OAAQ,CAAE,EAAG,CAAG,EAChB,SAAUC,CACd,CAAG,CACF,EAGDF,EAAS,UAAU,OAAS,UAAW,CAAE,EAIzC,IAAIG,EAAkB,CAAE,SAAU,OAAQ,QAAS,SAAW,EAC9D,OAAAA,EAAgB,QAAS,SAAUC,EAAW,CAE5C,IAAIC,EAAQ,IAAMD,EAClB,OAAO,eAAgBJ,EAAS,UAAWI,EAAU,CACnD,IAAK,UAAW,CACd,OAAO,KAAMC,CAAO,CACrB,EACD,IAAK,SAAUC,EAAQ,CACrB,KAAMD,CAAK,EAAKC,EAEX,KAAK,YACR,KAAK,UAAWF,CAAQ,EAAKE,EAC7B,KAAK,SAAUF,CAAQ,EAAKE,EAC5B,KAAK,MAAOF,CAAQ,EAAKE,EAE5B,CACL,CAAK,CACL,CAAG,EAIIN,CAEP,oFC9JE,SAAUnK,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,EAAA,EAA0BkB,EAAmB,EACnEC,IAA2BC,IAAqBoG,GAAsB,MACrE,CAEL,IAAIzJ,EAAOJ,EAAK,KAChBI,EAAK,KAAOH,EAASG,EAAMA,EAAK,OAAQA,EAAK,YACzCA,EAAK,OAAQA,EAAK,OAAS,EAEnC,GAAGD,EAAM,SAAkBmC,EAAOC,EAAQqE,EAAajD,EAAQ0F,EAAU,CAEzE,IAAIqB,EAAOrB,EAAQ,SAAS,CAC1B,OAAQ,EACR,KAAM,EACR,CAAC,EAEG5G,EAAMH,EAAM,IAEhBoI,EAAK,UAAU,OAAS,UAAyB,CAE/CrB,EAAQ,UAAU,OAAO,MAAO,KAAM,SAAW,EAEjD,KAAK,KAAO,IAAI1F,EAAO,CACrB,MAAO,KACP,UAAW,CAAE,EAAG,KAAK,MAAQ,CACjC,CAAG,EAGD,KAAK,WAAa,IAAIpB,EACtB,KAAK,eAAiB,IAAIA,EAC1B,KAAK,SAAW,IAAIA,EACpB,KAAK,SAAW,IAAIA,EAEpB,KAAK,oBAAsB,CACzB,IAAIqE,EAAa,OAAQ,CAAE,CAAA,EAAM,EACjC,IAAIA,EAAa,OAAQ,CAAE,CAAA,EAAM,EACjC,IAAIA,EAAa,OAAQ,CAAE,CAAA,EAAM,CAClC,CACF,EAED8D,EAAK,UAAU,gBAAkB,UAAW,CAE1C,KAAK,eAAe,IAAK,KAAK,YAAY,EACvC,KAAM,KAAK,KAAK,aAAc,EAAE,CAAG,EACtC,KAAK,UAAY,KAAK,eAAe,CACtC,EAEDA,EAAK,UAAU,OAAS,SAAUxJ,EAAKiG,EAAW,CAChD,KAAK,kBAAmBjG,EAAKiG,CAAU,EACvCkC,EAAQ,UAAU,OAAO,MAAO,KAAM,SAAW,CAClD,EAEDqB,EAAK,UAAU,kBAAoB,SAAUxJ,EAAKiG,EAAW,CAC3D,GAAM,KAAK,QAGX,MAAK,WAAW,IAAK,KAAK,KAAK,YAAY,EACxC,SAAU,KAAK,YAAc,EAEhC,IAAI/D,EAAQ,KAAK,aAAa,UAAW,EACrCuH,EAAe,KAAK,WAAW,YAAa,EAC5CC,EAAiB,KAAK,aAAa,YAAa,EAEhDC,EAAa,KAAK,KAAMD,EAAexH,CAAO,EAC9C0H,EAAQ,KAAK,IAAKD,CAAY,EAC9BxC,EAAS,KAAK,SAAW,EAAIjF,EAE7B2H,EAAgB1C,EAASyC,EAAQH,EACrC,GAAMI,EAIN,KAAIC,EAAY,KAAK,MAAO,KAAK,aAAa,EAAG,KAAK,aAAa,CAAG,EAClEvI,EAAI,EACJwI,EAAgBN,EAAaG,EAC7BI,EAAe,KAAK,KAAM7C,EAAO4C,CAAe,EAEhDE,EAAW,KAAK,SAChBC,EAAW,KAAK,SAEpBD,EAAS,EAAI,KAAK,IAAKD,CAAY,EAAK7C,EAASyC,EACjDK,EAAS,EAAI,KAAK,IAAKD,CAAc,EAAG7C,EAExC+C,EAAS,IAAK,KAAK,QAAU,EAC7BA,EAAS,GAAK,GAEdD,EAAS,QAASH,CAAW,EAC7BI,EAAS,QAASJ,CAAW,EAC7BG,EAAS,IAAK,KAAK,YAAc,EACjCC,EAAS,IAAK,KAAK,YAAc,EAEjC,KAAK,sBAAuB,EAAGD,CAAU,EACzC,KAAK,sBAAuB,EAAG,KAAK,KAAK,YAAc,EACvD,KAAK,sBAAuB,EAAGC,CAAU,EAGzC,IAAIjK,EAAO,KAAK,wBAAyBD,EAAKiG,CAAU,EACxDA,EAAS,WAAYjG,EAAKC,EAAM,KAAK,mBAAqB,EAC1DgG,EAAS,OAAQjG,EAAKC,EAAM,KAAK,OAAQ,KAAK,MAAO,KAAK,cAAgB,EAC1EgG,EAAS,KAAMjG,EAAKC,EAAM,KAAK,KAAM,KAAK,KAAO,EACjDgG,EAAS,IAAKjG,EAAKC,CAAM,GAC1B,EAED,IAAIqH,EAAS,6BAEb,OAAAkC,EAAK,UAAU,wBAA0B,SAAUxJ,EAAKiG,EAAW,CACjE,GAAMA,EAAS,MAGf,OAAM,KAAK,oBAET,KAAK,kBAAoB,SAAS,gBAAiBqB,EAAQ,MAAQ,EACnE,KAAK,kBAAkB,aAAc,iBAAkB,OAAS,EAChE,KAAK,kBAAkB,aAAc,kBAAmB,OAAS,GAE5D,KAAK,iBACb,EAEDkC,EAAK,UAAU,sBAAwB,SAAU1G,EAAO5C,EAAQ,CAC9D,IAAI6F,EAAc,KAAK,oBAAqBjD,CAAO,EAAC,aAAa,CAAC,EAClEiD,EAAY,IAAK7F,CAAO,CACzB,EAEMsJ,CAEP,oFChIE,SAAU1K,EAAMC,EAAU,CAE1B,GAAkCC,EAAO,QAEvCA,EAAiB,QAAAD,EAASoC,EAAA,EAA0BkB,EAAmB,EACnEC,EAAkB,EAAEC,IAAmB,MACtC,CAEL,IAAIrD,EAAOJ,EAAK,KAChBI,EAAK,IAAMH,EAASG,EAAMA,EAAK,OAAQA,EAAK,MAAOA,EAAK,IAAM,EAElE,GAAGD,EAAM,SAAkBmC,EAAOqB,EAAQ4D,EAAOmB,EAAO,CAIxD,IAAI2C,EAAU3C,EAAK,SAAU,EAG7B2C,EAAQ,UAAU,UAAY,UAAW,CAAE,EAI3C,IAAI5I,EAAMH,EAAM,IACZgJ,EAAY,CACd,YACA,WACA,WACA,YACA,UACA,YACD,EAEGC,EAAcjJ,EAAM,OAAQ,CAAA,EAAIiF,EAAM,QAAU,EACpD,OAAOgE,EAAY,KACnBD,EAAU,QAAS,SAAUE,EAAW,CACtCD,EAAaC,CAAQ,EAAK,EAC5B,CAAG,EACHlJ,EAAM,OAAQiJ,EAAa,CACzB,MAAO,EACP,OAAQ,EACR,MAAO,EACP,KAAM,EACR,CAAG,EAEH,IAAIE,EAAM9H,EAAO,SAAU4H,CAAa,EAGxCE,EAAI,UAAU,OAAS,SAAU7H,EAAU,CACzCD,EAAO,UAAU,OAAO,KAAM,KAAMC,CAAS,EAC7C,KAAK,WAAY,EAEjB,KAAK,KAAO,KAAK,IAClB,EAED6H,EAAI,UAAU,WAAa,UAAW,CAEpCH,EAAU,QAAS,SAAUE,EAAW,CACtC,KAAMA,CAAQ,EAAK,KAAMA,CAAU,CACpC,EAAE,IAAM,CACV,EAGDF,EAAU,QAAS,SAAUE,EAAW,CACtC,IAAIE,EAAY,IAAMF,EACtB,OAAO,eAAgBC,EAAI,UAAWD,EAAU,CAC9C,IAAK,UAAW,CACd,OAAO,KAAME,CAAW,CACzB,EACD,IAAK,SAAUjB,EAAQ,CACrB,KAAMiB,CAAS,EAAKjB,EACpB,KAAK,QAASe,EAAUf,CAAO,CAChC,CACL,CAAK,CACL,CAAG,EAEHgB,EAAI,UAAU,QAAU,SAAUD,EAAUf,EAAQ,CAClD,IAAIkB,EAAeH,EAAW,OAC1BzF,EAAO,KAAM4F,CAAc,EAE/B,GAAK,CAAClB,EAAQ,CACZ,KAAK,YAAa1E,CAAM,EACxB,OAGF,IAAInC,EAAU,KAAK,eAAgB4H,CAAU,EAC7C5H,EAAQ,MAAQ,OAAO6G,GAAS,SAAWA,EAAQ,KAAK,MAEnD1E,EAEHA,EAAK,WAAYnC,CAAS,EAG1BmC,EAAO,KAAM4F,CAAc,EAAG,IAAIN,EAASzH,CAAS,EAEtDmC,EAAK,WAAY,EACjB,KAAK,SAAUA,CAAM,CACtB,EAED0F,EAAI,UAAU,eAAiB,SAAUD,EAAW,CAClD,MAAO,CACL,UAAW,CACT,MAAO,KAAK,MACZ,OAAQ,KAAK,OACb,UAAW,CAAE,EAAG,KAAK,MAAQ,CAAG,CACjC,EACD,SAAU,CACR,MAAO,KAAK,MACZ,OAAQ,KAAK,OACb,UAAW,CAAE,EAAG,CAAC,KAAK,MAAQ,CAAG,EACjC,OAAQ,CAAE,EAAG/I,EAAI,CAAG,CACrB,EACD,SAAU,CACR,MAAO,KAAK,MACZ,OAAQ,KAAK,OACb,UAAW,CAAE,EAAG,CAAC,KAAK,MAAQ,CAAG,EACjC,OAAQ,CAAE,EAAG,CAACA,EAAI,CAAG,CACtB,EACD,UAAW,CACT,MAAO,KAAK,MACZ,OAAQ,KAAK,OACb,UAAW,CAAE,EAAG,KAAK,MAAQ,CAAG,EAChC,OAAQ,CAAE,EAAGA,EAAI,CAAG,CACrB,EACD,QAAS,CACP,MAAO,KAAK,MACZ,OAAQ,KAAK,MACb,UAAW,CAAE,EAAG,CAAC,KAAK,OAAS,CAAG,EAClC,OAAQ,CAAE,EAAG,CAACA,EAAI,CAAG,CACtB,EACD,WAAY,CACV,MAAO,KAAK,MACZ,OAAQ,KAAK,MACb,UAAW,CAAE,EAAG,KAAK,OAAS,CAAG,EACjC,OAAQ,CAAE,EAAGA,EAAI,CAAG,CACrB,CACF,EAAE+I,CAAU,CACd,EAID,IAAIlB,EAAkB,CAAE,QAAS,SAAU,OAAQ,WAAY,QAC7D,SAAW,EACb,OAAAA,EAAgB,QAAS,SAAUC,EAAW,CAE5C,IAAIC,EAAQ,IAAMD,EAClB,OAAO,eAAgBkB,EAAI,UAAWlB,EAAU,CAC9C,IAAK,UAAW,CACd,OAAO,KAAMC,CAAO,CACrB,EACD,IAAK,SAAUC,EAAQ,CACrB,KAAMD,CAAK,EAAKC,EAChBa,EAAU,QAAS,SAAUE,EAAW,CACtC,IAAIzF,EAAO,KAAMyF,EAAW,MAAQ,EAChCI,EAAc,OAAO,KAAMJ,CAAU,GAAI,SACzCK,EAAoBtB,GAAY,SAAWqB,EAC1C7F,GAAQ,CAAC8F,IACZ9F,EAAMwE,CAAQ,EAAKE,EAEtB,EAAE,IAAM,CACV,CACL,CAAK,CACL,CAAG,EAEIgB,CAEP,gCCrKE,SAAUzL,EAAMC,EAAU,CAEQC,EAAO,UAEvCA,UAAiBD,EACboC,EAAwB,EACxBkB,GAA4B,EAC5BC,GAAyB,EACzBC,EAAmB,EACnBoG,EAAmB,EACnBiC,GAAoB,EACpBC,GAAyB,EACzBC,EAAyB,EACzBC,EAAkB,EAClBC,GAAkB,EAClBC,GAAiB,EACjBC,GAAyB,EACzBC,EAAoB,EACpBC,GAAoB,EACpBC,GAAuB,EACvBC,GAAqB,EACrBC,GAAiB,EACjBC,GAAgB,CACnB,EAML,GAAKvM,EAAM,SAAkBC,EAAMa,EAAgBc,EAAaQ,EAAQoB,EACpEuB,EAASO,EAAcmB,EAAaW,EAAOkB,EAAOC,EAAMG,EACxDQ,EAASC,EAASE,EAAYW,EAAUO,EAAMe,EAAM,CAGlD,OAAArL,EAAK,eAAiBa,EACtBb,EAAK,YAAc2B,EACnB3B,EAAK,OAASmC,EACdnC,EAAK,OAASuD,EACdvD,EAAK,QAAU8E,EACf9E,EAAK,aAAeqF,EACpBrF,EAAK,YAAcwG,EACnBxG,EAAK,MAAQmH,EACbnH,EAAK,MAAQqI,EACbrI,EAAK,KAAOsI,EACZtI,EAAK,YAAcyI,EACnBzI,EAAK,QAAUiJ,EACfjJ,EAAK,QAAUkJ,EACflJ,EAAK,WAAaoJ,EAClBpJ,EAAK,SAAW+J,EAChB/J,EAAK,KAAOsK,EACZtK,EAAK,IAAMqL,EAEJrL,CACb,2CCtDAuM,GAAe,IAAM,CACb,MAAAC,EAAYC,SAA0B,IAAI,EAEhDC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAIF,EAAU,QAAS,CACf,MAAAG,EAAO,IAAI3M,GAAK,aAAa,CACjC,QAASwM,EAAU,QACnB,WAAY,EAAA,CACb,EAEKI,EAAU,IAAI5M,GAAK,QAAQ,CAC/B,MAAO2M,EACP,OAAQ,GACR,MAAO,EACP,OAAQ,GACR,MAAO,MAAA,CACR,EAEKE,EAAU,IAAM,CACpBD,EAAQ,OAAO,GAAK,IACpBD,EAAK,kBAAkB,EACvB,sBAAsBE,CAAO,CAC/B,EAEQA,EAAA,CAAA,CAEZ,EAAG,EAAE,SAEG,SAAO,CAAA,IAAKL,EAAW,MAAO,IAAK,OAAQ,IAAK,CAC1D","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]}