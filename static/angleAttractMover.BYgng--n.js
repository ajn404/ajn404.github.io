const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/p5.min.gqEKARVh.js","static/_commonjsHelpers.DqoTaOmB.js","static/_sentry-release-injection-file.B-UwqLso.js","static/_commonjs-dynamic-modules.DYt-0jxj.js"])))=>i.map(i=>d[i]);
import{j as n}from"./jsx-runtime.DZ3s2XAB.js";import f from"./index.FIxribuB.js";import{_ as y}from"./preload-helper.ddZQF9G8.js";import{M as g}from"./Mover.DJ3EP4Mg.js";import"./_sentry-release-injection-file.B-UwqLso.js";import{r as d}from"./index.D4IXJ7me.js";import{u as w}from"./index.BS-qR_3E.js";import{S as b}from"./slider.UtFttJc2.js";import{c as v}from"./utils.CQ2vwKer.js";/* empty css                       */import"./react-icons.esm.Bm3uWd-S.js";import"./createLucideIcon.Bi-ZCKuD.js";import"./_commonjsHelpers.DqoTaOmB.js";import"./index.DSKVgZYz.js";import"./index.Dgakj2qx.js";import"./index.CEsCW6vM.js";import"./index.D4qPoAuk.js";import"./index.DB_Y-4NU.js";import"./index.8q4ZzGYF.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new o.Error().stack;t&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[t]="2a3f435a-0763-4a88-bd63-2d3b97fcd602",o._sentryDebugIdIdentifier="sentry-dbid-2a3f435a-0763-4a88-bd63-2d3b97fcd602")}catch{}})();class _ extends g{constructor(t){super(t),this.mass=0,this.mass=t.random(.5,2),this.circleRadius=this.mass*8,this.color=t.color(t.random(0,255),t.random(0,255),t.random(0,255),t.random(0,100))}update(){this.velocity.add(this.acceleration),this.position.add(this.velocity),this.angleAcceleration=this.acceleration.x/10,this.angleVelocity+=this.angleAcceleration,this.angleVelocity=this.p.constrain(this.angleVelocity,-.1,.1),this.angle+=this.angleVelocity,this.acceleration.mult(0)}applyForce(t){let e=t.copy();e.div(this.mass),this.acceleration.add(e)}}let l;class x{constructor(t,e,i){this.G=1,this.mass=1,this.position=t.createVector(e,i),this.mass=20,this.G=1,this.p=t}async attract(t){l||(l=await y(()=>import("./p5.min.gqEKARVh.js").then(r=>r.p),__vite__mapDeps([0,1,2,3])));let e=l.Vector.sub(this.position,t.position),i=e.mag();i=this.p.constrain(i,5,25);let s=this.G*this.mass*t.mass/(i*i);return e.setMag(s),new Promise(r=>{r(e)})}display(){const t=this.p;t.ellipseMode(t.CENTER),t.stroke(10),t.fill(255,0,0),t.ellipse(this.position.x,this.position.y,this.mass*2)}}const O=()=>{const[o,t]=d.useState(10),e=w(o,100),i=d.useCallback(s=>{let r,c;const m=()=>{s.createCanvas(s.windowWidth/2,240),r=new Array(e).fill(0).map(()=>new _(s)),c=new x(s,s.width/2,s.height/2),s.frameRate(60)},h=()=>{try{s.background(255),c.display(),r.forEach(async a=>{const p=await c.attract(a);a.applyForce(p),a.update(),a.checkEdges(),a.show()})}catch(a){s.noLoop(),console.log(a)}},u=()=>{s.resizeCanvas(s.windowWidth/2,240)};s.setup=m,s.draw=h,s.windowResized=u},[e]);return n.jsxs(n.Fragment,{children:["小球数量debounceNum:",e,n.jsx("br",{}),n.jsx(b,{defaultValue:[50],max:100,min:1,step:1,className:v("w-[100%] m-4"),onValueChange:s=>{t(s[0])},value:[o]}),n.jsx(f,{sketch:i,showControls:!0})]})};export{O as default};
//# sourceMappingURL=angleAttractMover.BYgng--n.js.map
