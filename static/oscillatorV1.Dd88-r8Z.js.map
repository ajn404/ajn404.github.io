{"version":3,"file":"oscillatorV1.Dd88-r8Z.js","sources":["../../src/components/react/p5/Oscillation/practice/oscillatorV1.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport Oscillator from \"./Oscillator\";\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { Switch } from \"@shadcn/ui/switch\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { useCallback, useState } from \"react\";\nimport { cn } from \"@utils/utils\";\nimport Code from \"@components/react/editor/code\";\n\nexport default () => {\n  let [num, setNum] = useState(1);\n  let debounceNum = useDebounce(num, 200);\n  let [background, setBackground] = useState(true);\n\n  const sketch = useCallback(\n    (p: p5) => {\n      let osi: Oscillator[];\n      const setup = () => {\n        p.createCanvas(p.windowWidth / 2, 240);\n        p.frameRate(120);\n        osi = new Array(debounceNum).fill(0).map(_ => {\n          return new Oscillator(p);\n        });\n      };\n\n      const draw = () => {\n        background && p.background(255);\n        osi.forEach(item => {\n          item.update();\n          item.show();\n        });\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debounceNum, background]\n  );\n  return (\n    <div className=\"flex flex-col gap-4 items-center\">\n      <Basic sketch={sketch} showControls></Basic>\n      <span>数量</span>\n      <Slider\n        defaultValue={[10]}\n        max={400}\n        min={1}\n        step={1}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setNum(value[0]);\n        }}\n        value={[num]}\n      />\n      <span>背景</span>\n      <Switch\n        className=\"mx-4\"\n        checked={background}\n        onCheckedChange={e => setBackground(e)}\n      ></Switch>\n\n      <Code>\n        {`import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport Oscillator from \"./Oscillator\"\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { useCallback, useState } from \"react\";\nimport { cn } from \"@utils/utils\";\nimport { Switch } from \"@components/react/shadcn/ui/switch\";\n\nexport default () => {\n    let [num, setNum] = useState(1);\n    let debounceNum = useDebounce(num, 200);\n    let [background, setBackground] = useState(true);\n\n    const sketch = useCallback((p: p5) => {\n        let osi: Oscillator[];\n        const setup = () => {\n            p.createCanvas(p.windowWidth / 2, 240);\n            p.frameRate(120);\n            osi = new Array(debounceNum).fill(0).map(_ => { return new Oscillator(p) });\n        };\n\n        const draw = () => {\n            background && p.background(255);\n            osi.forEach(item => {\n                item.update();\n                item.show();\n            });\n\n        };\n        const resize = () => {\n            p.resizeCanvas(p.windowWidth / 2, 240);\n        };\n        p.setup = setup;\n        p.draw = draw;\n        p.windowResized = resize;\n    }, [debounceNum, background]);\n    return <div className=\"flex flex-col gap-4 items-center\">\n        <Basic sketch={sketch} showControls></Basic>\n        <span>数量</span>\n        <Slider\n            defaultValue={[10]}\n            max={400}\n            min={1}\n            step={1}\n            className={cn(\"w-[100%] m-4\")}\n            onValueChange={value => {\n                setNum(value[0]);\n            }}\n            value={[num]}\n        />\n        <span>背景</span>\n        <Switch\n            className=\"mx-4\"\n            checked={background}\n            onCheckedChange={e => setBackground(e)}\n        ></Switch>\n    </div>;\n};\n`}\n      </Code>\n    </div>\n  );\n};\n"],"names":["oscillatorV1","num","setNum","useState","debounceNum","useDebounce","background","setBackground","sketch","useCallback","p","osi","setup","_","Oscillator","draw","item","resize","jsxs","jsx","Basic","Slider","cn","value","Switch","Code"],"mappings":"4pCAUA,MAAAA,EAAe,IAAM,CACnB,GAAI,CAACC,EAAKC,CAAM,EAAIC,EAAAA,SAAS,CAAC,EAC1BC,EAAcC,EAAYJ,EAAK,GAAG,EAClC,CAACK,EAAYC,CAAa,EAAIJ,EAAAA,SAAS,EAAI,EAE/C,MAAMK,EAASC,EAAA,YACZC,GAAU,CACL,IAAAC,EACJ,MAAMC,EAAQ,IAAM,CAClBF,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,EACrCA,EAAE,UAAU,GAAG,EACTC,EAAA,IAAI,MAAMP,CAAW,EAAE,KAAK,CAAC,EAAE,IAASS,GACrC,IAAIC,EAAWJ,CAAC,CACxB,CACH,EAEMK,EAAO,IAAM,CACHT,GAAAI,EAAE,WAAW,GAAG,EAC9BC,EAAI,QAAgBK,GAAA,CAClBA,EAAK,OAAO,EACZA,EAAK,KAAK,CAAA,CACX,CACH,EACMC,EAAS,IAAM,CACnBP,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQE,EACVF,EAAE,KAAOK,EACTL,EAAE,cAAgBO,CACpB,EACA,CAACb,EAAaE,CAAU,CAC1B,EAEE,OAAAY,EAAA,KAAC,MAAI,CAAA,UAAU,mCACb,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAM,OAAAZ,EAAgB,aAAY,EAAC,CAAA,EACpCW,EAAAA,IAAC,QAAK,SAAE,IAAA,CAAA,EACRA,EAAA,IAACE,EAAA,CACC,aAAc,CAAC,EAAE,EACjB,IAAK,IACL,IAAK,EACL,KAAM,EACN,UAAWC,EAAG,cAAc,EAC5B,cAAwBC,GAAA,CACfrB,EAAAqB,EAAM,CAAC,CAAC,CACjB,EACA,MAAO,CAACtB,CAAG,CAAA,CACb,EACAkB,EAAAA,IAAC,QAAK,SAAE,IAAA,CAAA,EACRA,EAAA,IAACK,EAAA,CACC,UAAU,OACV,QAASlB,EACT,gBAAsB,GAAAC,EAAc,CAAC,CAAA,CACtC,QAEAkB,EACE,CAAA,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CA4DH,CAAA,CAAA,EACF,CAEJ"}