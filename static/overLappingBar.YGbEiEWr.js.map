{"version":3,"file":"overLappingBar.YGbEiEWr.js","sources":["../../src/components/vue/echarts/overLappingBar.vue"],"sourcesContent":["<template>\n    <div ref=\"chartRef\" class=\"chart\"></div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount } from 'vue';\nimport * as echarts from 'echarts';\n\nconst chartRef = ref(null);\nlet chartInstance = null;\n\nconst chartOptions = {\n    animationDurationUpdate: 1200,\n    tooltip: {\n        trigger: 'axis',\n        backgroundColor: 'rgba(0,0,0,0.4)',\n        textStyle: {\n            color: '#f3ffff',\n        },\n        axisPointer: {\n            type: 'shadow',\n        },\n        formatter: (params) => {\n            const dataMapping = {\n                看电影计划: null,\n                看电影完成: null,\n                吃爆米花计划: null,\n                吃爆米花完成: null,\n                追剧计划: null,\n                追剧完成: null,\n            };\n\n            params.forEach((item) => {\n                if (dataMapping[item.seriesName] === null) {\n                    dataMapping[item.seriesName] = item.value;\n                }\n            });\n\n            return `\n        看电影计划: ${dataMapping['看电影计划']} &nbsp;&nbsp;\n        看电影完成: ${dataMapping['看电影完成']}<br/>\n        吃爆米花计划: ${dataMapping['吃爆米花计划']} &nbsp;&nbsp;\n        吃爆米花完成: ${dataMapping['吃爆米花完成']}<br/>\n        追剧计划: ${dataMapping['追剧计划']} &nbsp;&nbsp;\n        追剧完成: ${dataMapping['追剧完成']}<br/>\n      `;\n        },\n        borderColor: 'transparent',\n    },\n    legend: {\n        data: ['看电影计划', '看电影完成', '吃爆米花计划', '吃爆米花完成', '追剧计划', '追剧完成'],\n        selectedMode: false,\n        textStyle: {\n            color: '#fff',\n        },\n        itemWidth: 12,\n        itemHeight: 12,\n        itemGap: 40,\n        right: '4%',\n        top: 21,\n    },\n    grid: {\n        left: '1%',\n        right: '1%',\n        bottom: '5%',\n        containLabel: true,\n    },\n    xAxis: [\n        {\n            type: 'category',\n            data: [\n                '小明', '小红', '小刚', '小丽', '小强', '小美', '小张', '小李', '小王', '小陈', '小刘', '小黄', '小周', '小吴',\n            ],\n            axisLabel: {\n                color: '#D4EFFF',\n            },\n            axisLine: {\n                lineStyle: {\n                    type: 'dashed',\n                    color: 'rgba(255,255,255,0.1)',\n                },\n            },\n        },\n        {\n            type: 'category',\n            show: false,\n            data: [\n                '小明', '小红', '小刚', '小丽', '小强', '小美', '小张', '小李', '小王', '小陈', '小刘', '小黄', '小周', '小吴',\n            ],\n        },\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            axisLabel: {\n                color: '#D4EFFF',\n            },\n            splitLine: {\n                lineStyle: {\n                    type: 'dashed',\n                    color: 'rgba(255,255,255,0.1)',\n                },\n            },\n        },\n    ],\n    series: [\n        {\n            name: '看电影计划',\n            type: 'bar',\n            xAxisIndex: 1,\n            data: Array(14).fill(5),\n            barWidth: 16,\n            itemStyle: {\n                color: 'rgba(6, 255, 164, 0.2)',\n            },\n            z: 1,\n        },\n        {\n            name: '看电影完成',\n            type: 'bar',\n            data: [3, 2, 4, 1, 5, 4, 2, 5, 3, 4, 2, 1, 5, 3],\n            barWidth: 8,\n            itemStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        { offset: 0, color: 'rgba(6, 255, 164, 1)' },\n                        { offset: 1, color: 'rgba(14, 255, 209, 0)' },\n                    ],\n                    global: false,\n                },\n                borderWidth: 4,\n            },\n            z: 2,\n        },\n        {\n            name: '吃爆米花计划',\n            type: 'bar',\n            xAxisIndex: 1,\n            data: Array(14).fill(10),\n            barWidth: 16,\n            itemStyle: {\n                color: 'rgba(0, 219, 255, 0.2)',\n            },\n            z: 1,\n        },\n        {\n            name: '吃爆米花完成',\n            type: 'bar',\n            data: [7, 8, 9, 6, 10, 5, 8, 7, 9, 10, 6, 8, 5, 7],\n            barWidth: 8,\n            itemStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        { offset: 0, color: 'rgba(0, 219, 255, 1)' },\n                        { offset: 1, color: 'rgba(0, 219, 255, 0)' },\n                    ],\n                    global: false,\n                },\n                borderWidth: 4,\n            },\n            z: 2,\n        },\n        {\n            name: '追剧计划',\n            type: 'bar',\n            xAxisIndex: 1,\n            data: Array(14).fill(20),\n            barWidth: 16,\n            itemStyle: {\n                color: 'rgba(255, 176, 6, 0.2)',\n            },\n            z: 1,\n        },\n        {\n            name: '追剧完成',\n            type: 'bar',\n            data: [18, 19, 17, 16, 20, 14, 19, 18, 17, 20, 15, 19, 14, 18],\n            barWidth: 8,\n            barGap: '140%',\n            itemStyle: {\n                color: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [\n                        { offset: 0, color: 'rgba(255, 176, 6, 1)' },\n                        { offset: 1, color: 'rgba(255, 176, 6, 0)' },\n                    ],\n                    global: false,\n                },\n            },\n            z: 2,\n        },\n    ],\n};\n\nconst initMarkPoint = () => {\n    chartOptions.series.forEach((item) => {\n        if (item.barWidth === 8) {\n            item.markPoint = {\n                symbol: 'rect',\n                symbolSize: [14, 1],\n                label: {\n                    show: false,\n                },\n                data: item.data.map((data, index) => ({ coord: [index, data] })),\n            };\n        }\n    });\n};\n\nconst renderChart = () => {\n    if (chartRef.value) {\n        chartInstance = echarts.init(chartRef.value);\n        initMarkPoint();\n        chartInstance.setOption(chartOptions);\n    }\n};\n\nonMounted(() => {\n    renderChart();\n    window.addEventListener('resize', chartInstance.resize);\n});\n\nonBeforeUnmount(() => {\n    if (chartInstance) {\n        chartInstance.dispose();\n    }\n    window.removeEventListener('resize', chartInstance.resize);\n});\n</script>\n\n<style scoped>\n.chart {\n    width: 100%;\n    height: 260px;\n}\n</style>\n"],"names":["chartRef","ref","chartInstance","chartOptions","params","dataMapping","item","initMarkPoint","data","index","renderChart","echarts.init","onMounted","onBeforeUnmount","_openBlock","_createElementBlock","_hoisted_1"],"mappings":"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"}