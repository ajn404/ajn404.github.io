{"version":3,"file":"images-slider.CbATFE7l.js","sources":["../../src/components/react/aceternity/ui/images-slider.tsx","../../src/components/react/aceternity/demo/images-slider.tsx"],"sourcesContent":["import { cn } from \"@utils/utils\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport React, { useEffect, useState } from \"react\";\n\nexport const ImagesSlider = ({\n  images,\n  children,\n  overlay = true,\n  overlayClassName,\n  className,\n  autoplay = true,\n  direction = \"up\",\n}: {\n  images: string[];\n  children: React.ReactNode;\n  overlay?: React.ReactNode;\n  overlayClassName?: string;\n  className?: string;\n  autoplay?: boolean;\n  direction?: \"up\" | \"down\";\n}) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [loadedImages, setLoadedImages] = useState<string[]>([]);\n\n  const handleNext = () => {\n    setCurrentIndex(prevIndex =>\n      prevIndex + 1 === images.length ? 0 : prevIndex + 1\n    );\n  };\n\n  const handlePrevious = () => {\n    setCurrentIndex(prevIndex =>\n      prevIndex - 1 < 0 ? images.length - 1 : prevIndex - 1\n    );\n  };\n\n  useEffect(() => {\n    loadImages();\n  }, []);\n\n  const loadImages = () => {\n    setLoading(true);\n    const loadPromises = images.map(image => {\n      return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.src = image;\n        img.onload = () => resolve(image);\n        img.onerror = reject;\n      });\n    });\n\n    Promise.all(loadPromises)\n      .then(loadedImages => {\n        setLoadedImages(loadedImages as string[]);\n        setLoading(false);\n      })\n      .catch(error => console.error(\"Failed to load images\", error));\n  };\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"ArrowRight\") {\n        handleNext();\n      } else if (event.key === \"ArrowLeft\") {\n        handlePrevious();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    // autoplay\n    let interval: any;\n    if (autoplay) {\n      interval = setInterval(() => {\n        handleNext();\n      }, 5000);\n    }\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      clearInterval(interval);\n    };\n  }, []);\n\n  const slideVariants = {\n    initial: {\n      scale: 0,\n      opacity: 0,\n      rotateX: 45,\n    },\n    visible: {\n      scale: 1,\n      rotateX: 0,\n      opacity: 1,\n      transition: {\n        duration: 0.5,\n        ease: [0.645, 0.045, 0.355, 1.0],\n      },\n    },\n    upExit: {\n      opacity: 1,\n      y: \"-150%\",\n      transition: {\n        duration: 1,\n      },\n    },\n    downExit: {\n      opacity: 1,\n      y: \"150%\",\n      transition: {\n        duration: 1,\n      },\n    },\n  };\n\n  const areImagesLoaded = loadedImages.length > 0;\n\n  return (\n    <div\n      className={cn(\n        \"overflow-hidden h-full w-full relative flex items-center justify-center\",\n        className\n      )}\n      style={{\n        perspective: \"1000px\",\n      }}\n    >\n      {areImagesLoaded && children}\n      {areImagesLoaded && overlay && (\n        <div\n          className={cn(\"absolute inset-0 bg-black/60 z-40\", overlayClassName)}\n        />\n      )}\n\n      {areImagesLoaded && (\n        <AnimatePresence>\n          <motion.img\n            key={currentIndex}\n            src={loadedImages[currentIndex]}\n            initial=\"initial\"\n            animate=\"visible\"\n            exit={direction === \"up\" ? \"upExit\" : \"downExit\"}\n            variants={slideVariants}\n            className=\"image h-full w-full absolute inset-0 object-contain object-center\"\n          />\n        </AnimatePresence>\n      )}\n    </div>\n  );\n};\n","import { motion } from \"framer-motion\";\nimport { ImagesSlider } from \"../ui/images-slider\";\n\nexport default function ImagesSliderDemo() {\n  const images = [\n    \"/assets/bg/4.webp\",\n    \"/assets/bg/2.webp\",\n    \"/assets/bg/1.webp\",\n    \"/assets/bg/7.webp\",\n    \"/assets/bg/7.webp\",\n    \"/assets/svg/ru01.svg\",\n  ];\n  return (\n    <ImagesSlider className=\"h-[40rem]\" images={images}>\n      <motion.div\n        initial={{\n          opacity: 0,\n          y: -80,\n        }}\n        animate={{\n          opacity: 1,\n          y: 0,\n        }}\n        transition={{\n          duration: 0.6,\n        }}\n        className=\"z-50 flex flex-col justify-center items-center\"\n      >\n        <motion.p className=\"font-bold text-xl md:text-6xl text-center bg-clip-text text-transparent bg-gradient-to-b from-neutral-50 to-neutral-400 py-4 gap-2\">\n          我又又又加了一些图片\n          <br />\n          <br />\n          左右键快速切换\n          <br />\n          <br /> 说实话,♟️我需要oss\n        </motion.p>\n        <button className=\"px-4 py-2 backdrop-blur-sm border bg-emerald-300/10 border-emerald-500/20 text-white mx-auto text-center rounded-full relative mt-4\">\n          <span>ok,get it</span>\n          <div className=\"absolute inset-x-0  h-px -bottom-px bg-gradient-to-r w-3/4 mx-auto from-transparent via-emerald-500 to-transparent\" />\n        </button>\n      </motion.div>\n    </ImagesSlider>\n  );\n}\n"],"names":["ImagesSlider","images","children","overlay","overlayClassName","className","autoplay","direction","currentIndex","setCurrentIndex","useState","loading","setLoading","loadedImages","setLoadedImages","handleNext","prevIndex","handlePrevious","useEffect","loadImages","loadPromises","image","resolve","reject","img","error","handleKeyDown","event","interval","slideVariants","areImagesLoaded","jsxs","cn","jsx","AnimatePresence","motion","ImagesSliderDemo"],"mappings":"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"}