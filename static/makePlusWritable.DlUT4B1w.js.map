{"version":3,"file":"makePlusWritable.DlUT4B1w.js","sources":["../../src/components/vue/challenge/makePlusWritable.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, computed, onUnmounted } from \"vue\";\n\nconst count = ref(1);\n\n/**\n * Make the `plusOne` writable.\n * So that we can get the result `plusOne` to be 3, and `count` to be 2.\n */\n\nconst stop = () => {\n    clearInterval(timer);\n};\n\nconst reset = () => {\n    stop();\n    count.value = 1;\n    timer = setInterval(() => {\n        plusOne.value++;\n    }, 1000);\n};\n\nconst plusOne = computed({\n    get: () => count.value + 1,\n    set: val => {\n        if (val <= 10) count.value = val - 1;\n        else stop();\n    }\n}, {\n    onTrack: (e) => {\n        // debugger;\n        console.log(\"onTrack\", e)\n    },\n    onTrigger: (e) => {\n        // debugger;\n        console.log(\"onTrigger\", e)\n    }\n});\n\nlet timer = setInterval(() => {\n    plusOne.value++;\n}, 1000);\n\nonUnmounted(() => {\n    clearInterval(timer);\n});\n</script>\n\n<template>\n    <div class=\"grid grid-cols-2 gap-5\">\n        <div class=\"bg-skin-purple text-skin-orange px-5 border\n\">plusOne</div>\n        <div class=\"bg-skin-purple text-skin-orange px-5 border\">count\n        </div>\n    </div>\n    <div class=\"grid grid-cols-2 gap-5\">\n        <div class=\"bg-skin-purple text-skin-orange px-5 border\">{{ plusOne }}</div>\n        <div class=\"bg-skin-purple text-skin-orange px-5 border\">{{ count }}</div>\n    </div>\n    <button @click=\"reset\" :class=\"[plusOne < 10 && 'invisible']\" class=\"bg-skin-purple  w-full mt-10 text-skin-orange px-5 hover:bg-skin-orange hover:text-skin-purple border\">\n        reset\n    </button>\n</template>\n"],"names":["count","ref","stop","timer","reset","plusOne","computed","val","onUnmounted","_hoisted_1","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_Fragment","_cache","_createElementVNode","_toDisplayString","$setup","_normalizeClass"],"mappings":"6nBAGM,MAAAA,EAAQC,EAAI,CAAC,EAObC,EAAO,IAAM,CACf,cAAcC,CAAK,CACvB,EAEMC,EAAQ,IAAM,CACXF,EAAA,EACLF,EAAM,MAAQ,EACdG,EAAQ,YAAY,IAAM,CACdE,EAAA,SACT,GAAI,CACX,EAEMA,EAAUC,EAAS,CACrB,IAAK,IAAMN,EAAM,MAAQ,EACzB,IAAYO,GAAA,CACJA,GAAO,GAAUP,EAAA,MAAQO,EAAM,EACzBL,EAAA,CAAA,CACd,EACD,CASH,CAAC,EAEG,IAAAC,EAAQ,YAAY,IAAM,CAClBE,EAAA,SACT,GAAI,EAEPG,EAAY,IAAM,CACd,cAAcL,CAAK,CAAA,CACtB,qKAUQM,EAAA,CAAA,MAAM,wBAAwB,EAC1BC,EAAA,CAAA,MAAM,6CAA6C,EACnDC,EAAA,CAAA,MAAM,6CAA6C,0BAzDhE,OAAAC,EAAA,EAAAC,EAAAC,EAAA,KAAA,CAiDIC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAKM,MALD,CAAA,MAAM,0BAAwB,CAC/BA,EACO,MAAA,CADF,MAAM,6CAAA,EACjB,SAAO,EACDA,EACM,MAAA,CADD,MAAM,+CAA8C,QACzD,CAAA,EAAA,EAAA,GAEJA,EAGM,MAHNP,EAGM,CAFFO,EAA4E,MAA5EN,EAA4EO,EAAhBC,EAAO,OAAA,EAAA,CAAA,EACnEF,EAA0E,MAA1EL,EAA0EM,EAAdC,EAAK,KAAA,EAAA,CAAA,CAAA,CAAA,EAErEF,EAES,SAAA,CAFA,QAAOE,EAAA,MAAQ,MA3D5BC,EAAA,CAAA,CA2DoCD,EAAO,QAAA,IAAA,WAAA,EAA6B,sGAAuG,CAAA,CAAA,EAAC,UAE5K,CAAA,CAAA,EAAA,EAAA"}