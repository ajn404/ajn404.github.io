/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new i.Error().stack;s&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[s]="1188a703-1fef-4611-a2a5-404772f345d9",i._sentryDebugIdIdentifier="sentry-dbid-1188a703-1fef-4611-a2a5-404772f345d9")}catch{}})();function Dt(i){var s=typeof Symbol=="function"&&Symbol.iterator,t=s&&i[s],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(i,s){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),r,n=[],o;try{for(;(s===void 0||s-- >0)&&!(r=e.next()).done;)n.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return n}function De(){for(var i=[],s=0;s<arguments.length;s++)i=i.concat(Gt(arguments[s]));return i}var me=function(i){return typeof i>"u"},Ke=function(){function i(t,e){var r,n;if(this._canceled=!1,e)try{for(var o=Dt(Object.keys(e)),a=o.next();!a.done;a=o.next()){var u=a.value;this[u]=e[u]}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.eventType=t}var s=i.prototype;return s.stop=function(){this._canceled=!0},s.isCanceled=function(){return this._canceled},i}(),re=function(){function i(){this._eventHandler={}}var s=i.prototype;return s.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t instanceof Ke?t.eventType:t,o=De(this._eventHandler[n]||[]);return o.length<=0?this:(t instanceof Ke?(t.currentTarget=this,o.forEach(function(a){a(t)})):o.forEach(function(a){a.apply(void 0,De(e))}),this)},s.once=function(t,e){var r=this;if(typeof t=="object"&&me(e)){var n=t;for(var o in n)this.once(o,n[o]);return this}else if(typeof t=="string"&&typeof e=="function"){var a=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];e.apply(void 0,De(u)),r.off(t,a)};this.on(t,a)}return this},s.hasOn=function(t){return!!this._eventHandler[t]},s.on=function(t,e){if(typeof t=="object"&&me(e)){var r=t;for(var n in r)this.on(n,r[n]);return this}else if(typeof t=="string"&&typeof e=="function"){var o=this._eventHandler[t];me(o)&&(this._eventHandler[t]=[],o=this._eventHandler[t]),o.push(e)}return this},s.off=function(t,e){if(me(t))return this._eventHandler={},this;if(me(e)){if(typeof t=="string")return delete this._eventHandler[t],this;var r=t;for(var n in r)this.off(n,r[n]);return this}var o=this._eventHandler[t];if(o){for(var a=o.length,u=0;u<a;++u)if(o[u]===e){o.splice(u,1),a<=1&&delete this._eventHandler[t];break}}return this},i.VERSION="3.0.5",i}(),X=Ke,kt=function(){function i(){this.keys=[],this.values=[]}var s=i.prototype;return s.get=function(t){return this.values[this.keys.indexOf(t)]},s.set=function(t,e){var r=this.keys,n=this.values,o=r.indexOf(t),a=o===-1?r.length:o;r[a]=t,n[a]=e},i}(),At=function(){function i(){this.object={}}var s=i.prototype;return s.get=function(t){return this.object[t]},s.set=function(t,e){this.object[t]=e},i}(),Nt=typeof Map=="function",Kt=function(){function i(){}var s=i.prototype;return s.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},s.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},s.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},i}();function Vt(i,s){var t=[],e=[];return i.forEach(function(r){var n=r[0],o=r[1],a=new Kt;t[n]=a,e[o]=a}),t.forEach(function(r,n){r.connect(t[n-1])}),i.filter(function(r,n){return!s[n]}).map(function(r,n){var o=r[0],a=r[1];if(o===a)return[0,0];var u=t[o],c=e[a-1],l=u.getIndex();u.disconnect(),c?u.connect(c,c.next):u.connect(void 0,t[0]);var h=u.getIndex();return[l,h]})}var Ut=function(){function i(t,e,r,n,o,a,u,c){this.prevList=t,this.list=e,this.added=r,this.removed=n,this.changed=o,this.maintained=a,this.changedBeforeAdded=u,this.fixed=c}var s=i.prototype;return Object.defineProperty(s,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(s,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),s.caculateOrdered=function(){var t=Vt(this.changedBeforeAdded,this.fixed),e=this.changed,r=[];this.cacheOrdered=t.filter(function(n,o){var a=n[0],u=n[1],c=e[o],l=c[0],h=c[1];if(a!==u)return r.push([l,h]),!0}),this.cachePureChanged=r},i}();function xe(i,s,t){var e=Nt?Map:t?At:kt,r=t||function(m){return m},n=[],o=[],a=[],u=i.map(r),c=s.map(r),l=new e,h=new e,d=[],f=[],p={},v=[],g=0,R=0;return u.forEach(function(m,I){l.set(m,I)}),c.forEach(function(m,I){h.set(m,I)}),u.forEach(function(m,I){var C=h.get(m);typeof C>"u"?(++R,o.push(I)):p[C]=R}),c.forEach(function(m,I){var C=l.get(m);typeof C>"u"?(n.push(I),++g):(a.push([C,I]),R=p[I]||0,d.push([C-R,I-g]),f.push(I===C),C!==I&&v.push([C,I]))}),o.reverse(),new Ut(i,s,n,o,v,a,d,f)}var jt=typeof Map=="function"?void 0:function(){var i=0;return function(s){return s.__DIFF_KEY__||(s.__DIFF_KEY__=++i)}}();function ot(i,s){return xe(i,s,jt)}var Ve=function(i,s){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Ve(i,s)};function ve(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");Ve(i,s);function t(){this.constructor=i}i.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}var pe=function(){return pe=Object.assign||function(s){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},pe.apply(this,arguments)};function qt(){for(var i=0,s=0,t=arguments.length;s<t;s++)i+=arguments[s].length;for(var e=Array(i),r=0,s=0;s<t;s++)for(var n=arguments[s],o=0,a=n.length;o<a;o++,r++)e[r]=n[o];return e}var Fe=typeof window<"u",Bt=Fe?window.navigator.userAgent:"",Ht=Fe?"getComputedStyle"in window:!1,Wt=/MSIE|Trident|Windows Phone|Edge/.test(Bt),Ft=Fe?"addEventListener"in document:!1,Ue="width",Re="height";function ze(i,s){return i.getAttribute(s)||""}function Pe(i){return[].slice.call(i)}function $t(i,s){return s===void 0&&(s="data-"),!!i.getAttribute(s+"width")}function at(i,s){return s===void 0&&(s="data-"),"loading"in i&&i.getAttribute("loading")==="lazy"||!!i.getAttribute(s+"lazy")}function Yt(i,s){return s===void 0&&(s="data-"),!!i.getAttribute(s+"skip")}function ut(i,s,t){Ft?i.addEventListener(s,t,!1):i.attachEvent?i.attachEvent("on"+s,t):i["on"+s]=t}function lt(i,s,t){i.removeEventListener?i.removeEventListener(s,t,!1):i.detachEvent?i.detachEvent("on"+s,t):i["on"+s]=null}function Zt(i){return ct(i,"Width")}function Xt(i){return ct(i,"Height")}function Qt(i){return(Ht?window.getComputedStyle(i):i.currentStyle)||{}}function ct(i,s){var t=i["client"+s]||i["offset"+s];return parseFloat(t||Qt(i)[s.toLowerCase()])||0}function Jt(i,s,t){var e=Pe(i.querySelectorAll(qt(["["+t+"skip] ["+t+"width]"],s.map(function(r){return["["+t+"skip] "+r,r+"["+t+"skip]","["+t+"width] "+r].join(", ")})).join(", ")));return Pe(i.querySelectorAll("["+t+"width], "+s.join(", "))).filter(function(r){return e.indexOf(r)===-1})}var de=[];function ht(i,s){!de.length&&ut(window,"resize",dt),i.__PREFIX__=s,de.push(i),ft(i)}function er(i,s){var t=de.indexOf(i);if(!(t<0)){var e=ze(i,s+"fixed");delete i.__PREFIX__,i.style[e===Re?Ue:Re]="",de.splice(t,1),!de.length&&lt(window,"resize",dt)}}function ft(i,s){s===void 0&&(s="data-");var t=i.__PREFIX__||s,e=parseInt(ze(i,""+t+Ue),10)||0,r=parseInt(ze(i,""+t+Re),10)||0,n=ze(i,t+"fixed");if(n===Re){var o=Xt(i)||r;i.style[Ue]=e/r*o+"px"}else{var o=Zt(i)||e;i.style[Re]=r/e*o+"px"}}function dt(){de.forEach(function(i){ft(i)})}var $e=function(i){ve(s,i);function s(e,r){r===void 0&&(r={});var n=i.call(this)||this;n.isReady=!1,n.isPreReady=!1,n.hasDataSize=!1,n.hasLoading=!1,n.isSkip=!1,n.onCheck=function(a){if(n.clear(),a&&a.type==="error"&&n.onError(n.element),!(n.hasLoading&&n.checkElement())){var u=!n.hasDataSize&&!n.hasLoading;n.onReady(u)}},n.options=pe({prefix:"data-"},r),n.element=e;var o=n.options.prefix;return n.hasDataSize=$t(e,o),n.isSkip=Yt(e,o),n.hasLoading=at(e,o),n}var t=s.prototype;return t.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&ht(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},t.addEvents=function(){var e=this,r=this.element;this.constructor.EVENTS.forEach(function(n){ut(r,n,e.onCheck)})},t.clear=function(){var e=this,r=this.element;this.constructor.EVENTS.forEach(function(n){lt(r,n,e.onCheck)}),this.removeAutoSizer()},t.destroy=function(){this.clear(),this.off()},t.removeAutoSizer=function(){if(this.hasDataSize){var e=this.options.prefix;er(this.element,e)}},t.onError=function(e){this.trigger("error",{element:this.element,target:e})},t.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},t.onReady=function(e){this.isReady||(e=!this.isPreReady&&e,e&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:e,hasLoading:this.hasLoading,isSkip:this.isSkip}))},t.onAlreadyError=function(e){var r=this;setTimeout(function(){r.onError(e)})},t.onAlreadyPreReady=function(){var e=this;setTimeout(function(){e.onPreReady()})},t.onAlreadyReady=function(e){var r=this;setTimeout(function(){r.onReady(e)})},s.EVENTS=[],s}(re),tr=function(i){ve(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}var t=s.prototype;return t.setHasLoading=function(e){this.hasLoading=e},t.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(ht(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},t.checkElement=function(){return!0},t.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},t.onAlreadyPreReady=function(){i.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},s.EVENTS=[],s}($e),rr=function(i){ve(s,i);function s(e){e===void 0&&(e={});var r=i.call(this)||this;return r.readyCount=0,r.preReadyCount=0,r.totalCount=0,r.totalErrorCount=0,r.isPreReadyOver=!0,r.elementInfos=[],r.options=pe({loaders:{},prefix:"data-"},e),r}var t=s.prototype;return t.check=function(e){var r=this,n=this.options.prefix;this.clear(),this.elementInfos=Pe(e).map(function(a,u){var c=r.getLoader(a,{prefix:n});return c.check(),c.on("error",function(l){r.onError(u,l.target)}).on("preReady",function(l){var h=r.elementInfos[u];h.hasLoading=l.hasLoading,h.isSkip=l.isSkip;var d=r.checkPreReady(u);r.onPreReadyElement(u),d&&r.onPreReady()}).on("ready",function(l){var h=l.withPreReady,d=l.hasLoading,f=l.isSkip,p=r.elementInfos[u];p.hasLoading=d,p.isSkip=f;var v=h&&r.checkPreReady(u),g=r.checkReady(u);h&&r.onPreReadyElement(u),r.onReadyElement(u),v&&r.onPreReady(),g&&r.onReady()}),{loader:c,element:a,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var o=this.elementInfos.length;return this.totalCount=o,o||setTimeout(function(){r.onPreReady(),r.onReady()}),this},t.getTotalCount=function(){return this.totalCount},t.isPreReady=function(){return this.elementInfos.every(function(e){return e.isPreReady})},t.isReady=function(){return this.elementInfos.every(function(e){return e.isReady})},t.hasError=function(){return this.totalErrorCount>0},t.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(e){e.loader&&e.loader.destroy()}),this.elementInfos=[]},t.destroy=function(){this.clear(),this.off()},t.getLoader=function(e,r){var n=this,o=e.tagName.toLowerCase(),a=this.options.loaders,u=r.prefix,c=Object.keys(a);if(a[o])return new a[o](e,r);var l=new tr(e,r),h=Pe(e.querySelectorAll(c.join(", ")));l.setHasLoading(h.some(function(p){return at(p,u)}));var d=!1,f=this.clone().on("error",function(p){l.onError(p.target)}).on("ready",function(){l.onReady(d)});return l.on("requestChildren",function(){var p=Jt(e,c,n.options.prefix);f.check(p).on("preReady",function(v){d=v.isReady,d||l.onPreReady()})}).on("reqeustReadyChildren",function(){f.check(h)}).on("requestDestroy",function(){f.destroy()}),l},t.clone=function(){return new s(pe({},this.options))},t.checkPreReady=function(e){return this.elementInfos[e].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},t.checkReady=function(e){return this.elementInfos[e].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},t.onError=function(e,r){var n=this.elementInfos[e];n.hasError=!0,this.trigger(new X("error",{element:n.element,index:e,target:r,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},t.onPreReadyElement=function(e){var r=this.elementInfos[e];this.trigger(new X("preReadyElement",{element:r.element,index:e,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:r.hasLoading,isSkip:r.isSkip}))},t.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new X("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},t.onReadyElement=function(e){var r=this.elementInfos[e];this.trigger(new X("readyElement",{index:e,element:r.element,hasError:r.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:r.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:r.isSkip}))},t.onReady=function(){this.trigger(new X("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},t.getErrorCount=function(){return this.elementInfos.filter(function(e){return e.hasError}).length},t.hasLoading=function(){return this.elementInfos.some(function(e){return e.hasLoading})},s}(re),nr=function(i){ve(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}var t=s.prototype;return t.checkElement=function(){var e=this.element,r=e.getAttribute("src");if(e.complete){if(r)return e.naturalWidth||this.onAlreadyError(e),!1;this.onAlreadyPreReady()}return this.addEvents(),Wt&&e.setAttribute("src",r),!0},s.EVENTS=["load","error"],s}($e),ir=function(i){ve(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}var t=s.prototype;return t.checkElement=function(){var e=this.element;return e.readyState>=1?!1:e.error?(this.onAlreadyError(e),!1):(this.addEvents(),!0)},s.EVENTS=["loadedmetadata","error"],s}($e),sr=function(i){ve(s,i);function s(t){return t===void 0&&(t={}),i.call(this,pe({loaders:{img:nr,video:ir}},t))||this}return s}(rr);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var je=function(i,s){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},je(i,s)};function Ye(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");je(i,s);function t(){this.constructor=i}i.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}var D=function(){return D=Object.assign||function(s){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},D.apply(this,arguments)};function pt(i,s,t,e){var r=arguments.length,n=r<3?s:e===null?e=Object.getOwnPropertyDescriptor(s,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(i,s,t,e);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(n=(r<3?o(n):r>3?o(s,t,n):o(s,t))||n);return r>3&&n&&Object.defineProperty(s,t,n),n}function et(i,s){for(var t=0,e=s.length,r=i.length;t<e;t++,r++)i[r]=s[t];return i}var q={horizontal:!1,useTransform:!1,percentage:!1,isEqualSize:!1,isConstantSize:!1,gap:0,attributePrefix:"data-grid-",resizeDebounce:100,maxResizeDebounce:0,autoResize:!0,preserveUIOnDestroy:!1,defaultDirection:"end",externalContainerManager:null,externalItemRenderer:null,renderOnPropertyChange:!0,useFit:!0,outlineLength:0,outlineSize:0,useRoundedSize:!0,useResizeObserver:!1,observeChildren:!1},T;(function(i){i[i.PROPERTY=1]="PROPERTY",i[i.RENDER_PROPERTY=2]="RENDER_PROPERTY"})(T||(T={}));var F;(function(i){i[i.UNCHECKED=1]="UNCHECKED",i[i.UNMOUNTED=2]="UNMOUNTED",i[i.MOUNTED=3]="MOUNTED"})(F||(F={}));var B;(function(i){i[i.NEED_UPDATE=1]="NEED_UPDATE",i[i.WAIT_LOADING=2]="WAIT_LOADING",i[i.UPDATED=3]="UPDATED"})(B||(B={}));var vt={gap:T.RENDER_PROPERTY,defaultDirection:T.PROPERTY,renderOnPropertyChange:T.PROPERTY,preserveUIOnDestroy:T.PROPERTY,useFit:T.PROPERTY,outlineSize:T.RENDER_PROPERTY,outlineLength:T.RENDER_PROPERTY},_e={horizontal:{inlinePos:"top",contentPos:"left",inlineSize:"height",contentSize:"width"},vertical:{inlinePos:"left",contentPos:"top",inlineSize:"width",contentSize:"height"}};function or(i){return Object.keys(i)}function gt(i,s){var t=mt(i);return ot(s.map(function(e){return e.target}),t.map(function(e){return e.element})).maintained.filter(function(e){var r=e[0],n=e[1],o=s[r].size,a=i[n];return!a.inlineSize||!a.contentSize||o.inlineSize!==a.computedInlineSize||o.blockSize!==a.computedContentSize}).map(function(e){var r=e[1];return i[r]})}function mt(i){return i.filter(function(s){return s.element})}function tt(i){return mt(i).map(function(s){return s.element})}function yt(i){return typeof i=="string"}function ar(i){return typeof i=="number"}function ur(i){return i.replace(/[\s-_]([a-z])/g,function(s,t){return t.toUpperCase()})}function lr(i,s){for(var t={},e=i.attributes,r=e.length,n=0;n<r;++n){var o=e[n],a=o.name,u=o.value;a.indexOf(s)!==-1&&(t[ur(a.replace(s,""))]=u)}return t}function Ze(i){var s=i.prototype,t=i.propertyTypes,e=function(n){var o=t[n]===T.RENDER_PROPERTY,a=Object.getOwnPropertyDescriptor(s,n)||{},u=a.get||function(){return this.options[n]},c=a.set||function(d){var f=this.options,p=f[n];p!==d&&(f[n]=d,o&&f.renderOnPropertyChange&&this.scheduleRender())},l={enumerable:!0,configurable:!0,get:u,set:c};Object.defineProperty(s,n,l)};for(var r in t)e(r)}function Oe(i){for(var s=[],t=0;t<i;++t)s.push(t);return s}var cr=function(){function i(t,e){var r=this;e===void 0&&(e={}),this._resizeTimer=0,this._maxResizeDebounceTimer=0,this.rect={width:0,height:0},this._updatedEntries=[],this._onWindowResize=function(){r._scheduleResize([{target:r.container}])},this._onObserve=function(n){var o=r._options,a=r.container,u=o.rectBox,c=o.childrenRectBox;r._scheduleResize(n.map(function(l){var h=l.target,d=h===a?u:c,f=d==="border-box"?l.borderBoxSize:l.contentBoxSize;if(!f){var p=l.contentRect;f=[{inlineSize:p.width,blockSize:p.height}]}return{size:f[0]||f,target:l.target}}))},this._scheduleResize=function(n){var o=r._options,a=o.resizeDebounce,u=o.maxResizeDebounce,c=r._updatedEntries;c.push.apply(c,n),r._updatedEntries=c.filter(function(l,h){return c.lastIndexOf(l)===h}),!r._maxResizeDebounceTimer&&u>=a&&(r._maxResizeDebounceTimer=window.setTimeout(r._onResize,u)),r._resizeTimer&&(clearTimeout(r._resizeTimer),r._resizeTimer=0),r._resizeTimer=window.setTimeout(r._onResize,a)},this._onResize=function(){clearTimeout(r._resizeTimer),clearTimeout(r._maxResizeDebounceTimer),r._maxResizeDebounceTimer=0,r._resizeTimer=0;var n=r._updatedEntries,o=r.container,a,u=n.filter(function(R){return R.target===o?(a=R,!1):!0}),c=u.length>0,l=!!a;if(l){var h=r._options.watchDirection,d=r.rect,f=a.size;f?r.setRect({width:f.inlineSize,height:f.blockSize}):r.resize();var p=r.rect,v=h==="box"||h==="width",g=h==="box"||h==="height";l=!h||v&&d.width!==p.width||g&&d.height!==p.height}r._updatedEntries=[],(l||c)&&r._emitter.trigger("resize",{isResizeContainer:l,childEntries:u})},this._options=D({resizeDebounce:100,maxResizeDebounce:0,useResizeObserver:!1,useWindowResize:!0,watchDirection:!1,rectBox:"content-box",childrenRectBox:"border-box"},e),this.container=yt(t)?document.querySelector(t):t,this._init()}var s=i.prototype;return s.getRect=function(){return this.rect},s.setRect=function(t){this.rect=D({},t)},s.isObserverEnabled=function(){return!!this._observer},s.resize=function(){var t=this.container;this.setRect(this._options.rectBox==="border-box"?{width:t.offsetWidth,height:t.offsetHeight}:{width:t.clientWidth,height:t.clientHeight})},s.observeChildren=function(t){var e=this._observer;if(e){var r=this._options.childrenRectBox;t.forEach(function(n){n&&e.observe(n,{box:r})})}},s.unobserveChildren=function(t){var e=this._observer;e&&t.forEach(function(r){r&&e.unobserve(r)})},s.listen=function(t){return this._emitter.on("resize",t),this},s.destroy=function(){var t;(t=this._observer)===null||t===void 0||t.disconnect(),this._options.useWindowResize&&window.removeEventListener("resize",this._onWindowResize)},s._init=function(){var t=this.container,e=this._options;this._emitter=new re,e.useResizeObserver&&window.ResizeObserver&&(this._observer=new window.ResizeObserver(this._onObserve),this._observer.observe(t,{box:e.rectBox})),e.useWindowResize&&window.addEventListener("resize",this._onWindowResize),this.resize()},i}(),Rt=function(i){Ye(s,i);function s(e,r){var n=i.call(this)||this;return n.container=e,n._onResize=function(o){n.trigger("resize",o)},n.options=D({horizontal:q.horizontal,autoResize:q.autoResize,resizeDebounce:q.resizeDebounce,maxResizeDebounce:q.maxResizeDebounce,useResizeObserver:q.useResizeObserver},r),n._init(),n}var t=s.prototype;return t.resize=function(){var e=this.container;this.setRect({width:e.clientWidth,height:e.clientHeight})},t.isObserverEnabled=function(){return this._watcher.isObserverEnabled()},t.getRect=function(){return this._watcher.getRect()},t.observeChildren=function(e){this._watcher.observeChildren(e)},t.unobserveChildren=function(e){this._watcher.unobserveChildren(e)},t.setRect=function(e){this._watcher.setRect(e)},t.getInlineSize=function(){return this.getRect()[this._names.inlineSize]},t.getContentSize=function(){return this.getRect()[this._names.contentSize]},t.getStatus=function(){return{rect:this._watcher.getRect()}},t.setStatus=function(e){this.setRect(e.rect),this.setContentSize(this.getContentSize())},t.setContentSize=function(e){var r,n=this.options.horizontal?"width":"height";this.setRect(D(D({},this.getRect()),(r={},r[n]=e,r))),this.container.style[n]=e+"px"},t.destroy=function(e){e===void 0&&(e={}),this._watcher.destroy(),e.preserveUI||(this.container.style.cssText=this.orgCSSText)},t._init=function(){var e=this.container,r=window.getComputedStyle(e);this.orgCSSText=e.style.cssText,r.position==="static"&&(e.style.position="relative");var n=this.options;this._watcher=new cr(e,{useWindowResize:n.autoResize,useResizeObserver:n.useResizeObserver,resizeDebounce:n.resizeDebounce,maxResizeDebounce:n.maxResizeDebounce,watchDirection:n.useResizeObserver?this._names.inlineSize:!1}).listen(this._onResize)},Object.defineProperty(t,"_names",{get:function(){return _e[this.options.horizontal?"horizontal":"vertical"]},enumerable:!1,configurable:!0}),s}(re),_t=function(){function i(t){this.initialRects={},this.sizePercetage=!1,this.posPercetage=!1,this.options=D({attributePrefix:q.attributePrefix,useTransform:q.useTransform,horizontal:q.horizontal,percentage:q.percentage,isEqualSize:q.isEqualSize,isConstantSize:q.isConstantSize,useRoundedSize:q.useRoundedSize},t),this._init()}var s=i.prototype;return s.resize=function(){this.initialRects={}},s.renderItems=function(t){var e=this;t.forEach(function(r){e._renderItem(r)})},s.getInlineSize=function(){return this.containerRect[this.options.horizontal?"height":"width"]},s.setContainerRect=function(t){this.containerRect=t},s.updateEqualSizeItems=function(t,e){var r=this;this.updateItems(t);var n=t.some(function(a){return a.attributes.sizeGroup});if(this.options.isEqualSize||n){var o=t.some(function(a){return a.updateState===B.UPDATED});o&&e.forEach(function(a){t.indexOf(a)===-1&&r.updateItem(a,!0)})}},s.updateItems=function(t){var e=this;t.forEach(function(r){e.updateItem(r)})},s.getStatus=function(){return{initialRects:this.initialRects}},s.setStatus=function(t){this.initialRects=t.initialRects},s._init=function(){var t=this.options.percentage,e=!1,r=!1;t===!0?(e=!0,r=!0):t&&(t.indexOf("position")>-1&&(r=!0),t.indexOf("size")>-1&&(e=!0)),this.posPercetage=r,this.sizePercetage=e},s.updateItem=function(t,e){var r,n=this.options,o=n.isEqualSize,a=n.isConstantSize,u=n.useRoundedSize,c=this.initialRects,l=t.orgRect,h=t.element,d=t.updateState===B.WAIT_LOADING,f=l&&l.width&&l.height,p,v=h?lr(h,this.options.attributePrefix):t.attributes,g=(r=v.sizeGroup)!==null&&r!==void 0?r:"",R=v.notEqualSize;if(g!==""&&c[g])p=c[g];else if(o&&!R&&!g&&c[""])p=c[""];else if(a&&f&&!d)p=l;else{if(e||!h)return;if(p={left:h.offsetLeft,top:h.offsetTop,width:0,height:0},u)p.width=h.offsetWidth,p.height=h.offsetHeight;else{var m=h.getBoundingClientRect();p.width=m.width,p.height=m.height}}return t.attributes=v,t.shouldReupdate=!1,(!t.isFirstUpdate||!f)&&(t.orgRect=D({},p)),t.rect=D({},p),e||(t.element&&(t.mountState=F.MOUNTED),t.updateState===B.NEED_UPDATE&&(t.updateState=B.UPDATED,t.isFirstUpdate=!0),!d&&!R&&!c[g]&&(c[g]=D({},p))),p},s._renderItem=function(t){var e=t.element,r=t.cssRect;if(!(!e||!r)){var n=this.options,o=n.horizontal,a=n.useTransform,u=this.posPercetage,c=this.sizePercetage,l=["position: absolute;"],h=_e[o?"horizontal":"vertical"],d=h.inlineSize,f=h.inlinePos,p=this.getInlineSize(),v=or(r),g=v.length>0;a&&(v=v.filter(function(R){return R!=="top"&&R!=="left"}),l.push("transform: "+("translate("+(r.left||0)+"px, "+(r.top||0)+"px);"))),l.push.apply(l,v.map(function(R){var m=r[R];return R===d&&c||R===f&&u?R+": "+m/p*100+"%;":R+": "+m+"px;"})),g&&(e.style.cssText+=l.join(""))}},i}(),Me=function(){function i(t,e){e===void 0&&(e={});var r;this.horizontal=t,this.isUpdating=!1,this.shouldReupdate=!1,this.hasTransition=!1,this.transitionDuration="",this.isRestoreOrgCSSText=!0;var n=e.element,o=D({key:"",index:0,orgRect:{left:0,top:0,width:0,height:0},rect:{left:0,top:0,width:0,height:0},cssRect:{},attributes:{},data:{},isFirstUpdate:!1,mountState:F.UNCHECKED,updateState:B.NEED_UPDATE,element:n||null,orgCSSText:(r=n?.style.cssText)!==null&&r!==void 0?r:"",gridData:{}},e);for(var a in o)this[a]=o[a]}var s=i.prototype;return Object.defineProperty(s,"orgInlineSize",{get:function(){var t=this._names.inlineSize;return this.orgRect[t]||this.rect[t]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"orgContentSize",{get:function(){var t=this._names.contentSize;return this.orgRect[t]||this.rect[t]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"inlineSize",{get:function(){return this.rect[this._names.inlineSize]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"contentSize",{get:function(){return this.rect[this._names.contentSize]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"cssInlineSize",{get:function(){return this.cssRect[this._names.inlineSize]},set:function(t){this.cssRect[this._names.inlineSize]=t},enumerable:!1,configurable:!0}),Object.defineProperty(s,"cssContentSize",{get:function(){return this.cssRect[this._names.contentSize]},set:function(t){this.cssRect[this._names.contentSize]=t},enumerable:!1,configurable:!0}),Object.defineProperty(s,"cssInlinePos",{get:function(){return this.cssRect[this._names.inlinePos]},set:function(t){this.cssRect[this._names.inlinePos]=t},enumerable:!1,configurable:!0}),Object.defineProperty(s,"cssContentPos",{get:function(){return this.cssRect[this._names.contentPos]},set:function(t){this.cssRect[this._names.contentPos]=t},enumerable:!1,configurable:!0}),Object.defineProperty(s,"computedInlineSize",{get:function(){var t=this._names.inlineSize;return this.cssRect[t]||this.rect[t]||this.orgRect[t]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"computedContentSize",{get:function(){var t=this._names.contentSize;return this.cssRect[t]||this.rect[t]||this.orgRect[t]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"computedInlinePos",{get:function(){var t,e=this._names.inlinePos;return(t=this.cssRect[e])!==null&&t!==void 0?t:this.rect[e]},enumerable:!1,configurable:!0}),Object.defineProperty(s,"computedContentPos",{get:function(){var t,e=this._names.contentPos;return(t=this.cssRect[e])!==null&&t!==void 0?t:this.rect[e]},enumerable:!1,configurable:!0}),s.setCSSGridRect=function(t){var e=_e[this.horizontal?"horizontal":"vertical"],r={};for(var n in t)r[e[n]]=t[n];this.cssRect=r},s.getStatus=function(){return{index:this.index,mountState:this.mountState,updateState:this.updateState,attributes:this.attributes,orgCSSText:this.orgCSSText,isFirstUpdate:this.isFirstUpdate,element:null,key:this.key,orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,gridData:this.gridData,data:this.data}},s.getMinimizedStatus=function(){var t={orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,attributes:this.attributes,gridData:this.gridData},e=this,r=e.key,n=e.mountState,o=e.updateState,a=e.isFirstUpdate,u=e.orgCSSText;return typeof r<"u"&&(t.key=r),n!==F.UNCHECKED&&(t.mountState=n),o!==B.NEED_UPDATE&&(t.updateState=o),a&&(t.isFirstUpdate=!0),u&&(t.orgCSSText=u),t},Object.defineProperty(s,"_names",{get:function(){return this.horizontal?_e.horizontal:_e.vertical},enumerable:!1,configurable:!0}),i}(),ae=function(i){Ye(s,i);function s(e,r){r===void 0&&(r={});var n=i.call(this)||this;n.items=[],n.outlines={start:[],end:[]},n._renderTimer=0,n._onResize=function(I){if(I.isResizeContainer)n._renderItems({useResize:!0},!0);else{var C=gt(n.items,I.childEntries);C.length>0&&n.updateItems(C)}},n.options=D(D({},n.constructor.defaultOptions),r),n.containerElement=yt(e)?document.querySelector(e):e;var o=n.options,a=o.isEqualSize,u=o.isConstantSize,c=o.useTransform,l=o.horizontal,h=o.percentage,d=o.externalContainerManager,f=o.externalItemRenderer,p=o.resizeDebounce,v=o.maxResizeDebounce,g=o.autoResize,R=o.useRoundedSize,m=o.useResizeObserver;return n.containerManager=d||new Rt(n.containerElement,{horizontal:l,resizeDebounce:p,maxResizeDebounce:v,autoResize:g,useResizeObserver:m}).on("resize",n._onResize),n.itemRenderer=f||new _t({useTransform:c,isEqualSize:a,isConstantSize:u,percentage:h,useRoundedSize:R}),n._init(),n}var t=s.prototype;return t.getContainerElement=function(){return this.containerElement},t.getItems=function(){return this.items},t.getChildren=function(){return[].slice.call(this.containerElement.children)},t.setItems=function(e){e.forEach(function(o,a){o.index=a});var r=this.options;if(r.useResizeObserver&&r.observeChildren){var n=this.containerManager;n.unobserveChildren(tt(this.items)),n.observeChildren(tt(e))}return this.items=e,this},t.getContainerInlineSize=function(){return this.containerManager.getInlineSize()},t.getOutlines=function(){return this.outlines},t.setOutlines=function(e){return this.outlines=e,this},t.syncElements=function(e){e===void 0&&(e={});var r=this.items,n=this.options.horizontal,o=this.getChildren(),a=ot(this.items.map(function(f){return f.element}),o),u=a.added,c=a.maintained,l=a.changed,h=a.removed,d=[];return c.forEach(function(f){var p=f[0],v=f[1];d[v]=r[p]}),u.forEach(function(f){d[f]=new Me(n,{element:o[f]})}),this.setItems(d),(u.length||h.length||l.length)&&this.renderItems(e),this},t.updateItems=function(e,r){e===void 0&&(e=this.items),r===void 0&&(r={});var n=r.useOrgResize;return e.forEach(function(o){if(n){var a=o.orgRect;a.width=0,a.height=0}o.updateState=B.NEED_UPDATE}),this.checkReady(r),this},t.renderItems=function(e){return e===void 0&&(e={}),this._renderItems(e),this},t.getStatus=function(e){return{outlines:this.outlines,items:this.items.map(function(r){return e?r.getMinimizedStatus():r.getStatus()}),containerManager:this.containerManager.getStatus(),itemRenderer:this.itemRenderer.getStatus()}},t.setStatus=function(e){var r=this,n=this.options.horizontal,o=this.containerManager,a=o.getInlineSize(),u=this.getChildren();return this.itemRenderer.setStatus(e.itemRenderer),o.setStatus(e.containerManager),this.outlines=e.outlines,this.items=e.items.map(function(c,l){return new Me(n,D(D({},c),{element:u[l]}))}),this.itemRenderer.renderItems(this.items),a!==o.getInlineSize()?this.renderItems({useResize:!0}):window.setTimeout(function(){r._renderComplete({direction:r.defaultDirection,mounted:r.items,updated:[],isResize:!1})}),this},t.getComputedOutlineSize=function(e){return e===void 0&&(e=this.items),this.options.outlineSize||this.getContainerInlineSize()},t.getComputedOutlineLength=function(e){return e===void 0&&(e=this.items),this.options.outlineLength||1},t.destroy=function(e){var r;e===void 0&&(e={});var n=e.preserveUI,o=n===void 0?this.options.preserveUIOnDestroy:n;this.containerManager.destroy({preserveUI:o}),o||this.items.forEach(function(a){var u=a.element,c=a.orgCSSText;u&&(u.style.cssText=c)}),(r=this._im)===null||r===void 0||r.destroy()},t.getInlineGap=function(){return this._getDirectionalGap("inline")},t.getContentGap=function(){return this._getDirectionalGap("content")},t.checkReady=function(e){var r=this,n;e===void 0&&(e={});var o=this.items,a=o.filter(function(l){var h;return((h=l.element)===null||h===void 0?void 0:h.parentNode)&&l.updateState!==B.UPDATED}),u=o.filter(function(l){var h;return((h=l.element)===null||h===void 0?void 0:h.parentNode)&&l.mountState!==F.MOUNTED}),c=[];u.filter(function(l){if(l.hasTransition)return!0;var h=l.element,d=parseFloat(getComputedStyle(h).transitionDuration);return d>0?(l.hasTransition=!0,l.transitionDuration=h.style.transitionDuration,!0):!1}).forEach(function(l){l.element.style.transitionDuration="0s"}),(n=this._im)===null||n===void 0||n.destroy(),this._im=new sr({prefix:this.options.attributePrefix}).on("preReadyElement",function(l){a[l.index].updateState=B.WAIT_LOADING}).on("preReady",function(){a.forEach(function(l){var h=l.orgRect.width&&l.orgRect.height,d=l.cssRect.width||l.cssRect.height;!h&&d&&(l.element.style.cssText=l.orgCSSText)}),r._updateItems(a),r.readyItems(u,a,e)}).on("readyElement",function(l){var h=a[l.index];h.updateState=B.NEED_UPDATE,l.isPreReadyOver&&(h.isRestoreOrgCSSText&&(h.element.style.cssText=h.orgCSSText),r._updateItems([h]),r.readyItems([],[h],e))}).on("error",function(l){var h=a[l.index];r.trigger("contentError",{element:l.element,target:l.target,item:h,update:function(){c.push(h)}})}).on("ready",function(){c.length&&r.updateItems(c)}).check(a.map(function(l){return l.element}))},t.scheduleRender=function(){var e=this;this._clearRenderTimer(),this._renderTimer=window.setTimeout(function(){e.renderItems()})},t.fitOutlines=function(e){e===void 0&&(e=this.useFit);var r=this.outlines,n=r.start,o=r.end,a=n.length?Math.min.apply(Math,n):0;!e&&a>0||(r.start=n.map(function(u){return u-a}),r.end=o.map(function(u){return u-a}),this.items.forEach(function(u){var c=u.cssContentPos;ar(c)&&(u.cssContentPos=c-a)}))},t.readyItems=function(e,r,n){var o=this.outlines,a=n.direction||this.options.defaultDirection,u=n.outline||o[a==="end"?"start":"end"],c=this.items,l={start:et([],u),end:et([],u)};e.forEach(function(f){f.mountState=F.MOUNTED}),r.forEach(function(f){f.isUpdating=!0}),c.length&&(l=this.applyGrid(this.items,a,u)),r.forEach(function(f){f.isUpdating=!1}),this.setOutlines(l),this.fitOutlines(),this.itemRenderer.renderItems(this.items),this._refreshContainerContentSize();var h=e.filter(function(f){return f.hasTransition});h.length&&(this.containerManager.resize(),h.forEach(function(f){var p=f.element;p.style.transitionDuration=f.transitionDuration})),this._renderComplete({direction:a,mounted:e,updated:r,isResize:!!n.useResize});var d=r.filter(function(f){return f.shouldReupdate});d.length&&this.updateItems(d)},t._isObserverEnabled=function(){return this.containerManager.isObserverEnabled()},t._updateItems=function(e){this.itemRenderer.updateEqualSizeItems(e,this.getItems())},t._getDirectionalGap=function(e){var r,n=this.options.horizontal,o=this.options.gap;if(typeof o=="number")return o;var a=n&&e==="inline"||!n&&e==="content";return(r=a?o.vertical:o.horizontal)!==null&&r!==void 0?r:q.gap},t._renderComplete=function(e){this.trigger("renderComplete",e)},t._clearRenderTimer=function(){clearTimeout(this._renderTimer),this._renderTimer=0},t._refreshContainerContentSize=function(){var e=this.outlines,r=e.start,n=e.end,o=this.getContentGap(),a=n.length?Math.max.apply(Math,n):0,u=r.length?Math.max.apply(Math,r):0,c=Math.max(u,a-o);this.containerManager.setContentSize(c)},t._resizeContainer=function(){this.containerManager.resize(),this.itemRenderer.setContainerRect(this.containerManager.getRect())},t._init=function(){this._resizeContainer()},t._renderItems=function(e,r){e===void 0&&(e={}),this._clearRenderTimer();var n=e.useResize||e.useOrgResize;n&&!r&&(this._resizeContainer(),this.itemRenderer.resize()),!this.getItems().length&&this.getChildren().length?this.syncElements(e):n?this.updateItems(this.items,e):this.checkReady(e)},s.defaultOptions=q,s.propertyTypes=vt,s=pt([Ze],s),s}(re);function It(i,s,t,e){return Math[e].apply(Math,i.slice(s,s+t))}function hr(i,s,t,e){var r=i.length-s+1,n=t==="max"?"min":"max",o=t==="max"?"lastIndexOf":"indexOf",a=Oe(r).map(function(u){var c=It(i,u,s,n);return Math[n](e,c)});return a[o](Math[t].apply(Math,a))}var Ge=function(i){Ye(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}var t=s.prototype;return t.applyGrid=function(e,r,n){e.forEach(function(J){J.isRestoreOrgCSSText=!1});var o=this.getComputedOutlineSize(e),a=this.getComputedOutlineLength(e),u=this.options,c=u.align,l=u.observeChildren,h=u.columnSizeRatio,d=u.contentAlign,f=this.getContentGap(),p=this.getContentGap(),v=n.length,g=e.length,R=this._getAlignPoses(a,o),m=r==="end",I=m?"min":"max",C=m?"max":"min",k=[0];if(v===a)k=n.slice();else{var Z=v?Math[C].apply(Math,n):0;k=Oe(a).map(function(){return Z})}var z=k.slice(),G=a>1?R[1]-R[0]:0,O=c==="stretch",L=m&&d==="start",E=m?-1/0:1/0;L&&(E=Math.min.apply(Math,z));for(var Y=function(J){var V=e[m?J:g-1-J],H=parseInt(V.attributes.column||"1",10),ne=parseInt(V.attributes.maxColumn||"1",10),_=V.contentSize,S=Math.min(a,H||Math.max(1,Math.ceil((V.inlineSize+f)/G))),w=Math.min(a,Math.max(S,ne)),b=hr(z,S,I,E),M=It(z,b,S,C);for(L&&E!==M&&(E=Math.max.apply(Math,z),z=z.map(function(){return E}),M=E,b=0);S<w;){var j=b+S,ie=b-1;if(m&&(j>=a||z[j]>M)||!m&&(ie<0||z[ie]<M))break;m||--b,++S}if(b=Math.max(0,b),S=Math.min(a-b,S),H>0&&S>1||O){var ee=(S-1)*G+o;(!A._isObserverEnabled()||!l)&&V.cssInlineSize!==ee&&(V.shouldReupdate=!0),V.cssInlineSize=ee}h>0&&(_=V.computedInlineSize/h,V.cssContentSize=_);var ge=R[b];M=m?M:M-p-_,V.cssInlinePos=ge,V.cssContentPos=M;var ce=m?M+_+p:M;Oe(S).forEach(function(se){z[b+se]=ce})},A=this,W=0;W<g;++W)Y(W);return L&&E!==Math.min.apply(Math,z)&&(E=Math.max.apply(Math,z),z=z.map(function(){return E})),{start:m?k:z,end:m?z:k}},t.getComputedOutlineSize=function(e){e===void 0&&(e=this.items);var r=this.options.align,n=this.getInlineGap(),o=this.getContainerInlineSize(),a=this.columnSize||this.outlineSize,u=this.column||this.outlineLength,c=u||1,l=0;if(r==="stretch"){if(!u){var h=this.maxStretchColumnSize||1/0;c=Math.max(1,Math.ceil((o+n)/(h+n)))}l=(o+n)/(c||1)-n}else if(a)l=a;else if(e.length){for(var d=e[0],f=0,p=e;f<p.length;f++){var v=p[f],g=v.attributes,R=parseInt(g.column||"1",10),m=parseInt(g.maxColumn||"1",10);if(!(v.updateState!==B.UPDATED||!v.inlineSize||R!==1||m!==1)){d=v;break}}var I=d.inlineSize||0;l=I}else l=o;return l||0},t.getComputedOutlineLength=function(e){e===void 0&&(e=this.items);var r=this.getInlineGap(),n=this.column||this.outlineLength,o=this.columnCalculationThreshold,a=1;if(n)a=n;else{var u=this.getComputedOutlineSize(e);a=Math.min(e.length,Math.max(1,Math.floor((this.getContainerInlineSize()+r)/(u-o+r))))}return a},t._getAlignPoses=function(e,r){var n=this.options.align,o=this.getInlineGap(),a=this.getContainerInlineSize(),u=Oe(e),c=0,l=0;if(n==="justify"||n==="stretch"){var h=e-1;l=h?Math.max((a-r)/h,r+o):0,c=Math.min(0,a/2-(h*l+r)/2)}else{l=r+o;var d=(e-1)*l+r;n==="center"?c=(a-d)/2:n==="end"&&(c=a-d)}return u.map(function(f){return c+f*l})},s.propertyTypes=D(D({},ae.propertyTypes),{column:T.RENDER_PROPERTY,columnSize:T.RENDER_PROPERTY,columnSizeRatio:T.RENDER_PROPERTY,align:T.RENDER_PROPERTY,columnCalculationThreshold:T.RENDER_PROPERTY,maxStretchColumnSize:T.RENDER_PROPERTY,contentAlign:T.RENDER_PROPERTY}),s.defaultOptions=D(D({},ae.defaultOptions),{align:"justify",column:0,columnSize:0,columnSizeRatio:0,columnCalculationThreshold:.5,maxStretchColumnSize:1/0,contentAlign:"masonry"}),s=pt([Ze],s),s}(ae);function fr(i){return typeof i=="string"}function rt(i){var s;return i?(fr(i)?s=document.querySelector(i):i instanceof Element?s=i:("value"in i||"current"in i)&&(s=i.value||i.current),s):null}var qe=function(i,s){return qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},qe(i,s)};function Q(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");qe(i,s);function t(){this.constructor=i}i.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}var y=function(){return y=Object.assign||function(s){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},y.apply(this,arguments)};function Xe(i,s){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&s.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(i);r<e.length;r++)s.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(i,e[r])&&(t[e[r]]=i[e[r]]);return t}function Qe(i,s,t,e){var r=arguments.length,n=r<3?s:e===null?e=Object.getOwnPropertyDescriptor(s,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(i,s,t,e);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(n=(r<3?o(n):r>3?o(s,t,n):o(s,t))||n);return r>3&&n&&Object.defineProperty(s,t,n),n}function P(i,s,t){if(t||arguments.length===2)for(var e=0,r=s.length,n;e<r;e++)(n||!(e in s))&&(n||(n=Array.prototype.slice.call(s,0,e)),n[e]=s[e]);return i.concat(n||Array.prototype.slice.call(s))}var dr=typeof window<"u"?window.navigator.userAgent:"",pr=/iPhone|iPad/.test(dr),vr="infinitegrid-container",gr={renderOnPropertyChange:!0,useFit:!0,autoResize:!0},mr=y({},vt),le={START:"start",END:"end"},ye={CHANGE_SCROLL:"changeScroll",REQUEST_APPEND:"requestAppend",REQUEST_PREPEND:"requestPrepend",RENDER_COMPLETE:"renderComplete",CONTENT_ERROR:"contentError"},yr={type:!0,groupKey:!0,key:!0,element:!0,html:!0,data:!0,inserted:!0,attributes:!0},K;(function(i){i[i.NORMAL=0]="NORMAL",i[i.VIRTUAL=1]="VIRTUAL",i[i.LOADING=2]="LOADING"})(K||(K={}));var x;(function(i){i[i.NORMAL=0]="NORMAL",i[i.VIRTUAL=1]="VIRTUAL",i[i.LOADING=2]="LOADING"})(x||(x={}));var Ie;(function(i){i[i.NOT_REMOVE=0]="NOT_REMOVE",i[i.MINIMIZE_INVISIBLE_ITEMS=1]="MINIMIZE_INVISIBLE_ITEMS",i[i.MINIMIZE_INVISIBLE_GROUPS=2]="MINIMIZE_INVISIBLE_GROUPS",i[i.REMOVE_INVISIBLE_GROUPS=3]="REMOVE_INVISIBLE_GROUPS"})(Ie||(Ie={}));var Be=-9999,be=function(i){Q(s,i);function s(e,r){var n=i.call(this,e,y({html:"",type:x.NORMAL,cssRect:{top:Be,left:Be}},r))||this;if(n.type===x.VIRTUAL){(n.rect.width||n.rect.height)&&(n.mountState=F.UNMOUNTED);var o=n.orgRect,a=n.rect,u=n.cssRect;u.width?a.width=u.width:o.width&&(a.width=o.width),u.height?a.height=u.height:o.height&&(a.height=o.height)}return n}var t=s.prototype;return t.getVirtualStatus=function(){return{type:x.VIRTUAL,groupKey:this.groupKey,key:this.key,orgRect:this.orgRect,rect:this.rect,cssRect:this.cssRect,attributes:this.attributes}},t.getMinimizedStatus=function(){var e=y(y({},i.prototype.getMinimizedStatus.call(this)),{type:x.NORMAL,groupKey:this.groupKey});return this.html&&(e.html=this.html),e},s}(Me),Rr="__INFINITEGRID__LOADING_GRID",_r="__INFINITEGRID__LOADING_ITEM",Ir=function(i){Q(s,i);function s(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="",e.isWaitEnd=!1,e.initialDisplay=null,e}var t=s.prototype;return t.getLoadingItem=function(){return this.items[0]||null},t.startLoading=function(){var e=this.items[0].element;e&&(this.initialDisplay!=null?this.initialDisplay=e.style.display||"":this.initialDisplay?e.style.display=this.initialDisplay:e.style.removeProperty("display"))},t.endLoading=function(){if(this.type){var e=this.items[0].element;e&&(e.style.display="none")}},t.setLoadingItem=function(e){if(e){var r=this.getLoadingItem();if(!r)this.items=[new be(this.options.horizontal,y(y({},e),{type:x.LOADING,key:_r}))];else for(var n in e)r[n]=e[n]}else this.items=[]},t.applyGrid=function(e,r,n){if(!e.length)return{start:n,end:n};var o=n.length?P([],n,!0):[0],a=e[0],u=a.contentSize+this.getContentGap();if(a.cssInlinePos=this.getContainerInlineSize()/2-a.inlineSize/2,r==="end"){var c=Math.max.apply(Math,o);return a.cssContentPos=c,{start:o,end:o.map(function(h){return h+u})}}else{var l=Math.min.apply(Math,o);return a.cssContentPos=l-u,{start:o.map(function(h){return h-u}),end:o}}},s}(ae);function ke(i){return i===window}function nt(i){return typeof i=="number"}function He(i){return typeof i=="string"}function Sr(i){return typeof i=="object"}function St(i){return i.reduce(function(s,t){return P(P([],s,!0),t,!0)},[])}function Cr(i){var s=i.gridOptions,t=Xe(i,["gridOptions"]);return y(y({},Ct(s)),t)}function Ct(i){var s={},t={},e=ae.defaultOptions;for(var r in i){var n=i[r];r in gr||(t[r]=n),r in e&&(s[r]=n)}return y(y({},s),{gridOptions:t})}function Er(i){var s=[],t={},e={};i.filter(function(o){return o.groupKey!=null}).forEach(function(o){var a=o.groupKey;e[a]=!0});var r,n=!1;return i.forEach(function(o,a){o.groupKey!=null?n=!1:!o.inserted&&i[a-1]?(o.groupKey=i[a-1].groupKey,n=!1):(n||(r=We(e),n=!0,e[r]=!0),o.groupKey=r);var u=o.groupKey,c=t[u];c||(c={groupKey:u,items:[]},t[u]=c,s.push(c)),c.items.push(o)}),s}function zr(i,s,t,e){var r=xe(i,s,function(a){return a}),n=-1,o=-1;return r.maintained.forEach(function(a){var u=a[0],c=a[1];t<=u&&u<=e&&(n===-1?(n=c,o=c):(n=Math.min(n,c),o=Math.max(o,c)))}),{startCursor:n,endCursor:o}}function Or(i,s,t){var e=[];if(s==="start"){var r=$(i,function(c){return c.type===K.NORMAL});if(r===-1)return[];var n=$(i,function(c){return $(t,function(l){return l.groupKey===c.groupKey})>=0}),o=n>=0?Math.min(r,n):r;e=i.slice(0,o)}else{var r=Ce(i,function(l){return l.type===K.NORMAL});if(r===-1)return[];var a=Ce(i,function(l){return $(t,function(h){return h.groupKey===l.groupKey})>=0}),u=a>=0?Math.max(r,a):r;e=i.slice(u+1)}return e}function Et(i){var s=i.prototype,t=i.propertyTypes,e=function(n){var o={enumerable:!0,configurable:!0,get:function(){var a=this.groupManager.options;return n in a?a[n]:a.gridOptions[n]},set:function(a){var u,c=this.groupManager[n];c!==a&&(this.groupManager.gridOptions=(u={},u[n]=a,u))}};Object.defineProperty(s,n,o)};for(var r in t)e(r)}function We(i,s){s===void 0&&(s="");for(var t=0;;){var e="infinitegrid_".concat(s).concat(t++);if(!(e in i))return e}}function zt(i){var s=document.createElement("div");return s.innerHTML=i,Se(s.children)}function it(i,s){var t;return He(i)?t=zt(i):t=i,t.map(function(e){var r,n="",o;if(He(e))n=e;else if("parentNode"in e)r=e,n=e.outerHTML;else return y({groupKey:s,inserted:!0},e);return{key:o,groupKey:s,html:n,element:r,inserted:!0}})}function Se(i){var s=[];if(i)for(var t=i.length,e=0;e<t;e++)s.push(i[e]);return s}function $(i,s){for(var t=i.length,e=0;e<t;++e)if(s(i[e],e))return e;return-1}function Ce(i,s){for(var t=i.length,e=t-1;e>=0;--e)if(s(i[e],e))return e;return-1}function br(i){var s={};for(var t in i)t in yr&&(s[t]=i[t]);return s}function Pr(i,s){for(var t in s){var e=s[t];Sr(e)?i[t]=y(y({},i[t]),e):i[t]=s[t]}}function Ae(i,s){return i.length===s.length&&i.every(function(t,e){return s[e]===t})}function Mr(i){for(var s=[],t=0;t<i;++t)s.push(t);return s}function st(i){return St(i.map(function(s){var t=s.grid;return t.getItems()}))}function Ee(i,s){return s?P([],i,!0):i.filter(function(t){return t.type!==x.VIRTUAL})}var xr=function(i){Q(s,i);function s(e,r){var n=i.call(this,e,Cr(r))||this;return n.groupItems=[],n.groups=[],n.itemKeys={},n.groupKeys={},n.startCursor=0,n.endCursor=0,n._placeholder=null,n._loadingGrid=new Ir(e,{externalContainerManager:n.containerManager,useFit:!1,autoResize:!1,renderOnPropertyChange:!1,gap:n.gap}),n._mainGrid=n._makeGrid(),n}var t=s.prototype;return Object.defineProperty(t,"gridOptions",{set:function(e){var r=Ct(e),n=r.gridOptions,o=Xe(r,["gridOptions"]),a=this._checkShouldRender(e);this.options.gridOptions=y(y({},this.options.gridOptions),n),P([this._mainGrid],this.groups.map(function(c){var l=c.grid;return l}),!0).forEach(function(c){for(var l in e)c[l]=e[l]});for(var u in o)this[u]=o[u];this._loadingGrid.gap=this.gap,a&&this.scheduleRender()},enumerable:!1,configurable:!0}),t.getItemByKey=function(e){return this.itemKeys[e]||null},t.getGroupItems=function(e){return Ee(this.groupItems,e)},t.getVisibleItems=function(e){return Ee(this.items,e)},t.getRenderingItems=function(){return this.hasPlaceholder()?this.items:this.items.filter(function(e){return e.type!==x.VIRTUAL})},t.getGroups=function(e){return Ee(this.groups,e)},t.hasVisibleVirtualGroups=function(){return this.getVisibleGroups(!0).some(function(e){return e.type===K.VIRTUAL})},t.hasPlaceholder=function(){return!!this._placeholder},t.hasLoadingItem=function(){return!!this._getLoadingItem()},t.updateItems=function(e,r){return e===void 0&&(e=this.groupItems),i.prototype.updateItems.call(this,e,r)},t.setPlaceholder=function(e){this._placeholder=e,this._updatePlaceholder()},t.getLoadingType=function(){return this._loadingGrid.type},t.startLoading=function(e){return this._loadingGrid.type=e,this.items=this._getRenderingItems(),!0},t.waitEndLoading=function(){return this._loadingGrid.type?(this._loadingGrid.isWaitEnd=!0,!0):!1},t.endLoading=function(){if(this._loadingGrid.isWaitEnd){var e=this._loadingGrid.type;return this._loadingGrid.type="",this._loadingGrid.endLoading(),this.items=this._getRenderingItems(),!!e}return!1},t.setLoading=function(e){this._loadingGrid.setLoadingItem(e),this.items=this._getRenderingItems()},t.getVisibleGroups=function(e){var r=this.groups.slice(this.startCursor,this.endCursor+1);return Ee(r,e)},t.getComputedOutlineLength=function(e){return e===void 0&&(e=this.items),this._mainGrid.getComputedOutlineLength(e)},t.getComputedOutlineSize=function(e){return e===void 0&&(e=this.items),this._mainGrid.getComputedOutlineSize(e)},t.applyGrid=function(e,r,n){var o=this,a=this.groups.slice();if(!a.length)return{start:[],end:[]};var u=this._loadingGrid;u.getLoadingItem()&&(u.type==="start"?a.unshift(this._getLoadingGroup()):u.type==="end"&&a.push(this._getLoadingGroup()));var c=a.slice(),l=n;r==="start"&&c.reverse();var h=this.options.appliedItemChecker,d=this.groupItems,f=this.getComputedOutlineLength(d),p=this.getComputedOutlineSize(d),v=this.itemRenderer,g=[];return c.forEach(function(R){var m,I,C=R.grid,k=C.getItems(),Z=R.type===K.VIRTUAL&&!k[0];g=r==="end"?P(P([],g,!0),k,!0):P(P([],k,!0),g,!0),C.outlineLength=f,C.outlineSize=p;var z=g.filter(function(O){return(O.mountState===F.UNCHECKED||!O.rect.width)&&v.updateItem(O,!0),O.orgRect.width&&O.rect.width||h(O,C)}),G;Z?G=o._applyVirtualGrid(C,r,l):z.length?G=C.applyGrid(z,r,l):G={start:P([],l,!0),end:P([],l,!0)},C.setOutlines(G),l=G.passed||G[r],g=(I=(m=G.passedItems)===null||m===void 0?void 0:m.map(function(O){return g[O]}))!==null&&I!==void 0?I:[]}),{start:a[0].grid.getOutlines().start,end:a[a.length-1].grid.getOutlines().end}},t.syncItems=function(e){var r=this,n=this.itemKeys;this.itemKeys={};var o=this._syncItemInfos(e.map(function(d){return br(d)}),n),a=this.groupKeys,u=Er(o),c=this._splitVirtualGroups("start",u),l=this._splitVirtualGroups("end",u);u=P(P(P([],c,!0),this._mergeVirtualGroups(u),!0),l,!0);var h=u.map(function(d){var f,p,v=d.groupKey,g=d.items,R=!g[0]||g[0].type===x.VIRTUAL,m=(p=(f=a[v])===null||f===void 0?void 0:f.grid)!==null&&p!==void 0?p:r._makeGrid(),I=R?g:g.filter(function(C){var k=C.type;return k===x.NORMAL});return m.setItems(I),{type:R?K.VIRTUAL:K.NORMAL,groupKey:v,grid:m,items:I,renderItems:g}});this._registerGroups(h)},t.renderItems=function(e){if(e===void 0&&(e={}),e.useResize){this.groupItems.forEach(function(n){n.updateState=B.NEED_UPDATE});var r=this._getLoadingItem();r&&(r.updateState=B.NEED_UPDATE)}return i.prototype.renderItems.call(this,e)},t.setCursors=function(e,r){this.startCursor=e,this.endCursor=r,this.items=this._getRenderingItems()},t.getStartCursor=function(){return this.startCursor},t.getEndCursor=function(){return this.endCursor},t.getGroupStatus=function(e,r){var n=this.startCursor,o=this.endCursor,a=this.groups,u=a[n],c=a[o],l=n,h=o,d=e===Ie.MINIMIZE_INVISIBLE_ITEMS,f=e===Ie.MINIMIZE_INVISIBLE_GROUPS,p;if(e===Ie.REMOVE_INVISIBLE_GROUPS)p=this.getVisibleGroups(r),h=p.length-1,l=0;else if(p=this.getGroups(r),!r){l=-1,h=-1;for(var v=n;v<=o;++v){var g=a[v];if(g&&g.type!==K.VIRTUAL){l=p.indexOf(g);break}}for(var v=o;v>=n;--v){var g=a[v];if(g&&g.type!==K.VIRTUAL){h=p.lastIndexOf(g);break}}}var R=p.map(function(k,Z){var z=k.grid,G=k.groupKey,O=Z<l||h<Z,L=d&&O,E=f&&O,Y=z.getItems(),A=E?[]:Y.map(function(W){return L?W.getVirtualStatus():W.getMinimizedStatus()});return{type:E||L?K.VIRTUAL:K.NORMAL,groupKey:G,outlines:z.getOutlines(),items:A}}),m=this.getGroupItems(),I=m.indexOf(u?.items[0]),C=m.indexOf(c?.items.slice().reverse()[0]);return{cursors:[l,h],orgCursors:[n,o],itemCursors:[I,C],startGroupKey:u?.groupKey,endGroupKey:c?.groupKey,groups:R,outlines:this.outlines}},t.fitOutlines=function(e){e===void 0&&(e=this.useFit);var r=this.groups;if(r[0]){var n=this.outlines,o=n.start,a=o.length?Math.min.apply(Math,o):0;!e&&a>0||(r.forEach(function(u){var c=u.grid,l=c.getOutlines(),h=l.start,d=l.end;c.setOutlines({start:h.map(function(f){return f-a}),end:d.map(function(f){return f-a})})}),this.groupItems.forEach(function(u){var c=u.cssContentPos;nt(c)&&(u.cssContentPos=c-a)}))}},t.setGroupStatus=function(e){var r=this;this.itemKeys={},this.groupItems=[],this.items=[];var n=this.groupKeys,o=e.groups.map(function(a){var u,c,l=a.type,h=a.groupKey,d=a.items,f=a.outlines,p=r._syncItemInfos(d),v=(c=(u=n[h])===null||u===void 0?void 0:u.grid)!==null&&c!==void 0?c:r._makeGrid();return v.setOutlines(f),v.setItems(p),{type:l,groupKey:h,grid:v,items:p,renderItems:p}});this.setOutlines(e.outlines),this._registerGroups(o),this._updatePlaceholder(),this.setCursors(e.cursors[0],e.cursors[1])},t.appendPlaceholders=function(e,r){return this.insertPlaceholders("end",e,r)},t.prependPlaceholders=function(e,r){return this.insertPlaceholders("start",e,r)},t.removePlaceholders=function(e){var r=this.groups,n=r.length;if(e==="start"){var o=$(r,function(u){return u.type===K.NORMAL});r.splice(0,o)}else if(e==="end"){var o=Ce(r,function(c){return c.type===K.NORMAL});r.splice(o+1,n-o-1)}else{var a=e.groupKey,o=$(r,function(c){return c.groupKey===a});o>-1&&r.splice(o,1)}this.syncItems(st(this.getGroups()))},t.insertPlaceholders=function(e,r,n){var o,a;n===void 0&&(n=We(this.groupKeys,"virtual_"));var u=[];nt(r)?u=Mr(r).map(function(){return{type:x.VIRTUAL,groupKey:n}}):Array.isArray(r)&&(u=r.map(function(d){return y(y({groupKey:n},d),{type:x.VIRTUAL})}));var c=this._makeGrid(),l=this._syncItemInfos(u,this.itemKeys);this._updatePlaceholder(l),c.setItems(l);var h={type:K.VIRTUAL,groupKey:n,grid:c,items:l,renderItems:l};return this.groupKeys[n]=h,e==="end"?(this.groups.push(h),(o=this.groupItems).push.apply(o,l)):(this.groups.splice(0,0,h),(a=this.groupItems).splice.apply(a,P([0,0],l,!1)),this.startCursor>-1&&(++this.startCursor,++this.endCursor)),{group:h,items:l}},t.shouldRerenderItems=function(){var e=!1;return this.getVisibleGroups().forEach(function(r){var n=r.items;n.length===r.renderItems.length||n.every(function(o){return o.mountState===F.UNCHECKED})||(e=!0,r.renderItems=P([],n,!0))}),e&&(this.items=this._getRenderingItems()),e},t._updateItems=function(e){this.itemRenderer.updateEqualSizeItems(e,this.groupItems)},t._getGroupItems=function(){return st(this.getGroups(!0))},t._getRenderingItems=function(){var e=St(this.getVisibleGroups(!0).map(function(o){return o.renderItems})),r=this._loadingGrid,n=r.getLoadingItem();return n&&(r.type==="end"?e.push(n):r.type==="start"&&e.unshift(n)),e},t._checkShouldRender=function(e){var r=this.options.gridConstructor,n=this.gridOptions,o=r.propertyTypes;for(var a in n)if(!(a in e)&&o[a]===T.RENDER_PROPERTY)return!0;for(var a in e)if(n[a]!==e[a]&&o[a]===T.RENDER_PROPERTY)return!0;return!1},t._applyVirtualGrid=function(e,r,n){var o=n.length?P([],n,!0):[0],a=e.getOutlines(),u=a[r==="end"?"start":"end"];return u.length!==o.length||u.some(function(c,l){return c!==o[l]})?{start:P([],o,!0),end:P([],o,!0)}:a},t._syncItemInfos=function(e,r){r===void 0&&(r={});var n=this.options.horizontal,o=this.itemKeys;e.filter(function(u){return u.key!=null}).forEach(function(u){var c=u.key,l=r[c];l?l.type===x.VIRTUAL&&u.type!==x.VIRTUAL?o[c]=new be(n,y({orgRect:l.orgRect,rect:l.rect},u)):(u.data&&(l.data=u.data),u.groupKey!=null&&(l.groupKey=u.groupKey),u.element&&(l.element=u.element),o[c]=l):o[c]=new be(n,y({},u))});var a=e.map(function(u){var c=u.key;u.key==null&&(c=We(o,u.type===x.VIRTUAL?"virtual_":""));var l=o[c];if(!l){var h=r[c];h?(l=h,u.data&&(l.data=u.data),u.element&&(l.element=u.element)):l=new be(n,y(y({},u),{key:c})),o[c]=l}return l});return a},t._registerGroups=function(e){var r={};e.forEach(function(n){r[n.groupKey]=n}),this.groups=e,this.groupKeys=r,this.groupItems=this._getGroupItems()},t._splitVirtualGroups=function(e,r){var n=Or(this.groups,e,r),o=this.itemKeys;return n.forEach(function(a){var u=a.renderItems;u.forEach(function(c){o[c.key]=c})}),n},t._mergeVirtualGroups=function(e){var r=this.itemKeys,n=this.groupKeys;return e.forEach(function(o){var a=n[o.groupKey];if(a){var u=o.items;u.every(function(c){return c.mountState===F.UNCHECKED})&&a.renderItems.forEach(function(c){c.type===x.VIRTUAL&&!r[c.key]&&(u.push(c),r[c.key]=c)})}}),e},t._updatePlaceholder=function(e){e===void 0&&(e=this.groupItems);var r=this._placeholder;r&&e.filter(function(n){return n.type===x.VIRTUAL}).forEach(function(n){Pr(n,r)})},t._makeGrid=function(){var e=this.options.gridConstructor,r=this.gridOptions,n=this.containerElement;return new e(n,y(y({},r),{useFit:!1,autoResize:!1,useResizeObserver:!1,observeChildren:!1,renderOnPropertyChange:!1,externalContainerManager:this.containerManager,externalItemRenderer:this.itemRenderer}))},t._getLoadingGroup=function(){var e=this._loadingGrid,r=e.getItems();return{groupKey:Rr,type:K.NORMAL,grid:e,items:r,renderItems:r}},t._getLoadingItem=function(){return this._loadingGrid.getLoadingItem()},s.defaultOptions=y(y({},ae.defaultOptions),{appliedItemChecker:function(){return!1},gridConstructor:null,gridOptions:{}}),s.propertyTypes=y(y({},ae.propertyTypes),{gridConstructor:T.PROPERTY,gridOptions:T.PROPERTY}),s=Qe([Ze],s),s}(ae),Tr=function(i){Q(s,i);function s(e){var r=i.call(this)||this;return r.startCursor=-1,r.endCursor=-1,r.size=0,r.items=[],r.itemKeys={},r.options=y({threshold:0,useRecycle:!0,defaultDirection:"end"},e),r}var t=s.prototype;return t.scroll=function(e){var r,n,o=this.startCursor,a=this.endCursor,u=this.items,c=u.length,l=this.size,h=this.options,d=h.defaultDirection,f=h.threshold,p=h.useRecycle,v=d==="end";if(c){if(o===-1||a===-1){var g=v?0:c-1;this.trigger("change",{prevStartCursor:o,prevEndCursor:a,nextStartCursor:g,nextEndCursor:g});return}}else{this.trigger(v?"requestAppend":"requestPrepend",{key:void 0,isVirtual:!1});return}var R=e+l,m=Math.max.apply(Math,u[o].startOutline),I=Math.min.apply(Math,u[a].endOutline),C=u.map(function(S){var w=S.startOutline,b=S.endOutline;if(!w.length||!b.length||Ae(w,b))return!1;var M=Math.min.apply(Math,w),j=Math.max.apply(Math,b);return M-f<=R&&e<=j+f}),k=0<o,Z=a<c-1,z=e<=m+f,G=R>=I-f,O=C.indexOf(!0),L=C.lastIndexOf(!0);O===-1&&(O=o,L=a),p||(O=Math.min(O,o),L=Math.max(L,a)),O===o&&k&&z&&(O-=1),L===a&&Z&&G&&(L+=1);var E=u.slice(O,L+1);if(E.every(function(S){return S.isVirtual===!0})){for(var Y=!1,A=O-1;A>=0;--A)if(!u[A].isVirtual){O=A,Y=!0;break}if(!Y){for(var A=L+1;A<c;++A)if(!u[A].isVirtual){L=A,Y=!0;break}}Y&&(E=u.slice(O,L+1))}var W=E.some(function(S){return S.isVirtual===!0});if(!((o!==O||a!==L)&&(this.trigger("change",{prevStartCursor:o,prevEndCursor:a,nextStartCursor:O,nextEndCursor:L}),!W)))if(W){var J=(r=E[0])===null||r===void 0?void 0:r.isVirtual,V=(n=E[E.length-1])===null||n===void 0?void 0:n.isVirtual;if((!v||!G)&&J){var H=$(E,function(S){return!S.isVirtual}),ne=(H===-1?E.length:H)-1;E[ne]&&this.trigger("requestPrepend",{key:H>-1?E[H].key:void 0,nextKey:E[ne].key,nextKeys:E.slice(0,ne+1).map(function(S){return S.key}),isVirtual:!0})}else if((v||!z)&&V){var H=Ce(E,function(w){return!w.isVirtual}),_=H+1;E[_]&&this.trigger("requestAppend",{key:H>-1?E[H].key:void 0,nextKey:E[_].key,nextKeys:E.slice(_).map(function(w){return w.key}),isVirtual:!0})}}else this._requestVirtualItems()||((!v||!G)&&z?this.trigger("requestPrepend",{key:u[o].key,isVirtual:!1}):(v||!z)&&G&&this.trigger("requestAppend",{key:u[a].key,isVirtual:!1}))},t._requestVirtualItems=function(){var e=this.options.defaultDirection==="end",r=this.items,n=this.getVisibleItems(),o=n.filter(function(m){return!m.isVirtual}),a=n.length,u=o.length,c=this.getStartCursor(),l=this.getEndCursor();if(u===a)return!1;if(u){var h=o[0].key,d=o[u-1].key,f=$(r,function(m){return m.key===h})-1,p=$(r,function(m){return m.key===d})+1,v=p<=l,g=f>=c;if((e||!g)&&v)return this.trigger("requestAppend",{key:d,nextKey:r[p].key,isVirtual:!0}),!0;if((!e||!v)&&g)return this.trigger("requestPrepend",{key:h,nextKey:r[f].key,isVirtual:!0}),!0}else if(a){var R=n[a-1];return e?this.trigger("requestAppend",{nextKey:n[0].key,isVirtual:!0}):this.trigger("requestPrepend",{nextKey:R.key,isVirtual:!0}),!0}return!1},t.setCursors=function(e,r){this.startCursor=e,this.endCursor=r},t.setSize=function(e){this.size=e},t.getStartCursor=function(){return this.startCursor},t.getEndCursor=function(){return this.endCursor},t.isLoading=function(e){var r=this.startCursor,n=this.endCursor,o=this.items,a=o[r],u=o[n],c=o.length;return!(e===le.END&&n>-1&&n<c-1&&!u.isVirtual&&!Ae(u.startOutline,u.endOutline)||e===le.START&&r>0&&!a.isVirtual&&!Ae(a.startOutline,a.endOutline))},t.setItems=function(e){this.items=e;var r={};e.forEach(function(n){r[n.key]=n}),this.itemKeys=r},t.syncItems=function(e){var r=this.items,n=this.startCursor,o=this.endCursor,a=zr(this.items.map(function(p){return p.key}),e.map(function(p){return p.key}),n,o),u=a.startCursor,c=a.endCursor,l=c-u!==o-n||n===-1||u===-1;if(!l){var h=r.slice(n,o+1),d=e.slice(u,c+1),f=xe(h,d,function(p){return p.key});l=f.added.length>0||f.removed.length>0||f.changed.length>0}return this.setItems(e),this.setCursors(u,c),l},t.getItems=function(){return this.items},t.getVisibleItems=function(){var e=this.startCursor,r=this.endCursor;return e===-1?[]:this.items.slice(e,r+1)},t.getSize=function(){return this.size},t.getItemByKey=function(e){return this.itemKeys[e]},t.getItemPartByKey=function(e){var r;return this.items.forEach(function(n){var o;(o=n.parts)===null||o===void 0||o.forEach(function(a){a.key===e&&(r=a)})}),r},t.getScrollSize=function(){var e=this.items,r=e.length;return r?Math.max.apply(Math,P([0],e[r-1].endOutline,!1)):0},t.getVisibleArea=function(e,r){r===void 0&&(r=this.options.defaultDirection);var n=r===le.END,o=this.getRenderedVisibleItems();if(!o.length)return null;var a=o[n?0:length-1],u=n?Math.min.apply(Math,a.startOutline):Math.max.apply(Math,a.endOutline),c=u,l;return n?o.forEach(function(h){var d;(d=h.parts)===null||d===void 0||d.forEach(function(f){l&&l.pos>=f.pos||c<f.pos&&f.pos<=e&&(l=f,c=f.pos)})}):o.forEach(function(h){var d;(d=h.parts)===null||d===void 0||d.forEach(function(f){var p=f.pos+f.size;l&&l.pos+l.size<=p||c>p&&p>=e&&(l=f,c=p)})}),{item:a,part:l}},t.getRenderedVisibleItems=function(){var e=this.getVisibleItems(),r=e.map(function(a){var u=a.startOutline,c=a.endOutline,l=u.length;return l===0||l!==c.length?!1:u.some(function(h,d){return c[d]!==h})}),n=r.indexOf(!0),o=r.lastIndexOf(!0);return o===-1?[]:e.slice(n,o+1)},t.destroy=function(){this.off(),this.startCursor=-1,this.endCursor=-1,this.items=[],this.size=0},s}(re),Lr=function(i){Q(s,i);function s(){var e=i!==null&&i.apply(this,arguments)||this;return e.items=[],e.container=null,e.rendererKey=0,e._updateTimer=0,e._state={},e._isItemChanged=!1,e}var t=s.prototype;return t.updateKey=function(){this.rendererKey=Date.now()},t.getItems=function(){return this.items},t.setContainer=function(e){this.container=e},t.render=function(e,r){return this.syncItems(e,r)},t.update=function(e){var r=this;e===void 0&&(e={}),this._state=y(y({},this._state),e),this.trigger("update",{state:e}),clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout(function(){r.trigger("requestUpdate",{state:e})})},t.updated=function(e){var r,n;e===void 0&&(e=(n=(r=this.container)===null||r===void 0?void 0:r.children)!==null&&n!==void 0?n:[]);var o=this._diffResult,a=!!(o.added.length||o.removed.length||o.changed.length),u=this._state,c=this._isItemChanged,l=o.list;return this._isItemChanged=!1,this._state={},this.items=l,l.forEach(function(h,d){h.element=e[d]}),this.trigger("updated",{items:l,elements:Se(e),diffResult:this._diffResult,state:u,isItemChanged:c,isChanged:a}),a},t.syncItems=function(e,r){r===void 0&&(r={});var n=this.rendererKey,o=this.items,a=e.map(function(c){return y(y({},c),{renderKey:"".concat(n,"_").concat(c.key)})}),u=xe(o,a,function(c){return c.renderKey});return this._isItemChanged=!!u.added.length||!!u.removed.length||!!u.changed.length,this._state=y(y({},this._state),r),this._diffResult=u,u},t.destroy=function(){this.off()},s}(re),wr=function(i){Q(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}var t=s.prototype;return t.render=function(e,r){var n=this.container,o=i.prototype.render.call(this,e,r),a=o.prevList,u=o.removed,c=o.ordered,l=o.added,h=o.list,d=P([],a,!0);return u.forEach(function(f){d.splice(f,1),n.removeChild(a[f].element)}),c.forEach(function(f){var p,v,g=f[0],R=f[1],m=d.splice(g,1)[0];d.splice(R,0,m),n.insertBefore(m.element,(v=(p=d[R+1])===null||p===void 0?void 0:p.element)!==null&&v!==void 0?v:null)}),l.forEach(function(f){var p,v,g=h[f];d.splice(f,0,g),n.insertBefore(g.element,(v=(p=d[f+1])===null||p===void 0?void 0:p.element)!==null&&v!==void 0?v:null)}),this.updated(n.children),o},s}(Lr),Dr=function(i){Q(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}var t=s.prototype;return t.syncItems=function(e){var r=i.prototype.syncItems.call(this,e),n=r.added,o=r.list;return n.forEach(function(a){var u=e[a].orgItem;u.html&&!u.element&&(u.element=zt(u.html)[0]),o[a].element=u.element}),r},s}(wr),Gr=function(i){Q(s,i);function s(e,r){var n=i.call(this)||this;return n.wrapper=e,n.prevScrollPos=null,n.scrollOffset=0,n.contentSize=0,n._isScrollIssue=pr,n._onCheck=function(){var o=n.getScrollPos(),a=n.getOrgScrollPos();if(n.setScrollPos(a),o===null||n._isScrollIssue&&a===0||o===a){a&&(n._isScrollIssue=!1);return}n._isScrollIssue=!1,n.trigger(new X("scroll",{direction:o<a?"end":"start",scrollPos:a,relativeScrollPos:n.getRelativeScrollPos()}))},n.options=y({container:!1,containerTag:"div",horizontal:!1,scrollContainer:null},r),n._init(),n}var t=s.prototype;return t.getWrapper=function(){return this.wrapper},t.getContainer=function(){return this.container},t.getScrollContainer=function(){return this.scrollContainer},t.getScrollOffset=function(){return this.scrollOffset},t.getContentSize=function(){return this.contentSize},t.getRelativeScrollPos=function(){return(this.prevScrollPos||0)-this.scrollOffset},t.getScrollPos=function(){return this.prevScrollPos},t.setScrollPos=function(e){this.prevScrollPos=e},t.getOrgScrollPos=function(){var e=this.eventTarget,r=this.options.horizontal,n="scroll".concat(r?"Left":"Top");return ke(e)?window[r?"pageXOffset":"pageYOffset"]||document.documentElement[n]||document.body[n]:e[n]},t.setStatus=function(e){this.contentSize=e.contentSize,this.scrollOffset=e.scrollOffset,this.prevScrollPos=e.prevScrollPos,this.scrollTo(this.prevScrollPos)},t.getStatus=function(){return{contentSize:this.contentSize,scrollOffset:this.scrollOffset,prevScrollPos:this.prevScrollPos}},t.scrollTo=function(e){var r=this.eventTarget,n=this.options.horizontal,o=n?[e,0]:[0,e],a=o[0],u=o[1];ke(r)?r.scroll(a,u):(r.scrollLeft=a,r.scrollTop=u)},t.scrollBy=function(e){if(e){var r=this.eventTarget,n=this.options.horizontal,o=n?[e,0]:[0,e],a=o[0],u=o[1];this.prevScrollPos+=e,ke(r)?r.scrollBy(a,u):(r.scrollLeft+=a,r.scrollTop+=u)}},t.resize=function(){var e=this.scrollContainer,r=this.options.horizontal,n=e===document.body,o=n?{top:0,left:0}:e.getBoundingClientRect(),a=this.container.getBoundingClientRect();this.scrollOffset=(this.getOrgScrollPos()||0)+(r?a.left-o.left:a.top-o.top),n?this.contentSize=r?window.innerWidth:window.innerHeight:this.contentSize=r?e.offsetWidth:e.offsetHeight},t.destroy=function(){var e=this.container;if(this.eventTarget.removeEventListener("scroll",this._onCheck),this._isCreateElement){var r=this.scrollContainer,n=document.createDocumentFragment(),o=Se(e.childNodes);r.removeChild(e),o.forEach(function(a){n.appendChild(a)}),r.appendChild(n)}else this.options.container&&(e.style.cssText=this._orgCSSText)},t._init=function(){var e,r=this.options,n=r.container,o=r.containerTag,a=r.horizontal,u=r.scrollContainer,c=this.wrapper,l=c,h=c,d="";if(!n)l=rt(u)||document.body,d=h.style.cssText;else{if(n===!0){h=document.createElement(o),h.style.position="relative",h.className=vr;var f=Se(l.childNodes);f.forEach(function(g){h.appendChild(g)}),l.appendChild(h),this._isCreateElement=!0}else h=rt(n);d=h.style.cssText;var p=l.style;e=a?["scroll","hidden"]:["hidden","scroll"],p.overflowX=e[0],p.overflowY=e[1],a&&(h.style.height="100%")}var v=l===document.body?window:l;v.addEventListener("scroll",this._onCheck),this._orgCSSText=d,this.container=h,this.scrollContainer=l,this.eventTarget=v,this.resize(),this.setScrollPos(this.getOrgScrollPos())},s}(re),Ne=function(i){Q(s,i);function s(e,r){var n=i.call(this)||this;n._waitType="",n._onScroll=function(_){var S=_.direction,w=_.scrollPos,b=_.relativeScrollPos;n._scroll(),n.trigger(new X(ye.CHANGE_SCROLL,{direction:S,scrollPos:w,relativeScrollPos:b}))},n._onChange=function(_){n.setCursors(_.nextStartCursor,_.nextEndCursor)},n._onRendererUpdated=function(_){var S=_.items;if(S.forEach(function(N){var U=N.orgItem;U.element=N.element}),!_.isChanged){n._checkEndLoading(),n._scroll();return}var w=_.diffResult,b=w.added,M=w.removed,j=w.prevList,ie=w.list;M.forEach(function(N){var U=j[N].orgItem;U.mountState!==F.UNCHECKED&&(U.mountState=F.UNMOUNTED)});var ee=n.options.horizontal,ge=b.map(function(N){var U=ie[N].orgItem,fe=U.element;if(U.type===x.VIRTUAL){var te=y({},U.cssRect),oe=U.rect;return!te.width&&oe.width&&(te.width=oe.width),!te.height&&oe.height&&(te.height=oe.height),new Me(ee,{element:fe,cssRect:te})}return U}),ce=n.containerManager;n.options.observeChildren&&(ce.unobserveChildren(M.map(function(N){return j[N].element})),ce.observeChildren(b.map(function(N){return ie[N].element})));var se=_.state,ue=se.isRestore,he=se.isResize;n.itemRenderer.renderItems(ge),ue&&n._onRenderComplete({mounted:b.map(function(N){return ie[N].orgItem}),updated:[],isResize:!1,direction:n.defaultDirection}),(!ue||he||_.isItemChanged)&&n.groupManager.renderItems()},n._onResize=function(_){if(_.isResizeContainer)n._renderItems({useResize:!0},!0);else{var S=gt(n.getVisibleItems(),_.childEntries);S.length>0&&n.updateItems(S)}},n._onRequestAppend=function(_){n._onRequestInsert(le.END,ye.REQUEST_APPEND,_)},n._onRequestPrepend=function(_){n._onRequestInsert(le.START,ye.REQUEST_PREPEND,_)},n._onContentError=function(_){var S=_.element,w=_.target,b=_.item,M=_.update;n.trigger(new X(ye.CONTENT_ERROR,{element:S,target:w,item:b,update:M,remove:function(){n.removeByKey(b.key)}}))},n._onRenderComplete=function(_){var S=_.isResize,w=_.mounted,b=_.updated,M=_.direction,j=n.infinite,ie=n.scrollManager,ee=ie.getRelativeScrollPos(),ge=j.getScrollSize(),ce=j.getSize(),se=j.getVisibleArea(ee,M),ue=M===le.END;if(n._syncInfinite(),se){var he=se.part,N=se.item,U=void 0,fe=void 0;if(he&&(U=j.getItemPartByKey(he.key)),N&&(fe=j.getItemByKey(N.key)),U||fe){var te=0,oe=0;if(U)oe=U.pos+(ue?0:U.size),te=he.pos+(ue?0:he.size);else{var Ot=Math.min.apply(Math,N.startOutline),bt=Math.max.apply(Math,N.endOutline),Pt=Math.min.apply(Math,fe.startOutline),Mt=Math.max.apply(Math,fe.endOutline);oe=ue?Pt:Mt,te=ue?Ot:bt}var Te=oe-te;if(Te<0){var xt=j.getScrollSize(),Tt=j.getSize(),Lt=Math.max(ee-Math.max(0,ge-ce),0),wt=Math.min(ee,Math.max(0,xt-Tt))+Lt;Te+=ee-wt}n.scrollManager.scrollBy(Te)}}var Je=w.filter(function(we){return we.type!==x.LOADING});n.trigger(new X(ye.RENDER_COMPLETE,{isResize:S,direction:M,mounted:Je,updated:b.filter(function(we){return we.type!==x.LOADING}),startCursor:n.getStartCursor(),endCursor:n.getEndCursor(),items:n.getVisibleItems(!0),groups:n.getVisibleGroups(!0)}));var Le=n.groupManager.shouldRerenderItems();(Je.length||b.length)&&(Le||(Le=!!n.groupManager.endLoading())),Le?n._update():(n._checkEndLoading(),n._scroll())},n.options=y(y(y({},n.constructor.defaultOptions),{renderer:new Dr().on("requestUpdate",function(){return n._render()})}),r);var o=n.options,a=o.gridConstructor,u=o.containerTag,c=o.container,l=o.renderer,h=o.threshold,d=o.useRecycle,f=o.scrollContainer,p=o.appliedItemChecker,v=Xe(o,["gridConstructor","containerTag","container","renderer","threshold","useRecycle","scrollContainer","appliedItemChecker"]),g=v.horizontal,R=v.attributePrefix,m=v.useTransform,I=v.percentage,C=v.isConstantSize,k=v.isEqualSize,Z=v.autoResize,z=v.useResizeObserver,G=v.resizeDebounce,O=v.maxResizeDebounce,L=v.defaultDirection,E=v.useRoundedSize,Y=He(e)?document.querySelector(e):e,A=new Gr(Y,{scrollContainer:f,container:c,containerTag:u,horizontal:g}).on({scroll:n._onScroll}),W=A.getContainer(),J=new Rt(W,{horizontal:g,autoResize:Z,resizeDebounce:G,maxResizeDebounce:O,useResizeObserver:z}).on("resize",n._onResize),V=new _t({attributePrefix:R,horizontal:g,useTransform:m,percentage:I,isEqualSize:k,isConstantSize:C,useRoundedSize:E}),H=new Tr({defaultDirection:L,useRecycle:d,threshold:h}).on({change:n._onChange,requestAppend:n._onRequestAppend,requestPrepend:n._onRequestPrepend});H.setSize(A.getContentSize());var ne=new xr(W,{appliedItemChecker:p,gridConstructor:a,externalItemRenderer:V,externalContainerManager:J,gridOptions:v});return ne.on({renderComplete:n._onRenderComplete,contentError:n._onContentError}),l.setContainer(W),l.on("updated",n._onRendererUpdated),n.itemRenderer=V,n.groupManager=ne,n.wrapperElement=Y,n.scrollManager=A,n.containerManager=J,n.infinite=H,n.containerManager.resize(),n}var t=s.prototype;return t.renderItems=function(e){return e===void 0&&(e={}),this._renderItems(e),this},t.getWrapperElement=function(){return this.scrollManager.getWrapper()},t.getScrollContainerElement=function(){return this.scrollManager.getScrollContainer()},t.getContainerElement=function(){return this.scrollManager.getContainer()},t.syncItems=function(e){return this.groupManager.syncItems(e),this._syncGroups(),this},t.setCursors=function(e,r,n){return this.groupManager.setCursors(e,r),this.infinite.setCursors(e,r),n?(this.getVisibleItems().forEach(function(o){o.cssRect.top===Be&&(o.cssRect={})}),this._syncItems()):(this._update(),this._checkEndLoading()),this},t.getStartCursor=function(){return this.infinite.getStartCursor()},t.getEndCursor=function(){return this.infinite.getEndCursor()},t.append=function(e,r){return this.insert(-1,e,r)},t.prepend=function(e,r){return this.insert(0,e,r)},t.insert=function(e,r,n){var o=this.groupManager.getGroupItems(),a=it(r,n);return e===-1?o.push.apply(o,a):o.splice.apply(o,P([e,0],a,!1)),this.syncItems(o)},t.insertByGroupIndex=function(e,r,n){var o=this.groupManager.getGroups(),a=o[e];if(!a)return this.append(r,n);var u=this.groupManager.getGroupItems(),c=a.groupKey,l=$(u,function(h){return h.groupKey===c});return this.insert(l,r,n)},t.getStatus=function(e,r){return{containerManager:this.containerManager.getStatus(),itemRenderer:this.itemRenderer.getStatus(),groupManager:this.groupManager.getGroupStatus(e,r),scrollManager:this.scrollManager.getStatus()}},t.setPlaceholder=function(e){return this.groupManager.setPlaceholder(e),this},t.setLoading=function(e){return this.groupManager.setLoading(e),this},t.appendPlaceholders=function(e,r){var n=this,o=this.groupManager.appendPlaceholders(e,r);return this._syncGroups(!0),y(y({},o),{remove:function(){n.removePlaceholders({groupKey:o.group.groupKey})}})},t.prependPlaceholders=function(e,r){var n=this,o=this.groupManager.prependPlaceholders(e,r);return this._syncGroups(!0),y(y({},o),{remove:function(){n.removePlaceholders({groupKey:o.group.groupKey})}})},t.removePlaceholders=function(e){this.groupManager.removePlaceholders(e),this._syncGroups(!0)},t.setStatus=function(e,r){this.itemRenderer.setStatus(e.itemRenderer),this.containerManager.setStatus(e.containerManager),this.scrollManager.setStatus(e.scrollManager);var n=this.groupManager,o=this.containerManager.getInlineSize();n.setGroupStatus(e.groupManager),this._syncInfinite(),this.infinite.setCursors(n.getStartCursor(),n.getEndCursor()),this._getRenderer().updateKey();var a={isResize:this.containerManager.getInlineSize()!==o,isRestore:!0};return r?this._syncItems(a):this._update(a),this},t.removeGroupByIndex=function(e){var r=this.getGroups();return this.removeGroupByKey(r[e].groupKey)},t.removeGroupByKey=function(e){var r=this.getItems(),n=$(r,function(a){return a.groupKey===e}),o=Ce(r,function(a){return a.groupKey===e});return n===-1?this:(r.splice(n,o-n+1),this.syncItems(r))},t.removeByIndex=function(e){var r=this.getItems(!0);return r.splice(e,1),this.syncItems(r)},t.removeByKey=function(e){var r=this.getItems(!0),n=$(r,function(o){return o.key===e});return this.removeByIndex(n)},t.updateItems=function(e,r){return r===void 0&&(r={}),this.groupManager.updateItems(e,r),this},t.getItems=function(e){return this.groupManager.getGroupItems(e)},t.getVisibleItems=function(e){return this.groupManager.getVisibleItems(e)},t.getRenderingItems=function(){return this.groupManager.getRenderingItems()},t.getGroups=function(e){return this.groupManager.getGroups(e)},t.getVisibleGroups=function(e){return this.groupManager.getVisibleGroups(e)},t.wait=function(e){e===void 0&&(e=le.END),this._waitType=e,this._checkStartLoading(e)},t.ready=function(e){this._waitType="",e&&(this.groupManager.waitEndLoading(),this.groupManager.endLoading()&&this._update())},t.isWait=function(){return!!this._waitType},t.destroy=function(){this.off(),this._getRenderer().destroy(),this.containerManager.destroy(),this.groupManager.destroy(),this.scrollManager.destroy(),this.infinite.destroy()},t._getRenderer=function(){return this.options.renderer},t._getRendererItems=function(){return this.getRenderingItems().map(function(e){return{element:e.element,key:"".concat(e.type,"_").concat(e.key),orgItem:e}})},t._syncItems=function(e){this._getRenderer().syncItems(this._getRendererItems(),e)},t._render=function(e){this._getRenderer().render(this._getRendererItems(),e)},t._update=function(e){e===void 0&&(e={}),this._getRenderer().update(e)},t._resizeScroll=function(){var e=this.scrollManager;e.resize(),this.infinite.setSize(e.getContentSize())},t._syncGroups=function(e){var r=this.infinite,n=this.scrollManager;n.getContentSize()||this._resizeScroll(),this._syncInfinite(),this.groupManager.setCursors(r.getStartCursor(),r.getEndCursor()),e?this._update():this._render()},t._syncInfinite=function(){this.infinite.syncItems(this.getGroups(!0).map(function(e){var r=e.groupKey,n=e.grid,o=e.type,a=n.getOutlines();return{key:r,isVirtual:o===K.VIRTUAL,startOutline:a.start,endOutline:a.end,parts:n.getItems().map(function(u){return{key:u.key,pos:u.computedContentPos,size:u.computedContentSize}})}}))},t._scroll=function(){this.infinite.scroll(this.scrollManager.getRelativeScrollPos())},t._onRequestInsert=function(e,r,n){var o=this;if(this._waitType){this._checkStartLoading(this._waitType);return}this.trigger(new X(r,{groupKey:n.key,nextGroupKey:n.nextKey,nextGroupKeys:n.nextKeys||[],isVirtual:n.isVirtual,wait:function(){o.wait(e)},ready:function(a){o.ready(a)}}))},t._renderItems=function(e,r){if(e===void 0&&(e={}),!r&&e.useResize&&this.containerManager.resize(),this._resizeScroll(),!this.getRenderingItems().length){var n=Se(this.getContainerElement().children);return n.length>0?(this.groupManager.syncItems(it(n)),this._syncInfinite(),this.setCursors(0,0,!0),this._getRenderer().updated()):this.infinite.scroll(0),this}return this.getVisibleGroups(!0).length?this.groupManager.renderItems(e):this.setCursors(0,0),this},t._checkStartLoading=function(e){var r=this.groupManager,n=this.infinite;!r.getLoadingType()&&n.isLoading(e)&&r.startLoading(e)&&r.hasLoadingItem()&&this._update()},t._checkEndLoading=function(){var e=this.groupManager,r=this.groupManager.getLoadingType();r&&(!this._waitType||!this.infinite.isLoading(r))&&e.waitEndLoading()&&e.hasLoadingItem()&&this._update()},s.defaultOptions=y(y({},q),{container:!1,containerTag:"div",renderer:null,threshold:100,useRecycle:!0,scrollContainer:null,appliedItemChecker:function(){return!1}}),s.propertyTypes=mr,s=Qe([Et],s),s}(re),kr=function(i){Q(s,i);function s(){return i!==null&&i.apply(this,arguments)||this}return s.propertyTypes=y(y({},Ne.propertyTypes),Ge.propertyTypes),s.defaultOptions=y(y(y({},Ne.defaultOptions),Ge.defaultOptions),{gridConstructor:Ge,appliedItemChecker:function(t,e){var r=parseFloat(t.attributes.column)||0;return r>=e.outlineLength}}),s=Qe([Et],s),s}(Ne);document.addEventListener("DOMContentLoaded",()=>{function i(s,t){const e=[];for(let r=0;r<t;++r){const n=s*t+r;let o=`<div class="item">
  <div class="thumbnail">
      <img src="/assets/bg/${n%11+1}.webp" alt="egjs" />
  </div>
  <div class="info">bg ${n}</div>
</div>`,a=document.createElement("div");a.innerHTML=o,a.firstChild.addEventListener("click",u=>{const{src:c}=u.target;Ar(c)}),e.push(a.firstChild)}return e}if(document.querySelector(".container"))try{const s=new kr(".container",{gap:5});s.on("requestAppend",t=>{const e=+(t.groupKey||0)+1;s.append(i(e,10),e)}),s.renderItems()}catch(s){console.error(s)}});function Ar(i){const s=document.createElement("div");s.className="modal fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-50 bg-black bg-opacity-50 object-contain",s.onclick=()=>s.remove(),s.innerHTML=`<img src="${i}" alt="">`,document.body.appendChild(s)}
//# sourceMappingURL=grid.astro_astro_type_script_index_0_lang.BzdOezgf.js.map
