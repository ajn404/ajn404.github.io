{"version":3,"file":"landScape.Bf4xVOBd.js","sources":["../../src/components/react/p5/Randomness/landScape.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\n\nconst make2DArray = (cols: number, rows: number) => {\n  let arr = new Array(cols);\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = new Array(rows);\n  }\n  return arr;\n};\n\nexport default () => {\n  const sketch = (p: p5) => {\n    class Terrain {\n      scl: number;\n      w: number;\n      h: number;\n      z: number[][];\n      zoff: number;\n      cols: number;\n      rows: number;\n      constructor(scl, w, h) {\n        this.scl = scl;\n        this.w = w;\n        this.h = h;\n        this.cols = p.floor(w / scl);\n        this.rows = p.floor(h / scl);\n        this.z = make2DArray(this.cols, this.rows);\n        this.zoff = 0;\n      }\n      calculate() {\n        let xoff = 0;\n        for (let i = 0; i < this.cols; i++) {\n          let yoff = 0;\n          for (let j = 0; j < this.rows; j++) {\n            this.z[i][j] = p.map(\n              p.noise(xoff, yoff, this.zoff),\n              0,\n              1,\n              -120,\n              120\n            );\n            yoff += 0.1;\n          }\n          xoff += 0.1;\n        }\n        this.zoff += 0.01;\n      }\n\n      render() {\n        for (let x = 0; x < this.z.length - 1; x++) {\n          p.beginShape(p.TRIANGLE_STRIP);\n          for (let y = 0; y < this.z[x].length; y++) {\n            p.stroke(0);\n            let currentElevation = this.z[x][y];\n            let currentShade = p.map(currentElevation, -120, 120, 0, 255);\n            p.fill(currentShade, 255);\n            let xCoordinate = x * this.scl - this.w / 2;\n            let yCoordinate = y * this.scl - this.h / 2;\n            p.vertex(xCoordinate, yCoordinate, this.z[x][y]);\n            p.vertex(xCoordinate + this.scl, yCoordinate, this.z[x + 1][y]);\n          }\n          p.endShape();\n        }\n      }\n    }\n\n    let land;\n    let theta = 0.0;\n\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 2, 400, p.WEBGL);\n      land = new Terrain(10, p.windowWidth / 2 - 20, 400);\n    };\n    const draw = () => {\n      p.orbitControl();\n      land.calculate();\n      p.background(255);\n      p.push();\n      p.translate(0, 20, -100);\n      p.rotateX(p.PI / 3);\n      p.rotateZ(theta);\n      land.render();\n      p.pop();\n      theta += 0.0025;\n    };\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, 240);\n    };\n    p.setup = setup;\n    p.draw = draw;\n    p.windowResized = resize;\n  };\n  return <Basic sketch={sketch} showControls></Basic>;\n};\n"],"names":["make2DArray","cols","rows","arr","i","landScape","sketch","p","Terrain","scl","w","h","xoff","yoff","j","x","y","currentElevation","currentShade","xCoordinate","yCoordinate","land","theta","setup","draw","resize","jsx","Basic"],"mappings":"0rBAGA,MAAMA,EAAc,CAACC,EAAcC,IAAiB,CAC9C,IAAAC,EAAM,IAAI,MAAMF,CAAI,EACxB,QAASG,EAAI,EAAGA,EAAID,EAAI,OAAQC,IAC9BD,EAAIC,CAAC,EAAI,IAAI,MAAMF,CAAI,EAElB,OAAAC,CACT,EAEAE,EAAe,IAAM,CACb,MAAAC,EAAUC,GAAU,CACxB,MAAMC,CAAQ,CAQZ,YAAYC,EAAKC,EAAGC,EAAG,CACrB,KAAK,IAAMF,EACX,KAAK,EAAIC,EACT,KAAK,EAAIC,EACT,KAAK,KAAOJ,EAAE,MAAMG,EAAID,CAAG,EAC3B,KAAK,KAAOF,EAAE,MAAMI,EAAIF,CAAG,EAC3B,KAAK,EAAIT,EAAY,KAAK,KAAM,KAAK,IAAI,EACzC,KAAK,KAAO,CAAA,CAEd,WAAY,CACV,IAAIY,EAAO,EACX,QAASR,EAAI,EAAGA,EAAI,KAAK,KAAMA,IAAK,CAClC,IAAIS,EAAO,EACX,QAASC,EAAI,EAAGA,EAAI,KAAK,KAAMA,IAC7B,KAAK,EAAEV,CAAC,EAAEU,CAAC,EAAIP,EAAE,IACfA,EAAE,MAAMK,EAAMC,EAAM,KAAK,IAAI,EAC7B,EACA,EACA,KACA,GACF,EACQA,GAAA,GAEFD,GAAA,EAAA,CAEV,KAAK,MAAQ,GAAA,CAGf,QAAS,CACP,QAASG,EAAI,EAAGA,EAAI,KAAK,EAAE,OAAS,EAAGA,IAAK,CACxCR,EAAA,WAAWA,EAAE,cAAc,EACpB,QAAAS,EAAI,EAAGA,EAAI,KAAK,EAAED,CAAC,EAAE,OAAQC,IAAK,CACzCT,EAAE,OAAO,CAAC,EACV,IAAIU,EAAmB,KAAK,EAAEF,CAAC,EAAEC,CAAC,EAC9BE,EAAeX,EAAE,IAAIU,EAAkB,KAAM,IAAK,EAAG,GAAG,EAC1DV,EAAA,KAAKW,EAAc,GAAG,EACxB,IAAIC,EAAcJ,EAAI,KAAK,IAAM,KAAK,EAAI,EACtCK,EAAcJ,EAAI,KAAK,IAAM,KAAK,EAAI,EACxCT,EAAA,OAAOY,EAAaC,EAAa,KAAK,EAAEL,CAAC,EAAEC,CAAC,CAAC,EAC7CT,EAAA,OAAOY,EAAc,KAAK,IAAKC,EAAa,KAAK,EAAEL,EAAI,CAAC,EAAEC,CAAC,CAAC,CAAA,CAEhET,EAAE,SAAS,CAAA,CACb,CACF,CAGE,IAAAc,EACAC,EAAQ,EAEZ,MAAMC,EAAQ,IAAM,CAClBhB,EAAE,aAAaA,EAAE,YAAc,EAAG,IAAKA,EAAE,KAAK,EAC9Cc,EAAO,IAAIb,EAAQ,GAAID,EAAE,YAAc,EAAI,GAAI,GAAG,CACpD,EACMiB,EAAO,IAAM,CACjBjB,EAAE,aAAa,EACfc,EAAK,UAAU,EACfd,EAAE,WAAW,GAAG,EAChBA,EAAE,KAAK,EACLA,EAAA,UAAU,EAAG,GAAI,IAAI,EACrBA,EAAA,QAAQA,EAAE,GAAK,CAAC,EAClBA,EAAE,QAAQe,CAAK,EACfD,EAAK,OAAO,EACZd,EAAE,IAAI,EACGe,GAAA,KACX,EACMG,EAAS,IAAM,CACnBlB,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQgB,EACVhB,EAAE,KAAOiB,EACTjB,EAAE,cAAgBkB,CACpB,EACA,OAAQC,EAAAA,IAAAC,EAAA,CAAM,OAAArB,EAAgB,aAAY,EAAC,CAAA,CAC7C"}