import{g as getDefaultExportFromCjs}from"./_commonjsHelpers.DqoTaOmB.js";import"./_sentry-release-injection-file.B-UwqLso.js";import{b as buffer,i as ieee754}from"./index.D2bNvrEO.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a17c49dc-e9a5-43ad-9359-2a288db9935a",e._sentryDebugIdIdentifier="sentry-dbid-a17c49dc-e9a5-43ad-9359-2a288db9935a")}catch{}})();function _mergeNamespaces(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var browser$5={exports:{}},lib$2={},browser$4={exports:{}},stream$1={exports:{}};let AggregateError$1=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};var primordials={AggregateError:AggregateError$1,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},util$1={exports:{}},inspect$2={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){const i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}};const{format,inspect:inspect$1}=inspect$2,{AggregateError:CustomAggregateError}=primordials,AggregateError=globalThis.AggregateError||CustomAggregateError,kIsNodeError=Symbol("kIsNodeError"),kTypes=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix="__node_internal_",codes$1={};function assert(e,t){if(!e)throw new codes$1.ERR_INTERNAL_ASSERTION(t)}function addNumericalSeparator(e){let t="",r=e.length;const n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function getMessage(e,t,r){if(typeof t=="function")return assert(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return assert(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:format(t,...r)}function E(e,t,r){r||(r=Error);class n extends r{constructor(...s){super(getMessage(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[kIsNodeError]=!0,codes$1[e]=n}function hideStackFrames$1(e){const t=nodeInternalPrefix+e.name;return Object.defineProperty(e,"name",{value:t}),e}function aggregateTwoErrors$2(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new AggregateError([t,e],t.message);return r.code=t.code,r}return e||t}let AbortError$5=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new codes$1.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error);E("ERR_INVALID_ARG_TYPE",(e,t,r)=>{assert(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const i=[],s=[],u=[];for(const f of t)assert(typeof f=="string","All expected entries have to be of type string"),kTypes.includes(f)?i.push(f.toLowerCase()):classRegExp.test(f)?s.push(f):(assert(f!=="object",'The value "object" should be written as "Object"'),u.push(f));if(s.length>0){const f=i.indexOf("object");f!==-1&&(i.splice(i,f,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const f=i.pop();n+=`one of type ${i.join(", ")}, or ${f}`}}(s.length>0||u.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const f=s.pop();n+=`an instance of ${s.join(", ")}, or ${f}`}}u.length>0&&(n+=" or ")}switch(u.length){case 0:break;case 1:u[0].toLowerCase()!==u[0]&&(n+="an "),n+=`${u[0]}`;break;case 2:n+=`one of ${u[0]} or ${u[1]}`;break;default:{const f=u.pop();n+=`one of ${u.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var p;if((p=r.constructor)!==null&&p!==void 0&&p.name)n+=`. Received an instance of ${r.constructor.name}`;else{const f=inspect$1(r,{depth:-1});n+=`. Received ${f}`}}else{let f=inspect$1(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError);E("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=inspect$1(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);E("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);E("ERR_MISSING_ARGS",(...e)=>{assert(e.length>0,"At least one arg needs to be specified");let t;const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);E("ERR_OUT_OF_RANGE",(e,t,r)=>{assert(t,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=addNumericalSeparator(String(r));else if(typeof r=="bigint"){n=String(r);const i=BigInt(2)**BigInt(32);(r>i||r<-i)&&(n=addNumericalSeparator(n)),n+="n"}else n=inspect$1(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors={AbortError:AbortError$5,aggregateTwoErrors:hideStackFrames$1(aggregateTwoErrors$2),hideStackFrames:hideStackFrames$1,codes:codes$1},browser$3={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$3.exports;hasRequiredBrowser=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$3.exports=e,browser$3.exports.AbortSignal=t,browser$3.exports.default=e,browser$3.exports}var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN$2=Number.isNaN||function(t){return t!==t};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$2;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN$2(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN$2(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter.defaultMaxListeners:e._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var u;if(r.length>0&&(u=r[0]),u instanceof Error)throw u;var p=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw p.context=u,p}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")ReflectApply(f,this,r);else for(var o=f.length,d=arrayClone(f,o),n=0;n<o;++n)ReflectApply(d[n],this,r);return!0};function _addListener(e,t,r,n){var i,s,u;if(checkListener(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),u=s[t]),u===void 0)u=s[t]=r,++e._eventsCount;else if(typeof u=="function"?u=s[t]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),i=_getMaxListeners(e),i>0&&u.length>i&&!u.warned){u.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=u.length,ProcessEmitWarning(p)}return e}EventEmitter.prototype.addListener=function(t,r){return _addListener(this,t,r,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(t,r){return _addListener(this,t,r,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=onceWrapper.bind(n);return i.listener=r,n.wrapFn=i,i}EventEmitter.prototype.once=function(t,r){return checkListener(r),this.on(t,_onceWrap(this,t,r)),this};EventEmitter.prototype.prependOnceListener=function(t,r){return checkListener(r),this.prependListener(t,_onceWrap(this,t,r)),this};EventEmitter.prototype.removeListener=function(t,r){var n,i,s,u,p;if(checkListener(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,u=n.length-1;u>=0;u--)if(n[u]===r||n[u].listener===r){p=n[u].listener,s=u;break}if(s<0)return this;s===0?n.shift():spliceOne(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,p||r)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),u;for(i=0;i<s.length;++i)u=s[i],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function _listeners(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?unwrapListeners(i):arrayClone(i,i.length)}EventEmitter.prototype.listeners=function(t){return _listeners(this,t,!0)};EventEmitter.prototype.rawListeners=function(t){return _listeners(this,t,!1)};EventEmitter.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$2(e,t){return new Promise(function(r,n){function i(u){e.removeListener(t,s),n(u)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,s,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,i,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,r){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events.exports;(function(e){const t=buffer,{format:r,inspect:n}=inspect$2,{codes:{ERR_INVALID_ARG_TYPE:i}}=errors,{kResistStopPropagation:s,AggregateError:u,SymbolDispose:p}=primordials,f=globalThis.AbortSignal||requireBrowser().AbortSignal,o=globalThis.AbortController||requireBrowser().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||t.Blob,w=typeof g<"u"?function(S){return S instanceof g}:function(S){return!1},x=(m,S)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new i(S,"AbortSignal",m)},N=(m,S)=>{if(typeof m!="function")throw new i(S,"Function",m)};e.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(m){let S=!1;return function(...k){S||(S=!0,m.apply(this,k))}},createDeferredPromise:function(){let m,S;return{promise:new Promise((L,b)=>{m=L,S=b}),resolve:m,reject:S}},promisify(m){return new Promise((S,k)=>{m((L,...b)=>L?k(L):S(...b))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(m){return m instanceof d},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:w,deprecate(m,S){return m},addAbortListener:eventsExports.addAbortListener||function(S,k){if(S===void 0)throw new i("signal","AbortSignal",S);x(S,"signal"),N(k,"listener");let L;return S.aborted?queueMicrotask(()=>k()):(S.addEventListener("abort",k,{__proto__:null,once:!0,[s]:!0}),L=()=>{S.removeEventListener("abort",k)}),{__proto__:null,[p](){var b;(b=L)===null||b===void 0||b()}}},AbortSignalAny:f.any||function(S){if(S.length===1)return S[0];const k=new o,L=()=>k.abort();return S.forEach(b=>{x(b,"signals"),b.addEventListener("abort",L,{once:!0})}),k.signal.addEventListener("abort",()=>{S.forEach(b=>b.removeEventListener("abort",L))},{once:!0}),k.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$1);var utilExports=util$1.exports,operators={};const{ArrayIsArray:ArrayIsArray$2,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,NumberIsInteger:NumberIsInteger$1,NumberIsNaN:NumberIsNaN$1,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,NumberParseInt,ObjectPrototypeHasOwnProperty,RegExpPrototypeExec,String:String$1,StringPrototypeToUpperCase,StringPrototypeTrim}=primordials,{hideStackFrames,codes:{ERR_SOCKET_BAD_PORT,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$4,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$3,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$1,ERR_UNKNOWN_SIGNAL}}=errors,{normalizeEncoding:normalizeEncoding$1}=utilExports,{isAsyncFunction,isArrayBufferView}=utilExports.types,validateInteger$2=hideStackFrames((e,t,r=NumberMIN_SAFE_INTEGER,n=NumberMAX_SAFE_INTEGER)=>{if(typeof e!="number")throw new ERR_INVALID_ARG_TYPE$4(t,"number",e);if(!NumberIsInteger$1(e))throw new ERR_OUT_OF_RANGE$1(t,"an integer",e);if(e<r||e>n)throw new ERR_OUT_OF_RANGE$1(t,`>= ${r} && <= ${n}`,e)});hideStackFrames((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new ERR_INVALID_ARG_TYPE$4(t,"number",e);if(!NumberIsInteger$1(e))throw new ERR_OUT_OF_RANGE$1(t,"an integer",e);if(e<r||e>n)throw new ERR_OUT_OF_RANGE$1(t,`>= ${r} && <= ${n}`,e)});hideStackFrames((e,t,r=!1)=>{if(typeof e!="number")throw new ERR_INVALID_ARG_TYPE$4(t,"number",e);if(!NumberIsInteger$1(e))throw new ERR_OUT_OF_RANGE$1(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new ERR_OUT_OF_RANGE$1(t,`>= ${n} && <= ${i}`,e)});hideStackFrames((e,t,r)=>{if(!ArrayPrototypeIncludes(r,e)){const i="must be one of: "+ArrayPrototypeJoin(ArrayPrototypeMap(r,s=>typeof s=="string"?`'${s}'`:String$1(s)),", ");throw new ERR_INVALID_ARG_VALUE$3(t,e,i)}});function validateBoolean$1(e,t){if(typeof e!="boolean")throw new ERR_INVALID_ARG_TYPE$4(t,"boolean",e)}function getOwnPropertyValueOrDefault(e,t,r){return e==null||!ObjectPrototypeHasOwnProperty(e,t)?r:e[t]}const validateObject$2=hideStackFrames((e,t,r=null)=>{const n=getOwnPropertyValueOrDefault(r,"allowArray",!1),i=getOwnPropertyValueOrDefault(r,"allowFunction",!1);if(!getOwnPropertyValueOrDefault(r,"nullable",!1)&&e===null||!n&&ArrayIsArray$2(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new ERR_INVALID_ARG_TYPE$4(t,"Object",e)});hideStackFrames((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new ERR_INVALID_ARG_TYPE$4(t,"a dictionary",e)});hideStackFrames((e,t,r=0)=>{if(!ArrayIsArray$2(e))throw new ERR_INVALID_ARG_TYPE$4(t,"Array",e);if(e.length<r){const n=`must be longer than ${r}`;throw new ERR_INVALID_ARG_VALUE$3(t,e,n)}});hideStackFrames((e,t="buffer")=>{if(!isArrayBufferView(e))throw new ERR_INVALID_ARG_TYPE$4(t,["Buffer","TypedArray","DataView"],e)});const validateAbortSignal$3=hideStackFrames((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE$4(t,"AbortSignal",e)}),validateFunction$2=hideStackFrames((e,t)=>{if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE$4(t,"Function",e)});hideStackFrames((e,t)=>{if(typeof e!="function"||isAsyncFunction(e))throw new ERR_INVALID_ARG_TYPE$4(t,"Function",e)});hideStackFrames((e,t)=>{if(e!==void 0)throw new ERR_INVALID_ARG_TYPE$4(t,"undefined",e)});var validators={validateBoolean:validateBoolean$1,validateFunction:validateFunction$2,validateInteger:validateInteger$2,validateObject:validateObject$2,validateAbortSignal:validateAbortSignal$3},endOfStream={exports:{}},browser$2={exports:{}},process$4=browser$2.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}process$4.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$4.title="browser";process$4.browser=!0;process$4.env={};process$4.argv=[];process$4.version="";process$4.versions={};function noop(){}process$4.on=noop;process$4.addListener=noop;process$4.once=noop;process$4.off=noop;process$4.removeListener=noop;process$4.removeAllListeners=noop;process$4.emit=noop;process$4.prependListener=noop;process$4.prependOnceListener=noop;process$4.listeners=function(e){return[]};process$4.binding=function(e){throw new Error("process.binding is not supported")};process$4.cwd=function(){return"/"};process$4.chdir=function(e){throw new Error("process.chdir is not supported")};process$4.umask=function(){return 0};var browserExports$2=browser$2.exports;const{SymbolAsyncIterator:SymbolAsyncIterator$2,SymbolIterator:SymbolIterator$2,SymbolFor}=primordials,kIsDestroyed$1=SymbolFor("nodejs.stream.destroyed"),kIsErrored=SymbolFor("nodejs.stream.errored"),kIsReadable=SymbolFor("nodejs.stream.readable"),kIsWritable=SymbolFor("nodejs.stream.writable"),kIsDisturbed=SymbolFor("nodejs.stream.disturbed"),kIsClosedPromise$1=SymbolFor("nodejs.webstream.isClosedPromise"),kControllerErrorFunction=SymbolFor("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$2(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function isWritableNodeStream$1(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function isDuplexNodeStream(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function isNodeStream$4(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function isReadableStream$3(e){return!!(e&&!isNodeStream$4(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function isWritableStream$2(e){return!!(e&&!isNodeStream$4(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function isTransformStream$2(e){return!!(e&&!isNodeStream$4(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function isWebStream$2(e){return isReadableStream$3(e)||isWritableStream$2(e)||isTransformStream$2(e)}function isIterable$1(e,t){return e==null?!1:t===!0?typeof e[SymbolAsyncIterator$2]=="function":t===!1?typeof e[SymbolIterator$2]=="function":typeof e[SymbolAsyncIterator$2]=="function"||typeof e[SymbolIterator$2]=="function"}function isDestroyed$1(e){if(!isNodeStream$4(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[kIsDestroyed$1]||n!=null&&n.destroyed)}function isWritableEnded(e){if(!isWritableNodeStream$1(e))return null;if(e.writableEnded===!0)return!0;const t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}function isWritableFinished$1(e,t){if(!isWritableNodeStream$1(e))return null;if(e.writableFinished===!0)return!0;const r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function isReadableFinished$2(e,t){if(!isReadableNodeStream$2(e))return null;const r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function isReadable$3(e){return e&&e[kIsReadable]!=null?e[kIsReadable]:typeof e?.readable!="boolean"?null:isDestroyed$1(e)?!1:isReadableNodeStream$2(e)&&e.readable&&!isReadableFinished$2(e)}function isWritable$3(e){return e&&e[kIsWritable]!=null?e[kIsWritable]:typeof e?.writable!="boolean"?null:isDestroyed$1(e)?!1:isWritableNodeStream$1(e)&&e.writable&&!isWritableEnded(e)}function isFinished$1(e,t){return isNodeStream$4(e)?isDestroyed$1(e)?!0:!(t?.readable!==!1&&isReadable$3(e)||t?.writable!==!1&&isWritable$3(e)):null}function isWritableErrored$1(e){var t,r;return isNodeStream$4(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function isReadableErrored$1(e){var t,r;return isNodeStream$4(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function isClosed$1(e){if(!isNodeStream$4(e))return null;if(typeof e.closed=="boolean")return e.closed;const t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&isOutgoingMessage(e)?e._closed:null}function isOutgoingMessage(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function isServerResponse(e){return typeof e._sent100=="boolean"&&isOutgoingMessage(e)}function isServerRequest$1(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function willEmitClose(e){if(!isNodeStream$4(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&isServerResponse(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function isDisturbed(e){var t;return!!(e&&((t=e[kIsDisturbed])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function isErrored(e){var t,r,n,i,s,u,p,f,o,d;return!!(e&&((t=(r=(n=(i=(s=(u=e[kIsErrored])!==null&&u!==void 0?u:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&i!==void 0?i:(p=e._readableState)===null||p===void 0?void 0:p.errorEmitted)!==null&&n!==void 0?n:(f=e._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(o=e._readableState)===null||o===void 0?void 0:o.errored)!==null&&t!==void 0?t:!((d=e._writableState)===null||d===void 0)&&d.errored))}var utils={isDestroyed:isDestroyed$1,kIsDestroyed:kIsDestroyed$1,isDisturbed,isErrored,isReadable:isReadable$3,kIsClosedPromise:kIsClosedPromise$1,kControllerErrorFunction,isClosed:isClosed$1,isDuplexNodeStream,isFinished:isFinished$1,isIterable:isIterable$1,isReadableNodeStream:isReadableNodeStream$2,isReadableStream:isReadableStream$3,isReadableFinished:isReadableFinished$2,isReadableErrored:isReadableErrored$1,isNodeStream:isNodeStream$4,isWebStream:isWebStream$2,isWritable:isWritable$3,isWritableNodeStream:isWritableNodeStream$1,isWritableStream:isWritableStream$2,isWritableFinished:isWritableFinished$1,isWritableErrored:isWritableErrored$1,isServerRequest:isServerRequest$1,willEmitClose,isTransformStream:isTransformStream$2};const process$3=browserExports$2,{AbortError:AbortError$4,codes}=errors,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$3,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$1}=codes,{kEmptyObject,once:once$1}=utilExports,{validateAbortSignal:validateAbortSignal$2,validateFunction:validateFunction$1,validateObject:validateObject$1,validateBoolean}=validators,{Promise:Promise$3,PromisePrototypeThen:PromisePrototypeThen$2,SymbolDispose:SymbolDispose$1}=primordials,{isClosed,isReadable:isReadable$2,isReadableNodeStream:isReadableNodeStream$1,isReadableStream:isReadableStream$2,isReadableFinished:isReadableFinished$1,isReadableErrored,isWritable:isWritable$2,isWritableNodeStream,isWritableStream:isWritableStream$1,isWritableFinished,isWritableErrored,isNodeStream:isNodeStream$3,willEmitClose:_willEmitClose,kIsClosedPromise}=utils;let addAbortListener$1;function isRequest$1(e){return e.setHeader&&typeof e.abort=="function"}const nop=()=>{};function eos$2(e,t,r){var n,i;if(arguments.length===2?(r=t,t=kEmptyObject):t==null?t=kEmptyObject:validateObject$1(t,"options"),validateFunction$1(r,"callback"),validateAbortSignal$2(t.signal,"options.signal"),r=once$1(r),isReadableStream$2(e)||isWritableStream$1(e))return eosWeb(e,t,r);if(!isNodeStream$3(e))throw new ERR_INVALID_ARG_TYPE$3("stream",["ReadableStream","WritableStream","Stream"],e);const s=(n=t.readable)!==null&&n!==void 0?n:isReadableNodeStream$1(e),u=(i=t.writable)!==null&&i!==void 0?i:isWritableNodeStream(e),p=e._writableState,f=e._readableState,o=()=>{e.writable||w()};let d=_willEmitClose(e)&&isReadableNodeStream$1(e)===s&&isWritableNodeStream(e)===u,g=isWritableFinished(e,!1);const w=()=>{g=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||s))&&(!s||x)&&r.call(e)};let x=isReadableFinished$1(e,!1);const N=()=>{x=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||u))&&(!u||g)&&r.call(e)},m=P=>{r.call(e,P)};let S=isClosed(e);const k=()=>{S=!0;const P=isWritableErrored(e)||isReadableErrored(e);if(P&&typeof P!="boolean")return r.call(e,P);if(s&&!x&&isReadableNodeStream$1(e,!0)&&!isReadableFinished$1(e,!1))return r.call(e,new ERR_STREAM_PREMATURE_CLOSE$1);if(u&&!g&&!isWritableFinished(e,!1))return r.call(e,new ERR_STREAM_PREMATURE_CLOSE$1);r.call(e)},L=()=>{S=!0;const P=isWritableErrored(e)||isReadableErrored(e);if(P&&typeof P!="boolean")return r.call(e,P);r.call(e)},b=()=>{e.req.on("finish",w)};isRequest$1(e)?(e.on("complete",w),d||e.on("abort",k),e.req?b():e.on("request",b)):u&&!p&&(e.on("end",o),e.on("close",o)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",k),e.on("end",N),e.on("finish",w),t.error!==!1&&e.on("error",m),e.on("close",k),S?process$3.nextTick(k):p!=null&&p.errorEmitted||f!=null&&f.errorEmitted?d||process$3.nextTick(L):(!s&&(!d||isReadable$2(e))&&(g||isWritable$2(e)===!1)||!u&&(!d||isWritable$2(e))&&(x||isReadable$2(e)===!1)||f&&e.req&&e.aborted)&&process$3.nextTick(L);const U=()=>{r=nop,e.removeListener("aborted",k),e.removeListener("complete",w),e.removeListener("abort",k),e.removeListener("request",b),e.req&&e.req.removeListener("finish",w),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",w),e.removeListener("end",N),e.removeListener("error",m),e.removeListener("close",k)};if(t.signal&&!S){const P=()=>{const J=r;U(),J.call(e,new AbortError$4(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)process$3.nextTick(P);else{addAbortListener$1=addAbortListener$1||utilExports.addAbortListener;const J=addAbortListener$1(t.signal,P),re=r;r=once$1((...V)=>{J[SymbolDispose$1](),re.apply(e,V)})}}return U}function eosWeb(e,t,r){let n=!1,i=nop;if(t.signal)if(i=()=>{n=!0,r.call(e,new AbortError$4(void 0,{cause:t.signal.reason}))},t.signal.aborted)process$3.nextTick(i);else{addAbortListener$1=addAbortListener$1||utilExports.addAbortListener;const u=addAbortListener$1(t.signal,i),p=r;r=once$1((...f)=>{u[SymbolDispose$1](),p.apply(e,f)})}const s=(...u)=>{n||process$3.nextTick(()=>r.apply(e,u))};return PromisePrototypeThen$2(e[kIsClosedPromise].promise,s,s),nop}function finished$1(e,t){var r;let n=!1;return t===null&&(t=kEmptyObject),(r=t)!==null&&r!==void 0&&r.cleanup&&(validateBoolean(t.cleanup,"cleanup"),n=t.cleanup),new Promise$3((i,s)=>{const u=eos$2(e,t,p=>{n&&u(),p?s(p):i()})})}endOfStream.exports=eos$2;endOfStream.exports.finished=finished$1;var endOfStreamExports=endOfStream.exports;const process$2=browserExports$2,{aggregateTwoErrors:aggregateTwoErrors$1,codes:{ERR_MULTIPLE_CALLBACK},AbortError:AbortError$3}=errors,{Symbol:Symbol$3}=primordials,{kIsDestroyed,isDestroyed,isFinished,isServerRequest}=utils,kDestroy=Symbol$3("kDestroy"),kConstruct=Symbol$3("kConstruct");function checkError(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function destroy(e,t){const r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(checkError(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?_destroy(this,e,t):this.once(kDestroy,function(s){_destroy(this,aggregateTwoErrors$1(s,e),t)}),this)}function _destroy(e,t,r){let n=!1;function i(s){if(n)return;n=!0;const u=e._readableState,p=e._writableState;checkError(s,p,u),p&&(p.closed=!0),u&&(u.closed=!0),typeof r=="function"&&r(s),s?process$2.nextTick(emitErrorCloseNT,e,s):process$2.nextTick(emitCloseNT,e)}try{e._destroy(t||null,i)}catch(s){i(s)}}function emitErrorCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function emitErrorNT(e,t){const r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function undestroy(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function errorOrDestroy(e,t,r){const n=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?process$2.nextTick(emitErrorNT,e,t):emitErrorNT(e,t))}function construct(e,t){if(typeof e._construct!="function")return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(kConstruct,t),!(e.listenerCount(kConstruct)>1)&&process$2.nextTick(constructNT,e)}function constructNT(e){let t=!1;function r(n){if(t){errorOrDestroy(e,n??new ERR_MULTIPLE_CALLBACK);return}t=!0;const i=e._readableState,s=e._writableState,u=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),u.destroyed?e.emit(kDestroy,n):n?errorOrDestroy(e,n,!0):process$2.nextTick(emitConstructNT,e)}try{e._construct(n=>{process$2.nextTick(r,n)})}catch(n){process$2.nextTick(r,n)}}function emitConstructNT(e){e.emit(kConstruct)}function isRequest(e){return e?.setHeader&&typeof e.abort=="function"}function emitCloseLegacy(e){e.emit("close")}function emitErrorCloseLegacy(e,t){e.emit("error",t),process$2.nextTick(emitCloseLegacy,e)}function destroyer$2(e,t){!e||isDestroyed(e)||(!t&&!isFinished(e)&&(t=new AbortError$3),isServerRequest(e)?(e.socket=null,e.destroy(t)):isRequest(e)?e.abort():isRequest(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?process$2.nextTick(emitErrorCloseLegacy,e,t):process$2.nextTick(emitCloseLegacy,e),e.destroyed||(e[kIsDestroyed]=!0))}var destroy_1={construct,destroyer:destroyer$2,destroy,undestroy,errorOrDestroy};const{ArrayIsArray:ArrayIsArray$1,ObjectSetPrototypeOf:ObjectSetPrototypeOf$2}=primordials,{EventEmitter:EE}=eventsExports;function Stream(e){EE.call(this,e)}ObjectSetPrototypeOf$2(Stream.prototype,EE.prototype);ObjectSetPrototypeOf$2(Stream,EE);Stream.prototype.pipe=function(e,t){const r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",u),r.on("close",p));let s=!1;function u(){s||(s=!0,e.end())}function p(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function f(d){o(),EE.listenerCount(this,"error")===0&&this.emit("error",d)}prependListener(r,"error",f),prependListener(e,"error",f);function o(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",u),r.removeListener("close",p),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",o),r.removeListener("close",o),e.removeListener("close",o)}return r.on("end",o),r.on("close",o),e.on("close",o),e.emit("pipe",r),e};function prependListener(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):ArrayIsArray$1(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}var legacy={Stream,prependListener},addAbortSignal={exports:{}};(function(e){const{SymbolDispose:t}=primordials,{AbortError:r,codes:n}=errors,{isNodeStream:i,isWebStream:s,kControllerErrorFunction:u}=utils,p=endOfStreamExports,{ERR_INVALID_ARG_TYPE:f}=n;let o;const d=(g,w)=>{if(typeof g!="object"||!("aborted"in g))throw new f(w,"AbortSignal",g)};e.exports.addAbortSignal=function(w,x){if(d(w,"signal"),!i(x)&&!s(x))throw new f("stream",["ReadableStream","WritableStream","Stream"],x);return e.exports.addAbortSignalNoValidate(w,x)},e.exports.addAbortSignalNoValidate=function(g,w){if(typeof g!="object"||!("aborted"in g))return w;const x=i(w)?()=>{w.destroy(new r(void 0,{cause:g.reason}))}:()=>{w[u](new r(void 0,{cause:g.reason}))};if(g.aborted)x();else{o=o||utilExports.addAbortListener;const N=o(g,x);p(w,N[t])}return w}})(addAbortSignal);var addAbortSignalExports=addAbortSignal.exports;const{StringPrototypeSlice,SymbolIterator:SymbolIterator$1,TypedArrayPrototypeSet,Uint8Array:Uint8Array$1}=primordials,{Buffer:Buffer$3}=buffer,{inspect}=utilExports;var buffer_list=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){const r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return Buffer$3.alloc(0);const r=Buffer$3.allocUnsafe(t>>>0);let n=this.head,i=0;for(;n;)TypedArrayPrototypeSet(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){const n=this.head.data;if(t<n.length){const i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[SymbolIterator$1](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{const s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=StringPrototypeSlice(s,0,t),this.head=n,n.data=StringPrototypeSlice(s,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){const r=Buffer$3.allocUnsafe(t),n=t;let i=this.head,s=0;do{const u=i.data;if(t>u.length)TypedArrayPrototypeSet(r,u,n-t),t-=u.length;else{t===u.length?(TypedArrayPrototypeSet(r,u,n-t),++s,i.next?this.head=i.next:this.head=this.tail=null):(TypedArrayPrototypeSet(r,new Uint8Array$1(u.buffer,u.byteOffset,t),n-t),this.head=i,i.data=u.slice(t));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return inspect(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:MathFloor$1,NumberIsInteger}=primordials,{validateInteger:validateInteger$1}=validators,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$2}=errors.codes;let defaultHighWaterMarkBytes=16*1024,defaultHighWaterMarkObjectMode=16;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getDefaultHighWaterMark(e){return e?defaultHighWaterMarkObjectMode:defaultHighWaterMarkBytes}function setDefaultHighWaterMark(e,t){validateInteger$1(t,"value",0),e?defaultHighWaterMarkObjectMode=t:defaultHighWaterMarkBytes=t}function getHighWaterMark$1(e,t,r,n){const i=highWaterMarkFrom(t,n,r);if(i!=null){if(!NumberIsInteger(i)||i<0){const s=n?`options.${r}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$2(s,i)}return MathFloor$1(i)}return getDefaultHighWaterMark(e.objectMode)}var state={getHighWaterMark:getHighWaterMark$1,getDefaultHighWaterMark,setDefaultHighWaterMark},string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=buffer,n=r.Buffer;function i(u,p){for(var f in u)p[f]=u[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(u,p,f){return n(u,p,f)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(u,p,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,p,f)},s.alloc=function(u,p,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var o=n(u);return p!==void 0?typeof f=="string"?o.fill(p,f):o.fill(p):o.fill(0),o},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,Buffer$2=safeBufferExports.Buffer,isEncoding=Buffer$2.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!="string"&&(Buffer$2.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}string_decoder.StringDecoder=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$2.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function utf8CheckByte(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=utf8CheckByte(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=utf8CheckByte(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function utf8CheckExtraBytes(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function utf16Text(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}const process$1=browserExports$2,{PromisePrototypeThen:PromisePrototypeThen$1,SymbolAsyncIterator:SymbolAsyncIterator$1,SymbolIterator}=primordials,{Buffer:Buffer$1}=buffer,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$2,ERR_STREAM_NULL_VALUES}=errors.codes;function from(e,t,r){let n;if(typeof t=="string"||t instanceof Buffer$1)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[SymbolAsyncIterator$1])i=!0,n=t[SymbolAsyncIterator$1]();else if(t&&t[SymbolIterator])i=!1,n=t[SymbolIterator]();else throw new ERR_INVALID_ARG_TYPE$2("iterable",["Iterable"],t);const s=new e({objectMode:!0,highWaterMark:1,...r});let u=!1;s._read=function(){u||(u=!0,f())},s._destroy=function(o,d){PromisePrototypeThen$1(p(o),()=>process$1.nextTick(d,o),g=>process$1.nextTick(d,g||o))};async function p(o){const d=o!=null,g=typeof n.throw=="function";if(d&&g){const{value:w,done:x}=await n.throw(o);if(await w,x)return}if(typeof n.return=="function"){const{value:w}=await n.return();await w}}async function f(){for(;;){try{const{value:o,done:d}=i?await n.next():n.next();if(d)s.push(null);else{const g=o&&typeof o.then=="function"?await o:o;if(g===null)throw u=!1,new ERR_STREAM_NULL_VALUES;if(s.push(g))continue;u=!1}}catch(o){s.destroy(o)}break}}return s}var from_1=from,readable,hasRequiredReadable;function requireReadable(){if(hasRequiredReadable)return readable;hasRequiredReadable=1;const e=browserExports$2,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:s,ObjectKeys:u,ObjectSetPrototypeOf:p,Promise:f,SafeSet:o,SymbolAsyncDispose:d,SymbolAsyncIterator:g,Symbol:w}=primordials;readable=O,O.ReadableState=ae;const{EventEmitter:x}=eventsExports,{Stream:N,prependListener:m}=legacy,{Buffer:S}=buffer,{addAbortSignal:k}=addAbortSignalExports,L=endOfStreamExports;let b=utilExports.debuglog("stream",a=>{b=a});const U=buffer_list,P=destroy_1,{getHighWaterMark:J,getDefaultHighWaterMark:re}=state,{aggregateTwoErrors:V,codes:{ERR_INVALID_ARG_TYPE:H,ERR_METHOD_NOT_IMPLEMENTED:ee,ERR_OUT_OF_RANGE:te,ERR_STREAM_PUSH_AFTER_EOF:M,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_},AbortError:C}=errors,{validateObject:B}=validators,F=w("kPaused"),{StringDecoder:Y}=string_decoder,K=from_1;p(O.prototype,N.prototype),p(O,N);const z=()=>{},{errorOrDestroy:Q}=P,W=1,oe=2,D=4,X=8,ie=16,ce=32,de=64,pe=128,he=256,_e=512,me=1024,be=2048,c=4096,h=8192,y=16384,v=32768,I=65536,q=1<<17,G=1<<18;function j(a){return{enumerable:!1,get(){return(this.state&a)!==0},set(l){l?this.state|=a:this.state&=~a}}}s(ae.prototype,{objectMode:j(W),ended:j(oe),endEmitted:j(D),reading:j(X),constructed:j(ie),sync:j(ce),needReadable:j(de),emittedReadable:j(pe),readableListening:j(he),resumeScheduled:j(_e),errorEmitted:j(me),emitClose:j(be),autoDestroy:j(c),destroyed:j(h),closed:j(y),closeEmitted:j(v),multiAwaitDrain:j(I),readingMore:j(q),dataEmitted:j(G)});function ae(a,l,A){typeof A!="boolean"&&(A=l instanceof requireDuplex()),this.state=be|c|ie|ce,a&&a.objectMode&&(this.state|=W),A&&a&&a.readableObjectMode&&(this.state|=W),this.highWaterMark=a?J(this,a,"readableHighWaterMark",A):re(!1),this.buffer=new U,this.length=0,this.pipes=[],this.flowing=null,this[F]=null,a&&a.emitClose===!1&&(this.state&=-2049),a&&a.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=a&&a.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,a&&a.encoding&&(this.decoder=new Y(a.encoding),this.encoding=a.encoding)}function O(a){if(!(this instanceof O))return new O(a);const l=this instanceof requireDuplex();this._readableState=new ae(a,this,l),a&&(typeof a.read=="function"&&(this._read=a.read),typeof a.destroy=="function"&&(this._destroy=a.destroy),typeof a.construct=="function"&&(this._construct=a.construct),a.signal&&!l&&k(a.signal,this)),N.call(this,a),P.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}O.prototype.destroy=P.destroy,O.prototype._undestroy=P.undestroy,O.prototype._destroy=function(a,l){l(a)},O.prototype[x.captureRejectionSymbol]=function(a){this.destroy(a)},O.prototype[d]=function(){let a;return this.destroyed||(a=this.readableEnded?null:new C,this.destroy(a)),new f((l,A)=>L(this,T=>T&&T!==a?A(T):l(null)))},O.prototype.push=function(a,l){return le(this,a,l,!1)},O.prototype.unshift=function(a,l){return le(this,a,l,!0)};function le(a,l,A,T){b("readableAddChunk",l);const $=a._readableState;let Z;if($.state&W||(typeof l=="string"?(A=A||$.defaultEncoding,$.encoding!==A&&(T&&$.encoding?l=S.from(l,A).toString($.encoding):(l=S.from(l,A),A=""))):l instanceof S?A="":N._isUint8Array(l)?(l=N._uint8ArrayToBuffer(l),A=""):l!=null&&(Z=new H("chunk",["string","Buffer","Uint8Array"],l))),Z)Q(a,Z);else if(l===null)$.state&=-9,We(a,$);else if($.state&W||l&&l.length>0)if(T)if($.state&D)Q(a,new _);else{if($.destroyed||$.errored)return!1;we(a,$,l,!0)}else if($.ended)Q(a,new M);else{if($.destroyed||$.errored)return!1;$.state&=-9,$.decoder&&!A?(l=$.decoder.write(l),$.objectMode||l.length!==0?we(a,$,l,!1):ye(a,$)):we(a,$,l,!1)}else T||($.state&=-9,ye(a,$));return!$.ended&&($.length<$.highWaterMark||$.length===0)}function we(a,l,A,T){l.flowing&&l.length===0&&!l.sync&&a.listenerCount("data")>0?(l.state&I?l.awaitDrainWriters.clear():l.awaitDrainWriters=null,l.dataEmitted=!0,a.emit("data",A)):(l.length+=l.objectMode?1:A.length,T?l.buffer.unshift(A):l.buffer.push(A),l.state&de&&xe(a)),ye(a,l)}O.prototype.isPaused=function(){const a=this._readableState;return a[F]===!0||a.flowing===!1},O.prototype.setEncoding=function(a){const l=new Y(a);this._readableState.decoder=l,this._readableState.encoding=this._readableState.decoder.encoding;const A=this._readableState.buffer;let T="";for(const $ of A)T+=l.write($);return A.clear(),T!==""&&A.push(T),this._readableState.length=T.length,this};const Me=1073741824;function Ce(a){if(a>Me)throw new te("size","<= 1GiB",a);return a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++,a}function $e(a,l){return a<=0||l.length===0&&l.ended?0:l.state&W?1:n(a)?l.flowing&&l.length?l.buffer.first().length:l.length:a<=l.length?a:l.ended?l.length:0}O.prototype.read=function(a){b("read",a),a===void 0?a=NaN:r(a)||(a=i(a,10));const l=this._readableState,A=a;if(a>l.highWaterMark&&(l.highWaterMark=Ce(a)),a!==0&&(l.state&=-129),a===0&&l.needReadable&&((l.highWaterMark!==0?l.length>=l.highWaterMark:l.length>0)||l.ended))return b("read: emitReadable",l.length,l.ended),l.length===0&&l.ended?Ee(this):xe(this),null;if(a=$e(a,l),a===0&&l.ended)return l.length===0&&Ee(this),null;let T=(l.state&de)!==0;if(b("need readable",T),(l.length===0||l.length-a<l.highWaterMark)&&(T=!0,b("length less than watermark",T)),l.ended||l.reading||l.destroyed||l.errored||!l.constructed)T=!1,b("reading, ended or constructing",T);else if(T){b("do read"),l.state|=X|ce,l.length===0&&(l.state|=de);try{this._read(l.highWaterMark)}catch(Z){Q(this,Z)}l.state&=-33,l.reading||(a=$e(A,l))}let $;return a>0?$=Le(a,l):$=null,$===null?(l.needReadable=l.length<=l.highWaterMark,a=0):(l.length-=a,l.multiAwaitDrain?l.awaitDrainWriters.clear():l.awaitDrainWriters=null),l.length===0&&(l.ended||(l.needReadable=!0),A!==a&&l.ended&&Ee(this)),$!==null&&!l.errorEmitted&&!l.closeEmitted&&(l.dataEmitted=!0,this.emit("data",$)),$};function We(a,l){if(b("onEofChunk"),!l.ended){if(l.decoder){const A=l.decoder.end();A&&A.length&&(l.buffer.push(A),l.length+=l.objectMode?1:A.length)}l.ended=!0,l.sync?xe(a):(l.needReadable=!1,l.emittedReadable=!0,ve(a))}}function xe(a){const l=a._readableState;b("emitReadable",l.needReadable,l.emittedReadable),l.needReadable=!1,l.emittedReadable||(b("emitReadable",l.flowing),l.emittedReadable=!0,e.nextTick(ve,a))}function ve(a){const l=a._readableState;b("emitReadable_",l.destroyed,l.length,l.ended),!l.destroyed&&!l.errored&&(l.length||l.ended)&&(a.emit("readable"),l.emittedReadable=!1),l.needReadable=!l.flowing&&!l.ended&&l.length<=l.highWaterMark,Ne(a)}function ye(a,l){!l.readingMore&&l.constructed&&(l.readingMore=!0,e.nextTick(je,a,l))}function je(a,l){for(;!l.reading&&!l.ended&&(l.length<l.highWaterMark||l.flowing&&l.length===0);){const A=l.length;if(b("maybeReadMore read 0"),a.read(0),A===l.length)break}l.readingMore=!1}O.prototype._read=function(a){throw new ee("_read()")},O.prototype.pipe=function(a,l){const A=this,T=this._readableState;T.pipes.length===1&&(T.multiAwaitDrain||(T.multiAwaitDrain=!0,T.awaitDrainWriters=new o(T.awaitDrainWriters?[T.awaitDrainWriters]:[]))),T.pipes.push(a),b("pipe count=%d opts=%j",T.pipes.length,l);const Z=(!l||l.end!==!1)&&a!==e.stdout&&a!==e.stderr?Oe:ge;T.endEmitted?e.nextTick(Z):A.once("end",Z),a.on("unpipe",ne);function ne(ue,se){b("onunpipe"),ue===A&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,Ke())}function Oe(){b("onend"),a.end()}let fe,Pe=!1;function Ke(){b("cleanup"),a.removeListener("close",Ae),a.removeListener("finish",Te),fe&&a.removeListener("drain",fe),a.removeListener("error",Re),a.removeListener("unpipe",ne),A.removeListener("end",Oe),A.removeListener("end",ge),A.removeListener("data",Fe),Pe=!0,fe&&T.awaitDrainWriters&&(!a._writableState||a._writableState.needDrain)&&fe()}function Be(){Pe||(T.pipes.length===1&&T.pipes[0]===a?(b("false write response, pause",0),T.awaitDrainWriters=a,T.multiAwaitDrain=!1):T.pipes.length>1&&T.pipes.includes(a)&&(b("false write response, pause",T.awaitDrainWriters.size),T.awaitDrainWriters.add(a)),A.pause()),fe||(fe=Ue(A,a),a.on("drain",fe))}A.on("data",Fe);function Fe(ue){b("ondata");const se=a.write(ue);b("dest.write",se),se===!1&&Be()}function Re(ue){if(b("onerror",ue),ge(),a.removeListener("error",Re),a.listenerCount("error")===0){const se=a._writableState||a._readableState;se&&!se.errorEmitted?Q(a,ue):a.emit("error",ue)}}m(a,"error",Re);function Ae(){a.removeListener("finish",Te),ge()}a.once("close",Ae);function Te(){b("onfinish"),a.removeListener("close",Ae),ge()}a.once("finish",Te);function ge(){b("unpipe"),A.unpipe(a)}return a.emit("pipe",A),a.writableNeedDrain===!0?Be():T.flowing||(b("pipe resume"),A.resume()),a};function Ue(a,l){return function(){const T=a._readableState;T.awaitDrainWriters===l?(b("pipeOnDrain",1),T.awaitDrainWriters=null):T.multiAwaitDrain&&(b("pipeOnDrain",T.awaitDrainWriters.size),T.awaitDrainWriters.delete(l)),(!T.awaitDrainWriters||T.awaitDrainWriters.size===0)&&a.listenerCount("data")&&a.resume()}}O.prototype.unpipe=function(a){const l=this._readableState,A={hasUnpiped:!1};if(l.pipes.length===0)return this;if(!a){const $=l.pipes;l.pipes=[],this.pause();for(let Z=0;Z<$.length;Z++)$[Z].emit("unpipe",this,{hasUnpiped:!1});return this}const T=t(l.pipes,a);return T===-1?this:(l.pipes.splice(T,1),l.pipes.length===0&&this.pause(),a.emit("unpipe",this,A),this)},O.prototype.on=function(a,l){const A=N.prototype.on.call(this,a,l),T=this._readableState;return a==="data"?(T.readableListening=this.listenerCount("readable")>0,T.flowing!==!1&&this.resume()):a==="readable"&&!T.endEmitted&&!T.readableListening&&(T.readableListening=T.needReadable=!0,T.flowing=!1,T.emittedReadable=!1,b("on readable",T.length,T.reading),T.length?xe(this):T.reading||e.nextTick(qe,this)),A},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(a,l){const A=N.prototype.removeListener.call(this,a,l);return a==="readable"&&e.nextTick(Ie,this),A},O.prototype.off=O.prototype.removeListener,O.prototype.removeAllListeners=function(a){const l=N.prototype.removeAllListeners.apply(this,arguments);return(a==="readable"||a===void 0)&&e.nextTick(Ie,this),l};function Ie(a){const l=a._readableState;l.readableListening=a.listenerCount("readable")>0,l.resumeScheduled&&l[F]===!1?l.flowing=!0:a.listenerCount("data")>0?a.resume():l.readableListening||(l.flowing=null)}function qe(a){b("readable nexttick read 0"),a.read(0)}O.prototype.resume=function(){const a=this._readableState;return a.flowing||(b("resume"),a.flowing=!a.readableListening,Ve(this,a)),a[F]=!1,this};function Ve(a,l){l.resumeScheduled||(l.resumeScheduled=!0,e.nextTick(Ge,a,l))}function Ge(a,l){b("resume",l.reading),l.reading||a.read(0),l.resumeScheduled=!1,a.emit("resume"),Ne(a),l.flowing&&!l.reading&&a.read(0)}O.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[F]=!0,this};function Ne(a){const l=a._readableState;for(b("flow",l.flowing);l.flowing&&a.read()!==null;);}O.prototype.wrap=function(a){let l=!1;a.on("data",T=>{!this.push(T)&&a.pause&&(l=!0,a.pause())}),a.on("end",()=>{this.push(null)}),a.on("error",T=>{Q(this,T)}),a.on("close",()=>{this.destroy()}),a.on("destroy",()=>{this.destroy()}),this._read=()=>{l&&a.resume&&(l=!1,a.resume())};const A=u(a);for(let T=1;T<A.length;T++){const $=A[T];this[$]===void 0&&typeof a[$]=="function"&&(this[$]=a[$].bind(a))}return this},O.prototype[g]=function(){return ke(this)},O.prototype.iterator=function(a){return a!==void 0&&B(a,"options"),ke(this,a)};function ke(a,l){typeof a.read!="function"&&(a=O.wrap(a,{objectMode:!0}));const A=ze(a,l);return A.stream=a,A}async function*ze(a,l){let A=z;function T(ne){this===a?(A(),A=z):A=ne}a.on("readable",T);let $;const Z=L(a,{writable:!1},ne=>{$=ne?V($,ne):null,A(),A=z});try{for(;;){const ne=a.destroyed?null:a.read();if(ne!==null)yield ne;else{if($)throw $;if($===null)return;await new f(T)}}}catch(ne){throw $=V($,ne),$}finally{($||l?.destroyOnReturn!==!1)&&($===void 0||a._readableState.autoDestroy)?P.destroyer(a,null):(a.off("readable",T),Z())}}s(O.prototype,{readable:{__proto__:null,get(){const a=this._readableState;return!!a&&a.readable!==!1&&!a.destroyed&&!a.errorEmitted&&!a.endEmitted},set(a){this._readableState&&(this._readableState.readable=!!a)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(a){this._readableState&&(this._readableState.destroyed=a)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ae.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[F]!==!1},set(a){this[F]=!!a}}}),O._fromList=Le;function Le(a,l){if(l.length===0)return null;let A;return l.objectMode?A=l.buffer.shift():!a||a>=l.length?(l.decoder?A=l.buffer.join(""):l.buffer.length===1?A=l.buffer.first():A=l.buffer.concat(l.length),l.buffer.clear()):A=l.buffer.consume(a,l.decoder),A}function Ee(a){const l=a._readableState;b("endReadable",l.endEmitted),l.endEmitted||(l.ended=!0,e.nextTick(He,l,a))}function He(a,l){if(b("endReadableNT",a.endEmitted,a.length),!a.errored&&!a.closeEmitted&&!a.endEmitted&&a.length===0){if(a.endEmitted=!0,l.emit("end"),l.writable&&l.allowHalfOpen===!1)e.nextTick(Ye,l);else if(a.autoDestroy){const A=l._writableState;(!A||A.autoDestroy&&(A.finished||A.writable===!1))&&l.destroy()}}}function Ye(a){a.writable&&!a.writableEnded&&!a.destroyed&&a.end()}O.from=function(a,l){return K(O,a,l)};let Se;function De(){return Se===void 0&&(Se={}),Se}return O.fromWeb=function(a,l){return De().newStreamReadableFromReadableStream(a,l)},O.toWeb=function(a,l){return De().newReadableStreamFromStreamReadable(a,l)},O.wrap=function(a,l){var A,T;return new O({objectMode:(A=(T=a.readableObjectMode)!==null&&T!==void 0?T:a.objectMode)!==null&&A!==void 0?A:!0,...l,destroy($,Z){P.destroyer(a,$),Z($)}}).wrap(a)},readable}var writable,hasRequiredWritable;function requireWritable(){if(hasRequiredWritable)return writable;hasRequiredWritable=1;const e=browserExports$2,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:s,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:p,Symbol:f,SymbolHasInstance:o}=primordials;writable=B,B.WritableState=_;const{EventEmitter:d}=eventsExports,g=legacy.Stream,{Buffer:w}=buffer,x=destroy_1,{addAbortSignal:N}=addAbortSignalExports,{getHighWaterMark:m,getDefaultHighWaterMark:S}=state,{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:U,ERR_STREAM_DESTROYED:P,ERR_STREAM_ALREADY_FINISHED:J,ERR_STREAM_NULL_VALUES:re,ERR_STREAM_WRITE_AFTER_END:V,ERR_UNKNOWN_ENCODING:H}=errors.codes,{errorOrDestroy:ee}=x;u(B.prototype,g.prototype),u(B,g);function te(){}const M=f("kOnFinished");function _(c,h,y){typeof y!="boolean"&&(y=h instanceof requireDuplex()),this.objectMode=!!(c&&c.objectMode),y&&(this.objectMode=this.objectMode||!!(c&&c.writableObjectMode)),this.highWaterMark=c?m(this,c,"writableHighWaterMark",y):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const v=!!(c&&c.decodeStrings===!1);this.decodeStrings=!v,this.defaultEncoding=c&&c.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Q.bind(void 0,h),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,C(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!c||c.emitClose!==!1,this.autoDestroy=!c||c.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[M]=[]}function C(c){c.buffered=[],c.bufferedIndex=0,c.allBuffers=!0,c.allNoop=!0}_.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(_.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function B(c){const h=this instanceof requireDuplex();if(!h&&!n(B,this))return new B(c);this._writableState=new _(c,this,h),c&&(typeof c.write=="function"&&(this._write=c.write),typeof c.writev=="function"&&(this._writev=c.writev),typeof c.destroy=="function"&&(this._destroy=c.destroy),typeof c.final=="function"&&(this._final=c.final),typeof c.construct=="function"&&(this._construct=c.construct),c.signal&&N(c.signal,this)),g.call(this,c),x.construct(this,()=>{const y=this._writableState;y.writing||X(this,y),pe(this,y)})}i(B,o,{__proto__:null,value:function(c){return n(this,c)?!0:this!==B?!1:c&&c._writableState instanceof _}}),B.prototype.pipe=function(){ee(this,new U)};function F(c,h,y,v){const I=c._writableState;if(typeof y=="function")v=y,y=I.defaultEncoding;else{if(!y)y=I.defaultEncoding;else if(y!=="buffer"&&!w.isEncoding(y))throw new H(y);typeof v!="function"&&(v=te)}if(h===null)throw new re;if(!I.objectMode)if(typeof h=="string")I.decodeStrings!==!1&&(h=w.from(h,y),y="buffer");else if(h instanceof w)y="buffer";else if(g._isUint8Array(h))h=g._uint8ArrayToBuffer(h),y="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],h);let q;return I.ending?q=new V:I.destroyed&&(q=new P("write")),q?(e.nextTick(v,q),ee(c,q,!0),q):(I.pendingcb++,Y(c,I,h,y,v))}B.prototype.write=function(c,h,y){return F(this,c,h,y)===!0},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){const c=this._writableState;c.corked&&(c.corked--,c.writing||X(this,c))},B.prototype.setDefaultEncoding=function(h){if(typeof h=="string"&&(h=p(h)),!w.isEncoding(h))throw new H(h);return this._writableState.defaultEncoding=h,this};function Y(c,h,y,v,I){const q=h.objectMode?1:y.length;h.length+=q;const G=h.length<h.highWaterMark;return G||(h.needDrain=!0),h.writing||h.corked||h.errored||!h.constructed?(h.buffered.push({chunk:y,encoding:v,callback:I}),h.allBuffers&&v!=="buffer"&&(h.allBuffers=!1),h.allNoop&&I!==te&&(h.allNoop=!1)):(h.writelen=q,h.writecb=I,h.writing=!0,h.sync=!0,c._write(y,v,h.onwrite),h.sync=!1),G&&!h.errored&&!h.destroyed}function K(c,h,y,v,I,q,G){h.writelen=v,h.writecb=G,h.writing=!0,h.sync=!0,h.destroyed?h.onwrite(new P("write")):y?c._writev(I,h.onwrite):c._write(I,q,h.onwrite),h.sync=!1}function z(c,h,y,v){--h.pendingcb,v(y),D(h),ee(c,y)}function Q(c,h){const y=c._writableState,v=y.sync,I=y.writecb;if(typeof I!="function"){ee(c,new b);return}y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0,h?(h.stack,y.errored||(y.errored=h),c._readableState&&!c._readableState.errored&&(c._readableState.errored=h),v?e.nextTick(z,c,y,h,I):z(c,y,h,I)):(y.buffered.length>y.bufferedIndex&&X(c,y),v?y.afterWriteTickInfo!==null&&y.afterWriteTickInfo.cb===I?y.afterWriteTickInfo.count++:(y.afterWriteTickInfo={count:1,cb:I,stream:c,state:y},e.nextTick(W,y.afterWriteTickInfo)):oe(c,y,1,I))}function W({stream:c,state:h,count:y,cb:v}){return h.afterWriteTickInfo=null,oe(c,h,y,v)}function oe(c,h,y,v){for(!h.ending&&!c.destroyed&&h.length===0&&h.needDrain&&(h.needDrain=!1,c.emit("drain"));y-- >0;)h.pendingcb--,v();h.destroyed&&D(h),pe(c,h)}function D(c){if(c.writing)return;for(let I=c.bufferedIndex;I<c.buffered.length;++I){var h;const{chunk:q,callback:G}=c.buffered[I],j=c.objectMode?1:q.length;c.length-=j,G((h=c.errored)!==null&&h!==void 0?h:new P("write"))}const y=c[M].splice(0);for(let I=0;I<y.length;I++){var v;y[I]((v=c.errored)!==null&&v!==void 0?v:new P("end"))}C(c)}function X(c,h){if(h.corked||h.bufferProcessing||h.destroyed||!h.constructed)return;const{buffered:y,bufferedIndex:v,objectMode:I}=h,q=y.length-v;if(!q)return;let G=v;if(h.bufferProcessing=!0,q>1&&c._writev){h.pendingcb-=q-1;const j=h.allNoop?te:O=>{for(let le=G;le<y.length;++le)y[le].callback(O)},ae=h.allNoop&&G===0?y:t(y,G);ae.allBuffers=h.allBuffers,K(c,h,!0,h.length,ae,"",j),C(h)}else{do{const{chunk:j,encoding:ae,callback:O}=y[G];y[G++]=null;const le=I?1:j.length;K(c,h,!1,le,j,ae,O)}while(G<y.length&&!h.writing);G===y.length?C(h):G>256?(y.splice(0,G),h.bufferedIndex=0):h.bufferedIndex=G}h.bufferProcessing=!1}B.prototype._write=function(c,h,y){if(this._writev)this._writev([{chunk:c,encoding:h}],y);else throw new L("_write()")},B.prototype._writev=null,B.prototype.end=function(c,h,y){const v=this._writableState;typeof c=="function"?(y=c,c=null,h=null):typeof h=="function"&&(y=h,h=null);let I;if(c!=null){const q=F(this,c,h);q instanceof r&&(I=q)}return v.corked&&(v.corked=1,this.uncork()),I||(!v.errored&&!v.ending?(v.ending=!0,pe(this,v,!0),v.ended=!0):v.finished?I=new J("end"):v.destroyed&&(I=new P("end"))),typeof y=="function"&&(I||v.finished?e.nextTick(y,I):v[M].push(y)),this};function ie(c){return c.ending&&!c.destroyed&&c.constructed&&c.length===0&&!c.errored&&c.buffered.length===0&&!c.finished&&!c.writing&&!c.errorEmitted&&!c.closeEmitted}function ce(c,h){let y=!1;function v(I){if(y){ee(c,I??b());return}if(y=!0,h.pendingcb--,I){const q=h[M].splice(0);for(let G=0;G<q.length;G++)q[G](I);ee(c,I,h.sync)}else ie(h)&&(h.prefinished=!0,c.emit("prefinish"),h.pendingcb++,e.nextTick(he,c,h))}h.sync=!0,h.pendingcb++;try{c._final(v)}catch(I){v(I)}h.sync=!1}function de(c,h){!h.prefinished&&!h.finalCalled&&(typeof c._final=="function"&&!h.destroyed?(h.finalCalled=!0,ce(c,h)):(h.prefinished=!0,c.emit("prefinish")))}function pe(c,h,y){ie(h)&&(de(c,h),h.pendingcb===0&&(y?(h.pendingcb++,e.nextTick((v,I)=>{ie(I)?he(v,I):I.pendingcb--},c,h)):ie(h)&&(h.pendingcb++,he(c,h))))}function he(c,h){h.pendingcb--,h.finished=!0;const y=h[M].splice(0);for(let v=0;v<y.length;v++)y[v]();if(c.emit("finish"),h.autoDestroy){const v=c._readableState;(!v||v.autoDestroy&&(v.endEmitted||v.readable===!1))&&c.destroy()}}s(B.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(c){this._writableState&&(this._writableState.destroyed=c)}},writable:{__proto__:null,get(){const c=this._writableState;return!!c&&c.writable!==!1&&!c.destroyed&&!c.errored&&!c.ending&&!c.ended},set(c){this._writableState&&(this._writableState.writable=!!c)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const c=this._writableState;return c?!c.destroyed&&!c.ending&&c.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const _e=x.destroy;B.prototype.destroy=function(c,h){const y=this._writableState;return!y.destroyed&&(y.bufferedIndex<y.buffered.length||y[M].length)&&e.nextTick(D,y),_e.call(this,c,h),this},B.prototype._undestroy=x.undestroy,B.prototype._destroy=function(c,h){h(c)},B.prototype[d.captureRejectionSymbol]=function(c){this.destroy(c)};let me;function be(){return me===void 0&&(me={}),me}return B.fromWeb=function(c,h){return be().newStreamWritableFromWritableStream(c,h)},B.toWeb=function(c){return be().newWritableStreamFromStreamWritable(c)},writable}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;const e=browserExports$2,t=buffer,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:u,isWritableNodeStream:p,isDuplexNodeStream:f,isReadableStream:o,isWritableStream:d}=utils,g=endOfStreamExports,{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:N}}=errors,{destroyer:m}=destroy_1,S=requireDuplex(),k=requireReadable(),L=requireWritable(),{createDeferredPromise:b}=utilExports,U=from_1,P=globalThis.Blob||t.Blob,J=typeof P<"u"?function(_){return _ instanceof P}:function(_){return!1},re=globalThis.AbortController||requireBrowser().AbortController,{FunctionPrototypeCall:V}=primordials;class H extends S{constructor(_){super(_),_?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify=function M(_,C){if(f(_))return _;if(u(_))return te({readable:_});if(p(_))return te({writable:_});if(s(_))return te({writable:!1,readable:!1});if(o(_))return te({readable:k.fromWeb(_)});if(d(_))return te({writable:L.fromWeb(_)});if(typeof _=="function"){const{value:F,write:Y,final:K,destroy:z}=ee(_);if(i(F))return U(H,F,{objectMode:!0,write:Y,final:K,destroy:z});const Q=F?.then;if(typeof Q=="function"){let W;const oe=V(Q,F,D=>{if(D!=null)throw new N("nully","body",D)},D=>{m(W,D)});return W=new H({objectMode:!0,readable:!1,write:Y,final(D){K(async()=>{try{await oe,e.nextTick(D,null)}catch(X){e.nextTick(D,X)}})},destroy:z})}throw new N("Iterable, AsyncIterable or AsyncFunction",C,F)}if(J(_))return M(_.arrayBuffer());if(i(_))return U(H,_,{objectMode:!0,writable:!1});if(o(_?.readable)&&d(_?.writable))return H.fromWeb(_);if(typeof _?.writable=="object"||typeof _?.readable=="object"){const F=_!=null&&_.readable?u(_?.readable)?_?.readable:M(_.readable):void 0,Y=_!=null&&_.writable?p(_?.writable)?_?.writable:M(_.writable):void 0;return te({readable:F,writable:Y})}const B=_?.then;if(typeof B=="function"){let F;return V(B,_,Y=>{Y!=null&&F.push(Y),F.push(null)},Y=>{m(F,Y)}),F=new H({objectMode:!0,writable:!1,read(){}})}throw new x(C,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],_)};function ee(M){let{promise:_,resolve:C}=b();const B=new re,F=B.signal;return{value:M(async function*(){for(;;){const K=_;_=null;const{chunk:z,done:Q,cb:W}=await K;if(e.nextTick(W),Q)return;if(F.aborted)throw new w(void 0,{cause:F.reason});({promise:_,resolve:C}=b()),yield z}}(),{signal:F}),write(K,z,Q){const W=C;C=null,W({chunk:K,done:!1,cb:Q})},final(K){const z=C;C=null,z({done:!0,cb:K})},destroy(K,z){B.abort(),z(K)}}}function te(M){const _=M.readable&&typeof M.readable.read!="function"?k.wrap(M.readable):M.readable,C=M.writable;let B=!!r(_),F=!!n(C),Y,K,z,Q,W;function oe(D){const X=Q;Q=null,X?X(D):D&&W.destroy(D)}return W=new H({readableObjectMode:!!(_!=null&&_.readableObjectMode),writableObjectMode:!!(C!=null&&C.writableObjectMode),readable:B,writable:F}),F&&(g(C,D=>{F=!1,D&&m(_,D),oe(D)}),W._write=function(D,X,ie){C.write(D,X)?ie():Y=ie},W._final=function(D){C.end(),K=D},C.on("drain",function(){if(Y){const D=Y;Y=null,D()}}),C.on("finish",function(){if(K){const D=K;K=null,D()}})),B&&(g(_,D=>{B=!1,D&&m(_,D),oe(D)}),_.on("readable",function(){if(z){const D=z;z=null,D()}}),_.on("end",function(){W.push(null)}),W._read=function(){for(;;){const D=_.read();if(D===null){z=W._read;return}if(!W.push(D))return}}),W._destroy=function(D,X){!D&&Q!==null&&(D=new w),z=null,Y=null,K=null,Q===null?X(D):(Q=X,m(C,D),m(_,D))},W}return duplexify}var duplex,hasRequiredDuplex;function requireDuplex(){if(hasRequiredDuplex)return duplex;hasRequiredDuplex=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=primordials;duplex=u;const i=requireReadable(),s=requireWritable();n(u.prototype,i.prototype),n(u,i);{const d=r(s.prototype);for(let g=0;g<d.length;g++){const w=d[g];u.prototype[w]||(u.prototype[w]=s.prototype[w])}}function u(d){if(!(this instanceof u))return new u(d);i.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(u.prototype,{writable:{__proto__:null,...t(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(s.prototype,"writableLength")},writableFinished:{__proto__:null,...t(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let p;function f(){return p===void 0&&(p={}),p}u.fromWeb=function(d,g){return f().newStreamDuplexFromReadableWritablePair(d,g)},u.toWeb=function(d){return f().newReadableWritablePairFromDuplex(d)};let o;return u.from=function(d){return o||(o=requireDuplexify()),o(d,"body")},duplex}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$1,Symbol:Symbol$2}=primordials;var transform=Transform$1;const{ERR_METHOD_NOT_IMPLEMENTED}=errors.codes,Duplex$2=requireDuplex(),{getHighWaterMark}=state;ObjectSetPrototypeOf$1(Transform$1.prototype,Duplex$2.prototype);ObjectSetPrototypeOf$1(Transform$1,Duplex$2);const kCallback=Symbol$2("kCallback");function Transform$1(e){if(!(this instanceof Transform$1))return new Transform$1(e);const t=e?getHighWaterMark(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),Duplex$2.call(this,e),this._readableState.sync=!1,this[kCallback]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function final(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function prefinish(){this._final!==final&&final.call(this)}Transform$1.prototype._final=final;Transform$1.prototype._transform=function(e,t,r){throw new ERR_METHOD_NOT_IMPLEMENTED("_transform()")};Transform$1.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,(u,p)=>{if(u){r(u);return}p!=null&&this.push(p),i.ended||s===n.length||n.length<n.highWaterMark?r():this[kCallback]=r})};Transform$1.prototype._read=function(){if(this[kCallback]){const e=this[kCallback];this[kCallback]=null,e()}};const{ObjectSetPrototypeOf}=primordials;var passthrough=PassThrough$1;const Transform=transform;ObjectSetPrototypeOf(PassThrough$1.prototype,Transform.prototype);ObjectSetPrototypeOf(PassThrough$1,Transform);function PassThrough$1(e){if(!(this instanceof PassThrough$1))return new PassThrough$1(e);Transform.call(this,e)}PassThrough$1.prototype._transform=function(e,t,r){r(null,e)};const process=browserExports$2,{ArrayIsArray,Promise:Promise$2,SymbolAsyncIterator,SymbolDispose}=primordials,eos$1=endOfStreamExports,{once}=utilExports,destroyImpl=destroy_1,Duplex$1=requireDuplex(),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$1,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS:ERR_MISSING_ARGS$2,ERR_STREAM_DESTROYED,ERR_STREAM_PREMATURE_CLOSE},AbortError:AbortError$2}=errors,{validateFunction,validateAbortSignal:validateAbortSignal$1}=validators,{isIterable,isReadable:isReadable$1,isReadableNodeStream,isNodeStream:isNodeStream$2,isTransformStream:isTransformStream$1,isWebStream:isWebStream$1,isReadableStream:isReadableStream$1,isReadableFinished}=utils,AbortController$1=globalThis.AbortController||requireBrowser().AbortController;let PassThrough,Readable,addAbortListener;function destroyer$1(e,t,r){let n=!1;e.on("close",()=>{n=!0});const i=eos$1(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,destroyImpl.destroyer(e,s||new ERR_STREAM_DESTROYED("pipe")))},cleanup:i}}function popCallback(e){return validateFunction(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function makeAsyncIterable(e){if(isIterable(e))return e;if(isReadableNodeStream(e))return fromReadable(e);throw new ERR_INVALID_ARG_TYPE$1("val",["Readable","Iterable","AsyncIterable"],e)}async function*fromReadable(e){Readable||(Readable=requireReadable()),yield*Readable.prototype[SymbolAsyncIterator].call(e)}async function pumpToNode(e,t,r,{end:n}){let i,s=null;const u=o=>{if(o&&(i=o),s){const d=s;s=null,d()}},p=()=>new Promise$2((o,d)=>{i?d(i):s=()=>{i?d(i):o()}});t.on("drain",u);const f=eos$1(t,{readable:!1},u);try{t.writableNeedDrain&&await p();for await(const o of e)t.write(o)||await p();n&&(t.end(),await p()),r()}catch(o){r(i!==o?aggregateTwoErrors(i,o):o)}finally{f(),t.off("drain",u)}}async function pumpToWeb(e,t,r,{end:n}){isTransformStream$1(t)&&(t=t.writable);const i=t.getWriter();try{for await(const s of e)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(u){r(u)}}}function pipeline$1(...e){return pipelineImpl(e,once(popCallback(e)))}function pipelineImpl(e,t,r){if(e.length===1&&ArrayIsArray(e[0])&&(e=e[0]),e.length<2)throw new ERR_MISSING_ARGS$2("streams");const n=new AbortController$1,i=n.signal,s=r?.signal,u=[];validateAbortSignal$1(s,"options.signal");function p(){N(new AbortError$2)}addAbortListener=addAbortListener||utilExports.addAbortListener;let f;s&&(f=addAbortListener(s,p));let o,d;const g=[];let w=0;function x(L){N(L,--w===0)}function N(L,b){var U;if(L&&(!o||o.code==="ERR_STREAM_PREMATURE_CLOSE")&&(o=L),!(!o&&!b)){for(;g.length;)g.shift()(o);(U=f)===null||U===void 0||U[SymbolDispose](),n.abort(),b&&(o||u.forEach(P=>P()),process.nextTick(t,o,d))}}let m;for(let L=0;L<e.length;L++){const b=e[L],U=L<e.length-1,P=L>0,J=U||r?.end!==!1,re=L===e.length-1;if(isNodeStream$2(b)){let V=function(H){H&&H.name!=="AbortError"&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"&&x(H)};if(J){const{destroy:H,cleanup:ee}=destroyer$1(b,U,P);g.push(H),isReadable$1(b)&&re&&u.push(ee)}b.on("error",V),isReadable$1(b)&&re&&u.push(()=>{b.removeListener("error",V)})}if(L===0)if(typeof b=="function"){if(m=b({signal:i}),!isIterable(m))throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or Stream","source",m)}else isIterable(b)||isReadableNodeStream(b)||isTransformStream$1(b)?m=b:m=Duplex$1.from(b);else if(typeof b=="function"){if(isTransformStream$1(m)){var S;m=makeAsyncIterable((S=m)===null||S===void 0?void 0:S.readable)}else m=makeAsyncIterable(m);if(m=b(m,{signal:i}),U){if(!isIterable(m,!0))throw new ERR_INVALID_RETURN_VALUE("AsyncIterable",`transform[${L-1}]`,m)}else{var k;PassThrough||(PassThrough=passthrough);const V=new PassThrough({objectMode:!0}),H=(k=m)===null||k===void 0?void 0:k.then;if(typeof H=="function")w++,H.call(m,M=>{d=M,M!=null&&V.write(M),J&&V.end(),process.nextTick(x)},M=>{V.destroy(M),process.nextTick(x,M)});else if(isIterable(m,!0))w++,pumpToNode(m,V,x,{end:J});else if(isReadableStream$1(m)||isTransformStream$1(m)){const M=m.readable||m;w++,pumpToNode(M,V,x,{end:J})}else throw new ERR_INVALID_RETURN_VALUE("AsyncIterable or Promise","destination",m);m=V;const{destroy:ee,cleanup:te}=destroyer$1(m,!1,!0);g.push(ee),re&&u.push(te)}}else if(isNodeStream$2(b)){if(isReadableNodeStream(m)){w+=2;const V=pipe(m,b,x,{end:J});isReadable$1(b)&&re&&u.push(V)}else if(isTransformStream$1(m)||isReadableStream$1(m)){const V=m.readable||m;w++,pumpToNode(V,b,x,{end:J})}else if(isIterable(m))w++,pumpToNode(m,b,x,{end:J});else throw new ERR_INVALID_ARG_TYPE$1("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=b}else if(isWebStream$1(b)){if(isReadableNodeStream(m))w++,pumpToWeb(makeAsyncIterable(m),b,x,{end:J});else if(isReadableStream$1(m)||isIterable(m))w++,pumpToWeb(m,b,x,{end:J});else if(isTransformStream$1(m))w++,pumpToWeb(m.readable,b,x,{end:J});else throw new ERR_INVALID_ARG_TYPE$1("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],m);m=b}else m=Duplex$1.from(b)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&process.nextTick(p),m}function pipe(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new ERR_STREAM_PREMATURE_CLOSE)}),e.pipe(t,{end:!1}),n){let s=function(){i=!0,t.end()};isReadableFinished(e)?process.nextTick(s):e.once("end",s)}else r();return eos$1(e,{readable:!0,writable:!1},s=>{const u=e._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&u&&u.ended&&!u.errored&&!u.errorEmitted?e.once("end",r).once("error",r):r(s)}),eos$1(t,{readable:!1,writable:!0},r)}var pipeline_1={pipelineImpl,pipeline:pipeline$1};const{pipeline}=pipeline_1,Duplex=requireDuplex(),{destroyer}=destroy_1,{isNodeStream:isNodeStream$1,isReadable,isWritable:isWritable$1,isWebStream,isTransformStream,isWritableStream,isReadableStream}=utils,{AbortError:AbortError$1,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$1}}=errors,eos=endOfStreamExports;var compose$1=function(...t){if(t.length===0)throw new ERR_MISSING_ARGS$1("streams");if(t.length===1)return Duplex.from(t[0]);const r=[...t];if(typeof t[0]=="function"&&(t[0]=Duplex.from(t[0])),typeof t[t.length-1]=="function"){const x=t.length-1;t[x]=Duplex.from(t[x])}for(let x=0;x<t.length;++x)if(!(!isNodeStream$1(t[x])&&!isWebStream(t[x]))){if(x<t.length-1&&!(isReadable(t[x])||isReadableStream(t[x])||isTransformStream(t[x])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${x}]`,r[x],"must be readable");if(x>0&&!(isWritable$1(t[x])||isWritableStream(t[x])||isTransformStream(t[x])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${x}]`,r[x],"must be writable")}let n,i,s,u,p;function f(x){const N=u;u=null,N?N(x):x?p.destroy(x):!w&&!g&&p.destroy()}const o=t[0],d=pipeline(t,f),g=!!(isWritable$1(o)||isWritableStream(o)||isTransformStream(o)),w=!!(isReadable(d)||isReadableStream(d)||isTransformStream(d));if(p=new Duplex({writableObjectMode:!!(o!=null&&o.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:g,readable:w}),g){if(isNodeStream$1(o))p._write=function(N,m,S){o.write(N,m)?S():n=S},p._final=function(N){o.end(),i=N},o.on("drain",function(){if(n){const N=n;n=null,N()}});else if(isWebStream(o)){const m=(isTransformStream(o)?o.writable:o).getWriter();p._write=async function(S,k,L){try{await m.ready,m.write(S).catch(()=>{}),L()}catch(b){L(b)}},p._final=async function(S){try{await m.ready,m.close().catch(()=>{}),i=S}catch(k){S(k)}}}const x=isTransformStream(d)?d.readable:d;eos(x,()=>{if(i){const N=i;i=null,N()}})}if(w){if(isNodeStream$1(d))d.on("readable",function(){if(s){const x=s;s=null,x()}}),d.on("end",function(){p.push(null)}),p._read=function(){for(;;){const x=d.read();if(x===null){s=p._read;return}if(!p.push(x))return}};else if(isWebStream(d)){const N=(isTransformStream(d)?d.readable:d).getReader();p._read=async function(){for(;;)try{const{value:m,done:S}=await N.read();if(!p.push(m))return;if(S){p.push(null);return}}catch{return}}}}return p._destroy=function(x,N){!x&&u!==null&&(x=new AbortError$1),s=null,n=null,i=null,u===null?N(x):(u=N,isNodeStream$1(d)&&destroyer(d,x))},p};const AbortController=globalThis.AbortController||requireBrowser().AbortController,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_MISSING_ARGS,ERR_OUT_OF_RANGE},AbortError}=errors,{validateAbortSignal,validateInteger,validateObject}=validators,kWeakHandler=primordials.Symbol("kWeak"),kResistStopPropagation=primordials.Symbol("kResistStopPropagation"),{finished}=endOfStreamExports,staticCompose=compose$1,{addAbortSignalNoValidate}=addAbortSignalExports,{isWritable,isNodeStream}=utils,{deprecate}=utilExports,{ArrayPrototypePush,Boolean:Boolean$1,MathFloor,Number:Number$1,NumberIsNaN,Promise:Promise$1,PromiseReject,PromiseResolve,PromisePrototypeThen,Symbol:Symbol$1}=primordials,kEmpty=Symbol$1("kEmpty"),kEof=Symbol$1("kEof");function compose(e,t){if(t!=null&&validateObject(t,"options"),t?.signal!=null&&validateAbortSignal(t.signal,"options.signal"),isNodeStream(e)&&!isWritable(e))throw new ERR_INVALID_ARG_VALUE("stream",e,"must be writable");const r=staticCompose(this,e);return t!=null&&t.signal&&addAbortSignalNoValidate(t.signal,r),r}function map(e,t){if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],e);t!=null&&validateObject(t,"options"),t?.signal!=null&&validateAbortSignal(t.signal,"options.signal");let r=1;t?.concurrency!=null&&(r=MathFloor(t.concurrency));let n=r-1;return t?.highWaterMark!=null&&(n=MathFloor(t.highWaterMark)),validateInteger(r,"options.concurrency",1),validateInteger(n,"options.highWaterMark",0),n+=r,async function*(){const s=utilExports.AbortSignalAny([t?.signal].filter(Boolean$1)),u=this,p=[],f={signal:s};let o,d,g=!1,w=0;function x(){g=!0,N()}function N(){w-=1,m()}function m(){d&&!g&&w<r&&p.length<n&&(d(),d=null)}async function S(){try{for await(let k of u){if(g)return;if(s.aborted)throw new AbortError;try{if(k=e(k,f),k===kEmpty)continue;k=PromiseResolve(k)}catch(L){k=PromiseReject(L)}w+=1,PromisePrototypeThen(k,N,x),p.push(k),o&&(o(),o=null),!g&&(p.length>=n||w>=r)&&await new Promise$1(L=>{d=L})}p.push(kEof)}catch(k){const L=PromiseReject(k);PromisePrototypeThen(L,N,x),p.push(L)}finally{g=!0,o&&(o(),o=null)}}S();try{for(;;){for(;p.length>0;){const k=await p[0];if(k===kEof)return;if(s.aborted)throw new AbortError;k!==kEmpty&&(yield k),p.shift(),m()}await new Promise$1(k=>{o=k})}}finally{g=!0,d&&(d(),d=null)}}.call(this)}function asIndexedPairs(e=void 0){return e!=null&&validateObject(e,"options"),e?.signal!=null&&validateAbortSignal(e.signal,"options.signal"),async function*(){let r=0;for await(const i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new AbortError({cause:e.signal.reason});yield[r++,i]}}.call(this)}async function some(e,t=void 0){for await(const r of filter.call(this,e,t))return!0;return!1}async function every(e,t=void 0){if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],e);return!await some.call(this,async(...r)=>!await e(...r),t)}async function find(e,t){for await(const r of filter.call(this,e,t))return r}async function forEach(e,t){if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),kEmpty}for await(const n of map.call(this,r,t));}function filter(e,t){if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:kEmpty}return map.call(this,r,t)}class ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function reduce(e,t,r){var n;if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE("reducer",["Function","AsyncFunction"],e);r!=null&&validateObject(r,"options"),r?.signal!=null&&validateAbortSignal(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const o=new AbortError(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await finished(this.destroy(o)),o}const s=new AbortController,u=s.signal;if(r!=null&&r.signal){const o={once:!0,[kWeakHandler]:this,[kResistStopPropagation]:!0};r.signal.addEventListener("abort",()=>s.abort(),o)}let p=!1;try{for await(const o of this){var f;if(p=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new AbortError;i?t=await e(t,o,{signal:u}):(t=o,i=!0)}if(!p&&!i)throw new ReduceAwareErrMissingArgs}finally{s.abort()}return t}async function toArray(e){e!=null&&validateObject(e,"options"),e?.signal!=null&&validateAbortSignal(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new AbortError(void 0,{cause:e.signal.reason});ArrayPrototypePush(t,n)}return t}function flatMap(e,t){const r=map.call(this,e,t);return async function*(){for await(const i of r)yield*i}.call(this)}function toIntegerOrInfinity(e){if(e=Number$1(e),NumberIsNaN(e))return 0;if(e<0)throw new ERR_OUT_OF_RANGE("number",">= 0",e);return e}function drop(e,t=void 0){return t!=null&&validateObject(t,"options"),t?.signal!=null&&validateAbortSignal(t.signal,"options.signal"),e=toIntegerOrInfinity(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new AbortError;for await(const s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new AbortError;e--<=0&&(yield s)}}.call(this)}function take(e,t=void 0){return t!=null&&validateObject(t,"options"),t?.signal!=null&&validateAbortSignal(t.signal,"options.signal"),e=toIntegerOrInfinity(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new AbortError;for await(const s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new AbortError;if(e-- >0&&(yield s),e<=0)return}}.call(this)}operators.streamReturningOperators={asIndexedPairs:deprecate(asIndexedPairs,"readable.asIndexedPairs will be removed in a future version."),drop,filter,flatMap,map,take,compose};operators.promiseReturningOperators={every,forEach,reduce,toArray,some,find};var promises,hasRequiredPromises;function requirePromises(){if(hasRequiredPromises)return promises;hasRequiredPromises=1;const{ArrayPrototypePop:e,Promise:t}=primordials,{isIterable:r,isNodeStream:n,isWebStream:i}=utils,{pipelineImpl:s}=pipeline_1,{finished:u}=endOfStreamExports;requireStream();function p(...f){return new t((o,d)=>{let g,w;const x=f[f.length-1];if(x&&typeof x=="object"&&!n(x)&&!r(x)&&!i(x)){const N=e(f);g=N.signal,w=N.end}s(f,(N,m)=>{N?d(N):o(m)},{signal:g,end:w})})}return promises={finished:u,pipeline:p},promises}var hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream$1.exports;hasRequiredStream=1;const{Buffer:e}=buffer,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=primordials,{promisify:{custom:i}}=utilExports,{streamReturningOperators:s,promiseReturningOperators:u}=operators,{codes:{ERR_ILLEGAL_CONSTRUCTOR:p}}=errors,f=compose$1,{setDefaultHighWaterMark:o,getDefaultHighWaterMark:d}=state,{pipeline:g}=pipeline_1,{destroyer:w}=destroy_1,x=endOfStreamExports,N=requirePromises(),m=utils,S=stream$1.exports=legacy.Stream;S.isDestroyed=m.isDestroyed,S.isDisturbed=m.isDisturbed,S.isErrored=m.isErrored,S.isReadable=m.isReadable,S.isWritable=m.isWritable,S.Readable=requireReadable();for(const L of r(s)){let U=function(...P){if(new.target)throw p();return S.Readable.from(n(b,this,P))};const b=s[L];t(U,"name",{__proto__:null,value:b.name}),t(U,"length",{__proto__:null,value:b.length}),t(S.Readable.prototype,L,{__proto__:null,value:U,enumerable:!1,configurable:!0,writable:!0})}for(const L of r(u)){let U=function(...P){if(new.target)throw p();return n(b,this,P)};const b=u[L];t(U,"name",{__proto__:null,value:b.name}),t(U,"length",{__proto__:null,value:b.length}),t(S.Readable.prototype,L,{__proto__:null,value:U,enumerable:!1,configurable:!0,writable:!0})}S.Writable=requireWritable(),S.Duplex=requireDuplex(),S.Transform=transform,S.PassThrough=passthrough,S.pipeline=g;const{addAbortSignal:k}=addAbortSignalExports;return S.addAbortSignal=k,S.finished=x,S.destroy=w,S.compose=f,S.setDefaultHighWaterMark=o,S.getDefaultHighWaterMark=d,t(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return N}}),t(g,i,{__proto__:null,enumerable:!0,get(){return N.pipeline}}),t(x,i,{__proto__:null,enumerable:!0,get(){return N.finished}}),S.Stream=S,S._isUint8Array=function(b){return b instanceof Uint8Array},S._uint8ArrayToBuffer=function(b){return e.from(b.buffer,b.byteOffset,b.byteLength)},stream$1.exports}(function(e){const t=requireStream(),r=requirePromises(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(browser$4);var browserExports$1=browser$4.exports;Object.defineProperty(lib$2,"__esModule",{value:!0});lib$2.ReadableWebToNodeStream=void 0;const readable_stream_1=browserExports$1;class ReadableWebToNodeStream extends readable_stream_1.Readable{constructor(t){super(),this.bytesRead=0,this.released=!1,this.reader=t.getReader()}_read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read().then(t=>{delete this.pendingRead,t.done||this.released?this.push(null):(this.bytesRead+=t.value.length,this.push(t.value))}).catch(t=>{this.destroy(t)})}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}lib$2.ReadableWebToNodeStream=ReadableWebToNodeStream;var lib$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;const t=ieee754;function r(f){return new DataView(f.buffer,f.byteOffset)}e.UINT8={len:1,get(f,o){return r(f).getUint8(o)},put(f,o,d){return r(f).setUint8(o,d),o+1}},e.UINT16_LE={len:2,get(f,o){return r(f).getUint16(o,!0)},put(f,o,d){return r(f).setUint16(o,d,!0),o+2}},e.UINT16_BE={len:2,get(f,o){return r(f).getUint16(o)},put(f,o,d){return r(f).setUint16(o,d),o+2}},e.UINT24_LE={len:3,get(f,o){const d=r(f);return d.getUint8(o)+(d.getUint16(o+1,!0)<<8)},put(f,o,d){const g=r(f);return g.setUint8(o,d&255),g.setUint16(o+1,d>>8,!0),o+3}},e.UINT24_BE={len:3,get(f,o){const d=r(f);return(d.getUint16(o)<<8)+d.getUint8(o+2)},put(f,o,d){const g=r(f);return g.setUint16(o,d>>8),g.setUint8(o+2,d&255),o+3}},e.UINT32_LE={len:4,get(f,o){return r(f).getUint32(o,!0)},put(f,o,d){return r(f).setUint32(o,d,!0),o+4}},e.UINT32_BE={len:4,get(f,o){return r(f).getUint32(o)},put(f,o,d){return r(f).setUint32(o,d),o+4}},e.INT8={len:1,get(f,o){return r(f).getInt8(o)},put(f,o,d){return r(f).setInt8(o,d),o+1}},e.INT16_BE={len:2,get(f,o){return r(f).getInt16(o)},put(f,o,d){return r(f).setInt16(o,d),o+2}},e.INT16_LE={len:2,get(f,o){return r(f).getInt16(o,!0)},put(f,o,d){return r(f).setInt16(o,d,!0),o+2}},e.INT24_LE={len:3,get(f,o){const d=e.UINT24_LE.get(f,o);return d>8388607?d-16777216:d},put(f,o,d){const g=r(f);return g.setUint8(o,d&255),g.setUint16(o+1,d>>8,!0),o+3}},e.INT24_BE={len:3,get(f,o){const d=e.UINT24_BE.get(f,o);return d>8388607?d-16777216:d},put(f,o,d){const g=r(f);return g.setUint16(o,d>>8),g.setUint8(o+2,d&255),o+3}},e.INT32_BE={len:4,get(f,o){return r(f).getInt32(o)},put(f,o,d){return r(f).setInt32(o,d),o+4}},e.INT32_LE={len:4,get(f,o){return r(f).getInt32(o,!0)},put(f,o,d){return r(f).setInt32(o,d,!0),o+4}},e.UINT64_LE={len:8,get(f,o){return r(f).getBigUint64(o,!0)},put(f,o,d){return r(f).setBigUint64(o,d,!0),o+8}},e.INT64_LE={len:8,get(f,o){return r(f).getBigInt64(o,!0)},put(f,o,d){return r(f).setBigInt64(o,d,!0),o+8}},e.UINT64_BE={len:8,get(f,o){return r(f).getBigUint64(o)},put(f,o,d){return r(f).setBigUint64(o,d),o+8}},e.INT64_BE={len:8,get(f,o){return r(f).getBigInt64(o)},put(f,o,d){return r(f).setBigInt64(o,d),o+8}},e.Float16_BE={len:2,get(f,o){return t.read(f,o,!1,10,this.len)},put(f,o,d){return t.write(f,d,o,!1,10,this.len),o+this.len}},e.Float16_LE={len:2,get(f,o){return t.read(f,o,!0,10,this.len)},put(f,o,d){return t.write(f,d,o,!0,10,this.len),o+this.len}},e.Float32_BE={len:4,get(f,o){return r(f).getFloat32(o)},put(f,o,d){return r(f).setFloat32(o,d),o+4}},e.Float32_LE={len:4,get(f,o){return r(f).getFloat32(o,!0)},put(f,o,d){return r(f).setFloat32(o,d,!0),o+4}},e.Float64_BE={len:8,get(f,o){return r(f).getFloat64(o)},put(f,o,d){return r(f).setFloat64(o,d),o+8}},e.Float64_LE={len:8,get(f,o){return r(f).getFloat64(o,!0)},put(f,o,d){return r(f).setFloat64(o,d,!0),o+8}},e.Float80_BE={len:10,get(f,o){return t.read(f,o,!1,63,this.len)},put(f,o,d){return t.write(f,d,o,!1,63,this.len),o+this.len}},e.Float80_LE={len:10,get(f,o){return t.read(f,o,!0,63,this.len)},put(f,o,d){return t.write(f,d,o,!0,63,this.len),o+this.len}};class n{constructor(o){this.len=o}get(o,d){}}e.IgnoreType=n;class i{constructor(o){this.len=o}get(o,d){return o.subarray(d,d+this.len)}}e.Uint8ArrayType=i;class s{constructor(o){this.len=o}get(o,d){return Buffer.from(o.subarray(d,d+this.len))}}e.BufferType=s;class u{constructor(o,d){this.len=o,this.encoding=d}get(o,d){return Buffer.from(o).toString(this.encoding,d,d+this.len)}}e.StringType=u;class p{constructor(o){this.len=o}static decode(o,d,g){let w="";for(let x=d;x<g;++x)w+=p.codePointToString(p.singleByteDecoder(o[x]));return w}static inRange(o,d,g){return d<=o&&o<=g}static codePointToString(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}static singleByteDecoder(o){if(p.inRange(o,0,127))return o;const d=p.windows1252[o-128];if(d===null)throw Error("invaliding encoding");return d}get(o,d=0){return p.decode(o,d,d+this.len)}}e.AnsiStringType=p,p.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class t extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=t})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0});Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((t,r)=>{this.reject=r,this.resolve=t})}}Deferred$1.Deferred=Deferred;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;const t=EndOfFileStream,r=Deferred$1;var n=EndOfFileStream;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});const i=1*1024*1024;class s{constructor(p){if(this.s=p,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!p.read||!p.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new t.EndOfStreamError)),this.s.once("error",f=>this.reject(f)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(p,f,o){const d=await this.read(p,f,o);return this.peekQueue.push(p.subarray(f,f+d)),d}async read(p,f,o){if(o===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new t.EndOfStreamError;let d=o,g=0;for(;this.peekQueue.length>0&&d>0;){const w=this.peekQueue.pop();if(!w)throw new Error("peekData should be defined");const x=Math.min(w.length,d);p.set(w.subarray(0,x),f+g),g+=x,d-=x,x<w.length&&this.peekQueue.push(w.subarray(x))}for(;d>0&&!this.endOfStream;){const w=Math.min(d,i),x=await this.readFromStream(p,f+g,w);if(g+=x,x<w)break;d-=x}return g}async readFromStream(p,f,o){const d=this.s.read(o);if(d)return p.set(d,f),d.length;{const g={buffer:p,offset:f,length:o,deferred:new r.Deferred};return this.deferred=g.deferred,this.s.once("readable",()=>{this.readDeferred(g)}),g.deferred.promise}}readDeferred(p){const f=this.s.read(p.length);f?(p.buffer.set(f,p.offset),p.deferred.resolve(f.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(p)})}reject(p){this.endOfStream=!0,this.deferred&&(this.deferred.reject(p),this.deferred=null)}}e.StreamReader=s})(StreamReader);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var t=EndOfFileStream;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return t.EndOfStreamError}});var r=StreamReader;Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return r.StreamReader}})})(lib);Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0});AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}async readToken(t,r=this.position){const n=Buffer.alloc(t.len);if(await this.readBuffer(n,{position:r})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(n,0)}async peekToken(t,r=this.position){const n=Buffer.alloc(t.len);if(await this.peekBuffer(n,{position:r})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(n,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new peek_readable_1$2.EndOfStreamError;return t.get(this.numBuffer,0)}async ignore(t){if(this.fileInfo.size!==void 0){const r=this.fileInfo.size-this.position;if(t>r)return this.position+=r,r}return this.position+=t,t}async close(){}normalizeOptions(t,r){if(r&&r.position!==void 0&&r.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return r?{mayBeLess:r.mayBeLess===!0,offset:r.offset?r.offset:0,length:r.length?r.length:t.length-(r.offset?r.offset:0),position:r.position?r.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer;Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0});ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(t,r){super(r),this.streamReader=new peek_readable_1$1.StreamReader(t)}async getFileInfo(){return this.fileInfo}async readBuffer(t,r){const n=this.normalizeOptions(t,r),i=n.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(t,r);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(n.length===0)return 0;const s=await this.streamReader.read(t,n.offset,n.length);if(this.position+=s,(!r||!r.mayBeLess)&&s<n.length)throw new peek_readable_1$1.EndOfStreamError;return s}async peekBuffer(t,r){const n=this.normalizeOptions(t,r);let i=0;if(n.position){const s=n.position-this.position;if(s>0){const u=new Uint8Array(n.length+s);return i=await this.peekBuffer(u,{mayBeLess:n.mayBeLess}),t.set(u.subarray(s),n.offset),i-s}else if(s<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{i=await this.streamReader.peek(t,n.offset,n.length)}catch(s){if(r&&r.mayBeLess&&s instanceof peek_readable_1$1.EndOfStreamError)return 0;throw s}if(!n.mayBeLess&&i<n.length)throw new peek_readable_1$1.EndOfStreamError}return i}async ignore(t){const r=Math.min(maxBufferSize,t),n=new Uint8Array(r);let i=0;for(;i<t;){const s=t-i,u=await this.readBuffer(n,{length:Math.min(r,s)});if(u<0)return u;i+=u}return i}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0});BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(t,r){super(r),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}async readBuffer(t,r){if(r&&r.position){if(r.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=r.position}const n=await this.peekBuffer(t,r);return this.position+=n,n}async peekBuffer(t,r){const n=this.normalizeOptions(t,r),i=Math.min(this.uint8Array.length-n.position,n.length);if(!n.mayBeLess&&i<n.length)throw new peek_readable_1.EndOfStreamError;return t.set(this.uint8Array.subarray(n.position,n.position+i),n.offset),i}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;const t=ReadStreamTokenizer$1,r=BufferTokenizer$1;var n=lib;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});function i(u,p){return p=p||{},new t.ReadStreamTokenizer(u,p)}e.fromStream=i;function s(u,p){return new r.BufferTokenizer(u,p)}e.fromBuffer=s})(core$1);var util={};util.stringToBytes=e=>[...e].map(t=>t.charCodeAt(0));util.tarHeaderChecksumMatches=(e,t=0)=>{const r=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let n=8*32;for(let i=t;i<t+148;i++)n+=e[i];for(let i=t+156;i<t+512;i++)n+=e[i];return r===n};util.uint32SyncSafeToken={get:(e,t)=>e[t+3]&127|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4};var supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(!(t&&t.length>1))return;const r=strtok3.fromBuffer(t);return fromTokenizer(r)}function _check(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const r=12,n=(s,u)=>_check(t,s,u),i=(s,u)=>n(stringToBytes(s),u);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:r,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),i("PS-Adobe-",{offset:2})&&i(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(i("ID3")){await e.ignore(6);const s=await e.readToken(uint32SyncSafeToken);return e.position+s>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(s),fromTokenizer(e))}if(i("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((t[0]===67||t[0]===70)&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(i("FLIF"))return{ext:"flif",mime:"image/flif"};if(i("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(i("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(i("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(i("FORM"))return{ext:"aif",mime:"audio/aiff"};if(i("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(t,{length:30});const s={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(s.filename=await e.readToken(new Token.StringType(s.filenameLength,"utf-8")),await e.ignore(s.extraFieldLength),s.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(s.filename.endsWith(".rels")||s.filename.endsWith(".xml"))switch(s.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(s.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(s.filename.startsWith("3D/")&&s.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(s.filename==="mimetype"&&s.compressedSize===s.uncompressedSize)switch(await e.readToken(new Token.StringType(s.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(s.compressedSize===0){let u=-1;for(;u<0&&e.position<e.fileInfo.size;)await e.peekBuffer(t,{mayBeLess:!0}),u=t.indexOf("504B0304",0,"hex"),await e.ignore(u>=0?u:t.length)}else await e.ignore(s.compressedSize)}}catch(s){if(!(s instanceof strtok3.EndOfStreamError))throw s}return{ext:"zip",mime:"application/zip"}}if(i("OggS")){await e.ignore(28);const s=Buffer.alloc(8);return await e.readBuffer(s),_check(s,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(s,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(s,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(s,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(s,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(s,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(i("ftyp",{offset:4})&&t[8]&96){const s=t.toString("binary",8,12).replace("\0"," ").trim();switch(s){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return s.startsWith("3g")?s.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(i("MThd"))return{ext:"mid",mime:"audio/midi"};if(i("wOFF")&&(n([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(i("wOF2")&&(n([0,1,0,0],{offset:4})||i("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(i("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(i("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(i("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(i("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(i("%PDF")){await e.ignore(1350);const s=10*1024*1024,u=Buffer.alloc(Math.min(s,e.fileInfo.size));return await e.readBuffer(u,{mayBeLess:!0}),u.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return i("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(i("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){async function s(){const d=await e.peekNumber(Token.UINT8);let g=128,w=0;for(;!(d&g)&&g!==0;)++w,g>>=1;const x=Buffer.alloc(w+1);return await e.readBuffer(x),x}async function u(){const d=await s(),g=await s();g[0]^=128>>g.length-1;const w=Math.min(6,g.length);return{id:d.readUIntBE(0,d.length),len:g.readUIntBE(g.length-w,w)}}async function p(d,g){for(;g>0;){const w=await u();if(w.id===17026)return e.readToken(new Token.StringType(w.len,"utf-8"));await e.ignore(w.len),--g}}const f=await u();switch(await p(1,f.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(i("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(i("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(i("MSCF")||i("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(i("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(i("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(i("IMPM"))return{ext:"it",mime:"audio/x-it"};if(i("-lh0-",{offset:2})||i("-lh1-",{offset:2})||i("-lh2-",{offset:2})||i("-lh3-",{offset:2})||i("-lh4-",{offset:2})||i("-lh5-",{offset:2})||i("-lh6-",{offset:2})||i("-lh7-",{offset:2})||i("-lzs-",{offset:2})||i("-lz4-",{offset:2})||i("-lz5-",{offset:2})||i("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(i("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(i("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(i("solid "))return{ext:"stl",mime:"model/stl"};if(i("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(i("!<arch>"))return await e.ignore(8),await e.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){await e.ignore(8);async function s(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}do{const u=await s();if(u.length<0)return;switch(u.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(u.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(i("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){async function s(){const u=Buffer.alloc(16);return await e.readBuffer(u),{id:u,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const u=await s();let p=u.size-24;if(_check(u.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const f=Buffer.alloc(16);if(p-=await e.readBuffer(f),_check(f,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(f,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(p)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),i("BEGIN:")){if(i("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(i("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(i("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(i("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(i("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&t.length>=16){const s=t.readUInt32LE(12);if(s>12&&t.length>=s+16)try{const u=t.slice(16,s+16).toString();if(JSON.parse(u).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(i("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(i("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const e=new stream.PassThrough;let t;stream.pipeline?t=stream.pipeline(readableStream,e,()=>{}):t=readableStream.pipe(e);const r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const n=await fromBuffer(r);e.fileType=n}catch(n){reject(n)}resolve(t)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}});Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}});var core=fileType;(function(e){const{ReadableWebToNodeStream:t}=lib$2,r=core;async function n(u){const p=new t(u),f=await r.fromStream(p);return await p.close(),f}async function i(u){const p=await s(u);return r.fromBuffer(Buffer.from(p))}function s(u){return u.arrayBuffer?u.arrayBuffer():new Promise((p,f)=>{const o=new FileReader;o.addEventListener("loadend",d=>{p(d.target.result)}),o.addEventListener("error",d=>{f(new Error(d.message))}),o.addEventListener("abort",d=>{f(new Error(d.type))}),o.readAsArrayBuffer(u)})}Object.assign(e.exports,r,{fromStream:n,fromBlob:i})})(browser$5);var browserExports=browser$5.exports;const browser=getDefaultExportFromCjs(browserExports),browser$1=_mergeNamespaces({__proto__:null,default:browser},[browserExports]);export{browser$1 as b};
//# sourceMappingURL=browser.Byxk7jBY.js.map
