{"version":3,"file":"ForceMoverC.CZgXrGhY.js","sources":["../../src/components/react/p5/Forces/ForceMoverC.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport { Mover } from \"../Vector/Mover\";\n\nexport class ForceMoverC extends Mover {\n  mass: number;\n  constructor(\n    p: p5,\n    name?: string,\n    circleRadius?: number,\n    color?: p5.Color,\n    mass?: number\n  ) {\n    super(p);\n    this.name = name || this.name;\n    this.circleRadius = circleRadius || this.circleRadius;\n    this.color = color || this.color;\n    this.velocity = p.createVector(0, 0);\n    this.acceleration = p.createVector(0, 0);\n    this.mass = mass || 1;\n  }\n  applyForce(force: p5.Vector) {\n    let f = force.copy(); // 创建一个副本\n    f.div(this.mass);\n    this.acceleration.add(f);\n  }\n\n  move() {\n    this.velocity.add(this.acceleration);\n    this.position.add(this.velocity);\n    const size = this.circleRadius / 2;\n    this.p.text(\n      `加速度x: ${this.acceleration.x.toFixed(\n        2\n      )},y: ${this.acceleration.y.toFixed(2)}`,\n      this.position.x - (size * this.name.length) / 4,\n      this.position.y - (size * 9) / 4\n    );\n    this.acceleration.mult(0);\n  }\n\n  checkEdges() {\n    const p = this.p;\n    if (\n      this.position.x + this.circleRadius >= p.width ||\n      this.position.x <= this.circleRadius\n    ) {\n      if (this.position.x + this.circleRadius >= p.width) {\n        this.position.x = p.width - this.circleRadius;\n      }\n      this.velocity.x *= -1;\n    }\n    if (this.position.y > p.height - this.circleRadius) {\n      this.velocity.y *= -1;\n      this.position.y = p.height - this.circleRadius;\n    }\n  }\n}\n"],"names":["ForceMoverC","Mover","p","name","circleRadius","color","mass","force","f","size"],"mappings":"ubAGO,MAAMA,UAAoBC,CAAM,CAErC,YACEC,EACAC,EACAC,EACAC,EACAC,EACA,CACA,MAAMJ,CAAC,EACF,KAAA,KAAOC,GAAQ,KAAK,KACpB,KAAA,aAAeC,GAAgB,KAAK,aACpC,KAAA,MAAQC,GAAS,KAAK,MAC3B,KAAK,SAAWH,EAAE,aAAa,EAAG,CAAC,EACnC,KAAK,aAAeA,EAAE,aAAa,EAAG,CAAC,EACvC,KAAK,KAAOI,GAAQ,CAAA,CAEtB,WAAWC,EAAkB,CACvB,IAAAC,EAAID,EAAM,KAAK,EACjBC,EAAA,IAAI,KAAK,IAAI,EACV,KAAA,aAAa,IAAIA,CAAC,CAAA,CAGzB,MAAO,CACA,KAAA,SAAS,IAAI,KAAK,YAAY,EAC9B,KAAA,SAAS,IAAI,KAAK,QAAQ,EACzB,MAAAC,EAAO,KAAK,aAAe,EACjC,KAAK,EAAE,KACL,SAAS,KAAK,aAAa,EAAE,QAC3B,CAAA,CACD,OAAO,KAAK,aAAa,EAAE,QAAQ,CAAC,CAAC,GACtC,KAAK,SAAS,EAAKA,EAAO,KAAK,KAAK,OAAU,EAC9C,KAAK,SAAS,EAAKA,EAAO,EAAK,CACjC,EACK,KAAA,aAAa,KAAK,CAAC,CAAA,CAG1B,YAAa,CACX,MAAMP,EAAI,KAAK,GAEb,KAAK,SAAS,EAAI,KAAK,cAAgBA,EAAE,OACzC,KAAK,SAAS,GAAK,KAAK,gBAEpB,KAAK,SAAS,EAAI,KAAK,cAAgBA,EAAE,QAC3C,KAAK,SAAS,EAAIA,EAAE,MAAQ,KAAK,cAEnC,KAAK,SAAS,GAAK,IAEjB,KAAK,SAAS,EAAIA,EAAE,OAAS,KAAK,eACpC,KAAK,SAAS,GAAK,GACnB,KAAK,SAAS,EAAIA,EAAE,OAAS,KAAK,aACpC,CAEJ"}