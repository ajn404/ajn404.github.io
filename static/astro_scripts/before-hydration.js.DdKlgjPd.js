import{Z as c,T as b,B as m}from"../lit-html.C67ygu-D.js";import{i as g,e as w,l as v,t as p,f as A}from"../directive-helpers.BIIYnyV9.js";import"../_sentry-release-injection-file.B-UwqLso.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new n.Error().stack;o&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[o]="3b456faa-3c23-4df6-9565-23a72fe0178b",n._sentryDebugIdIdentifier="sentry-dbid-3b456faa-3c23-4df6-9565-23a72fe0178b")}catch{}})();const E={resolveDirective:c.V,ElementPart:c.F,TemplateInstance:c.R,isIterable:c.D,ChildPart:c.I};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{TemplateInstance:$,isIterable:I,resolveDirective:f,ChildPart:h,ElementPart:P}=E,x=(n,o,i={})=>{if(o._$litPart$!==void 0)throw Error("container already contains a live render");let l,t,r;const e=[],d=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT);let a;for(;(a=d.nextNode())!==null;){const s=a.data;if(s.startsWith("lit-part")){if(e.length===0&&l!==void 0)throw Error(`There must be only one root part per container. Found a part marker (${a}) when we already have a root part marker (${t})`);r=T(n,a,e,i),l===void 0&&(l=r),t??=a}else if(s.startsWith("lit-node"))R(a,e,i);else if(s.startsWith("/lit-part")){if(e.length===1&&r!==l)throw Error("internal error");r=_(a,r,e)}}if(l===void 0){const s=o instanceof ShadowRoot?"{container.host.localName}'s shadow root":o instanceof DocumentFragment?"DocumentFragment":o.localName;console.error(`There should be exactly one root part in a render container, but we didn't find any in ${s}.`)}o._$litPart$=l},T=(n,o,i,l)=>{let t,r;if(i.length===0)r=new h(o,null,void 0,l),t=n;else{const e=i[i.length-1];if(e.type==="template-instance")r=new h(o,null,e.instance,l),e.instance._$AV.push(r),t=e.result.values[e.instancePartIndex++],e.templatePartIndex++;else if(e.type==="iterable"){r=new h(o,null,e.part,l);const d=e.iterator.next();if(d.done)throw t=void 0,e.done=!0,Error("Unhandled shorter than expected iterable");t=d.value,e.part._$AH.push(r)}else r=new h(o,null,e.part,l)}if(t=f(r,t),t===b)i.push({part:r,type:"leaf"});else if(g(t))i.push({part:r,type:"leaf"}),r._$AH=t;else if(w(t)){if(v(t))throw Error("compiled templates are not supported");const e="lit-part "+C(t);if(o.data!==e)throw Error("Hydration value mismatch: Unexpected TemplateResult rendered to part");{const d=h.prototype._$AC(t),a=new $(d,r);i.push({type:"template-instance",instance:a,part:r,templatePartIndex:0,instancePartIndex:0,result:t}),r._$AH=a}}else I(t)?(i.push({part:r,type:"iterable",value:t,iterator:t[Symbol.iterator](),done:!1}),r._$AH=[]):(i.push({part:r,type:"leaf"}),r._$AH=t??"");return r},_=(n,o,i)=>{if(o===void 0)throw Error("unbalanced part marker");o._$AB=n;const l=i.pop();if(l.type==="iterable"&&!l.iterator.next().done)throw Error("unexpected longer than expected iterable");if(i.length>0)return i[i.length-1].part},R=(n,o,i)=>{const l=/lit-node (\d+)/.exec(n.data),t=parseInt(l[1]),r=n.nextElementSibling;if(r===null)throw Error("could not find node for attribute parts");r.removeAttribute("defer-hydration");const e=o[o.length-1];if(e.type!=="template-instance")throw Error("Hydration value mismatch: Primitive found where TemplateResult expected. This usually occurs due to conditional rendering that resulted in a different value or template being rendered between the server and client.");{const d=e.instance;for(;;){const a=d._$AD.parts[e.templatePartIndex];if(a===void 0||a.type!==p.ATTRIBUTE&&a.type!==p.ELEMENT||a.index!==t)break;if(a.type===p.ATTRIBUTE){const s=new a.ctor(r,a.name,a.strings,e.instance,i),u=A(s)?e.result.values[e.instancePartIndex]:e.result.values,y=!(s.type===p.EVENT||s.type===p.PROPERTY);s._$AI(u,s,e.instancePartIndex,y),e.instancePartIndex+=a.strings.length-1,d._$AV.push(s)}else{const s=new P(r,e.instance,i);f(s,e.result.values[e.instancePartIndex++]),d._$AV.push(s)}e.templatePartIndex++}}},C=n=>{const o=new Uint32Array(2).fill(5381);for(const l of n.strings)for(let t=0;t<l.length;t++)o[t%2]=33*o[t%2]^l.charCodeAt(t);const i=String.fromCharCode(...new Uint8Array(o.buffer));return btoa(i)};globalThis.litElementHydrateSupport=({LitElement:n})=>{const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(n),"observedAttributes").get;Object.defineProperty(n,"observedAttributes",{get(){return[...o.call(this),"defer-hydration"]}});const i=n.prototype.attributeChangedCallback;n.prototype.attributeChangedCallback=function(e,d,a){e==="defer-hydration"&&a===null&&l.call(this),i.call(this,e,d,a)};const l=n.prototype.connectedCallback;n.prototype.connectedCallback=function(){this.hasAttribute("defer-hydration")||l.call(this)};const t=n.prototype.createRenderRoot;n.prototype.createRenderRoot=function(){return this.shadowRoot?(this._$AG=!0,this.shadowRoot):t.call(this)};const r=Object.getPrototypeOf(n.prototype).update;n.prototype.update=function(e){const d=this.render();if(r.call(this,e),this._$AG){this._$AG=!1;for(let a=0;a<this.attributes.length;a++){const s=this.attributes[a];if(s.name.startsWith("hydrate-internals-")){const u=s.name.slice(18);this.removeAttribute(u),this.removeAttribute(s.name)}}x(d,this.renderRoot,this.renderOptions)}else m(d,this.renderRoot,this.renderOptions)}};
//# sourceMappingURL=before-hydration.js.DdKlgjPd.js.map
