{"version":3,"file":"InsectLikeOscillatorV0.DfQK86aO.js","sources":["../../src/components/react/p5/Oscillation/practice/insectLike.ts","../../src/components/react/p5/Oscillation/practice/InsectLikeOscillatorV0.tsx"],"sourcesContent":["import type p5 from \"p5\";\n\nexport class InsectLikeOscillator {\n  p5: p5;\n  angle: number;\n  angleVelocity: number;\n  amplitude: number;\n  offset: number; // 新增：腿部偏移量\n\n  constructor(p5: p5, index: number, numLegs: number) {\n    this.p5 = p5;\n    this.angle = 0;\n    this.angleVelocity = 0.001 + index * 0.001; // 不同的腿有不同的速度\n    this.amplitude = 50 + index; // 不同的腿有不同的振幅\n    this.offset = ((index - numLegs / 2) / numLegs) * Math.PI; // 腿部角度偏移\n  }\n\n  show() {\n    const _ = this.p5;\n    const x = _.cos(this.angle + this.offset) * this.amplitude;\n    const y = _.sin(this.angle + this.offset) * this.amplitude;\n    const r = _.map(_.sin(this.angle), -1, 1, 0, 255);\n    const g = _.map(_.cos(this.angle), -1, 1, 0, 255);\n    const b = _.map(_.sin(this.angle), -1, 1, 100, 200);\n    _.push();\n    _.translate(_.width / 2, _.height / 2);\n    _.stroke(r, g, b);\n    _.fill(r, g, b);\n    _.line(0, 0, x, y);\n    _.circle(x, y, 10); // 减小圆圈大小\n    _.pop();\n  }\n\n  update() {\n    this.angle += this.angleVelocity;\n  }\n}\n\nexport class Insect {\n  p5: p5;\n  oscillators: InsectLikeOscillator[];\n  numLegs: number;\n\n  constructor(p5: p5, numLegs: number = 60) {\n    this.p5 = p5;\n    this.numLegs = numLegs;\n    this.oscillators = Array.from(\n      { length: numLegs },\n      (_, i) => new InsectLikeOscillator(p5, i, numLegs)\n    );\n  }\n\n  show() {\n    this.oscillators.forEach(oscillator => oscillator.show());\n  }\n\n  update() {\n    this.oscillators.forEach(oscillator => oscillator.update());\n  }\n}\n","import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { Insect } from \"./insectLike.ts\";\n\nexport default () => {\n  const sketch = (p: p5) => {\n    let osi: Insect;\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 2, 240);\n      p.frameRate(120);\n      osi = new Insect(p);\n    };\n    const draw = () => {\n      p.background(255);\n      osi.update();\n      osi.show();\n    };\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, 240);\n    };\n    p.setup = setup;\n    p.draw = draw;\n    p.windowResized = resize;\n  };\n  return <Basic sketch={sketch} showControls></Basic>;\n};\n"],"names":["InsectLikeOscillator","p5","index","numLegs","_","x","y","r","g","b","Insect","oscillator","InsectLikeOscillatorV0","sketch","p","osi","setup","draw","resize","jsx","Basic"],"mappings":"0rBAEO,MAAMA,CAAqB,CAOhC,YAAYC,EAAQC,EAAeC,EAAiB,CAClD,KAAK,GAAKF,EACV,KAAK,MAAQ,EACR,KAAA,cAAgB,KAAQC,EAAQ,KACrC,KAAK,UAAY,GAAKA,EACtB,KAAK,QAAWA,EAAQC,EAAU,GAAKA,EAAW,KAAK,EAAA,CAGzD,MAAO,CACL,MAAMC,EAAI,KAAK,GACTC,EAAID,EAAE,IAAI,KAAK,MAAQ,KAAK,MAAM,EAAI,KAAK,UAC3CE,EAAIF,EAAE,IAAI,KAAK,MAAQ,KAAK,MAAM,EAAI,KAAK,UAC3CG,EAAIH,EAAE,IAAIA,EAAE,IAAI,KAAK,KAAK,EAAG,GAAI,EAAG,EAAG,GAAG,EAC1CI,EAAIJ,EAAE,IAAIA,EAAE,IAAI,KAAK,KAAK,EAAG,GAAI,EAAG,EAAG,GAAG,EAC1CK,EAAIL,EAAE,IAAIA,EAAE,IAAI,KAAK,KAAK,EAAG,GAAI,EAAG,IAAK,GAAG,EAClDA,EAAE,KAAK,EACPA,EAAE,UAAUA,EAAE,MAAQ,EAAGA,EAAE,OAAS,CAAC,EACnCA,EAAA,OAAOG,EAAGC,EAAGC,CAAC,EACdL,EAAA,KAAKG,EAAGC,EAAGC,CAAC,EACdL,EAAE,KAAK,EAAG,EAAGC,EAAGC,CAAC,EACfF,EAAA,OAAOC,EAAGC,EAAG,EAAE,EACjBF,EAAE,IAAI,CAAA,CAGR,QAAS,CACP,KAAK,OAAS,KAAK,aAAA,CAEvB,CAEO,MAAMM,CAAO,CAKlB,YAAYT,EAAQE,EAAkB,GAAI,CACxC,KAAK,GAAKF,EACV,KAAK,QAAUE,EACf,KAAK,YAAc,MAAM,KACvB,CAAE,OAAQA,CAAQ,EAClB,CAACC,EAAG,IAAM,IAAIJ,EAAqBC,EAAI,EAAGE,CAAO,CACnD,CAAA,CAGF,MAAO,CACL,KAAK,YAAY,QAAsBQ,GAAAA,EAAW,MAAM,CAAA,CAG1D,QAAS,CACP,KAAK,YAAY,QAAsBA,GAAAA,EAAW,QAAQ,CAAA,CAE9D,CCvDA,MAAAC,EAAe,IAAM,CACb,MAAAC,EAAUC,GAAU,CACpB,IAAAC,EACJ,MAAMC,EAAQ,IAAM,CAClBF,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,EACrCA,EAAE,UAAU,GAAG,EACTC,EAAA,IAAIL,EAAOI,CAAC,CACpB,EACMG,EAAO,IAAM,CACjBH,EAAE,WAAW,GAAG,EAChBC,EAAI,OAAO,EACXA,EAAI,KAAK,CACX,EACMG,EAAS,IAAM,CACnBJ,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQE,EACVF,EAAE,KAAOG,EACTH,EAAE,cAAgBI,CACpB,EACA,OAAQC,EAAAA,IAAAC,EAAA,CAAM,OAAAP,EAAgB,aAAY,EAAC,CAAA,CAC7C"}