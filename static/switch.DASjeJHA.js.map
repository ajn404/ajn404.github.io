{"version":3,"file":"switch.DASjeJHA.js","sources":["../../src/components/react/webgl/mdn/switch.tsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nexport default () => {\n  const canvas = useRef<HTMLCanvasElement>(null);\n  const bRef = useRef(255); // 使用 ref 来存储 b 的值\n\n  useEffect(() => {\n    const gl = canvas.current?.getContext(\"webgl\");\n    if (!gl) return;\n    let id = 0; // 用来记录帧数\n    canvas.current?.addEventListener(\"click\", () => {\n      cancelAnimationFrame(id); // 取消动画帧\n      gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n      gl.clearColor(\n        ...(new Array(3).fill(0).map(() => Math.random()) as [\n          number,\n          number,\n          number,\n        ]),\n        1\n      );\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    });\n    return () => {};\n  }, []); // 只在组件挂载时执行一次\n\n  return (\n    <>\n      <canvas ref={canvas} className=\"bg-black\"></canvas>\n    </>\n  );\n};\n"],"names":["_switch","canvas","useRef","useEffect","gl","id","jsx"],"mappings":"4gBAEA,MAAAA,EAAe,IAAM,CACb,MAAAC,EAASC,SAA0B,IAAI,EAChCA,OAAAA,EAAAA,OAAO,GAAG,EAEvBC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAKH,EAAO,SAAS,WAAW,OAAO,EAC7C,GAAI,CAACG,EAAI,OACT,IAAIC,EAAK,EACF,OAAAJ,EAAA,SAAS,iBAAiB,QAAS,IAAM,CAC9C,qBAAqBI,CAAE,EACvBD,EAAG,SAAS,EAAG,EAAGA,EAAG,mBAAoBA,EAAG,mBAAmB,EAC5DA,EAAA,WACD,GAAI,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC,EAAE,IAAI,IAAM,KAAK,QAAQ,EAKhD,CACF,EACGA,EAAA,MAAMA,EAAG,gBAAgB,CAAA,CAC7B,EACM,IAAM,CAAC,CAChB,EAAG,EAAE,oBAID,SAACE,EAAAA,IAAA,SAAA,CAAO,IAAKL,EAAQ,UAAU,WAAW,CAC5C,CAAA,CAEJ"}