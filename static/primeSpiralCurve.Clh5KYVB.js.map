{"version":3,"file":"primeSpiralCurve.Clh5KYVB.js","sources":["../../src/components/react/p5/art/primeSpiralCurve.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { useCallback, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { cn } from \"@utils/utils\";\n\nexport default () => {\n  let [Num, setNum] = useState(5);\n  let [frameRate, setFrameRate] = useState(60);\n  let debounceNum = useDebounce(Num, 200);\n  let debounceFrameRate = useDebounce(frameRate, 200);\n\n  const sketch = useCallback(\n    (p: p5) => {\n      let points: p5.Vector[] = [];\n\n      const setup = () => {\n        p.createCanvas(p.windowWidth / 2, p.windowWidth / 2);\n        let len = (p.windowWidth * debounceNum) / (p.PI * 8);\n        let de = len % 4;\n        for (let i = 0; i < len - de; i++) {\n          let vector = p.createVector(i, i);\n          points.push(vector);\n        }\n        p.setAttributes(\"antialias\", true);\n        // p.background(255);\n        p.frameRate(debounceFrameRate);\n      };\n      let i = 0;\n      const draw = () => {\n        p.translate(p.windowWidth / 4, p.windowWidth / 4);\n        p.strokeWeight(debounceNum);\n        p.noFill();\n        if (i < points.length) {\n          let len = points[i].x;\n          let len2 = points[i + 1].x;\n          let len3 = points[i + 2].x;\n          let len4 = points[i + 3].x;\n          let [x1, y1] = [p.cos(len) * len, p.sin(len) * len];\n          let [x2, y2] = [p.cos(len2) * len2, p.sin(len2) * len];\n          let [x3, y3] = [p.cos(len3) * len3, p.sin(len3) * len3];\n          let [x4, y4] = [p.cos(len4) * len4, p.sin(len4) * len4];\n          [x1, x2, x3, x4, y1, y2, y3, y4].forEach(item => {\n            item = Number(item.toFixed(2));\n          });\n          p.curve(...[x1, y1, x2, y2, x3, y3, x4, y4]);\n          i += 4;\n        } else {\n          p.erase();\n          p.fill(0);\n          p.circle(0, 0, p.width * 2);\n          p.noErase();\n          i = 0;\n        }\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debounceNum, debounceFrameRate]\n  );\n  return (\n    <>\n      半径{Num},半径越小数量越多\n      <Slider\n        defaultValue={[5]}\n        max={10}\n        min={1}\n        step={0.1}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setNum(value[0]);\n        }}\n        value={[Num]}\n      />\n      帧率{frameRate}\n      <Slider\n        defaultValue={[60]}\n        max={120}\n        min={1}\n        step={1}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setFrameRate(value[0]);\n        }}\n        value={[frameRate]}\n      />\n      <Basic sketch={sketch}></Basic>\n    </>\n  );\n};\n"],"names":["primeSpiralCurve","Num","setNum","useState","frameRate","setFrameRate","debounceNum","useDebounce","debounceFrameRate","sketch","useCallback","p","points","setup","len","de","i","vector","draw","len2","len3","len4","x1","y1","x2","y2","x3","y3","x4","y4","item","resize","jsxs","Fragment","jsx","Slider","cn","value","Basic"],"mappings":"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"}