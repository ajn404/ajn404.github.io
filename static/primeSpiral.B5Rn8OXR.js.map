{"version":3,"file":"primeSpiral.B5Rn8OXR.js","sources":["../../src/components/react/p5/art/primeSpiral.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { useCallback, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nimport { Slider } from \"@shadcn/ui/slider\";\nimport { cn } from \"@utils/utils\";\n\nexport default () => {\n  let [Num, setNum] = useState(5);\n  let debounceNum = useDebounce(Num, 200);\n\n  const sketch = useCallback(\n    (p: p5) => {\n      let points: p5.Vector[] = [];\n\n      const setup = () => {\n        p.createCanvas(p.windowWidth / 2, p.windowWidth / 2);\n        for (let i = 0; i < (p.windowWidth * debounceNum) / p.PI; i++) {\n          let vector = p.createVector(i, i);\n          points.push(vector);\n        }\n        p.background(255);\n        p.translate(p.windowWidth / 4, p.windowWidth / 4);\n        p.stroke(0);\n        p.fill(0);\n        p.line(0, p.height / 2, p.width, p.height / 2);\n        p.line(p.width / 2, 0, p.width / 2, p.height);\n        p.noStroke();\n        for (let i = 0; i < points.length; i++) {\n          let len = points[i].x;\n          let x1 = p.cos(len) * len;\n          let y1 = p.sin(len) * len;\n          x1 = Number(x1.toFixed(2));\n          y1 = Number(y1.toFixed(2));\n          p.ellipse(\n            x1 / debounceNum,\n            y1 / debounceNum,\n            debounceNum,\n            debounceNum\n          );\n        }\n      };\n      const draw = () => {\n        p.stroke(0);\n        p.strokeWeight(debounceNum / 4);\n        p.fill(0);\n        p.line(0, p.height / 2, p.width, p.height / 2);\n        p.line(p.width / 2, 0, p.width / 2, p.height);\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debounceNum]\n  );\n  return (\n    <>\n      数量{Num}\n      <Slider\n        defaultValue={[5]}\n        max={10}\n        min={1}\n        step={0.1}\n        className={cn(\"w-[100%] m-4\")}\n        onValueChange={value => {\n          setNum(value[0]);\n        }}\n        value={[Num]}\n      />\n      <Basic sketch={sketch}></Basic>\n    </>\n  );\n};\n"],"names":["primeSpiral","Num","setNum","useState","debounceNum","useDebounce","sketch","useCallback","p","points","setup","i","vector","len","x1","y1","draw","resize","jsxs","Fragment","jsx","Slider","cn","value","Basic"],"mappings":"u+BAOA,MAAAA,EAAe,IAAM,CACnB,GAAI,CAACC,EAAKC,CAAM,EAAIC,EAAAA,SAAS,CAAC,EAC1BC,EAAcC,EAAYJ,EAAK,GAAG,EAEtC,MAAMK,EAASC,EAAA,YACZC,GAAU,CACT,IAAIC,EAAsB,CAAC,EAE3B,MAAMC,EAAQ,IAAM,CAClBF,EAAE,aAAaA,EAAE,YAAc,EAAGA,EAAE,YAAc,CAAC,EAC1C,QAAAG,EAAI,EAAGA,EAAKH,EAAE,YAAcJ,EAAeI,EAAE,GAAIG,IAAK,CAC7D,IAAIC,EAASJ,EAAE,aAAaG,EAAGA,CAAC,EAChCF,EAAO,KAAKG,CAAM,CAAA,CAEpBJ,EAAE,WAAW,GAAG,EAChBA,EAAE,UAAUA,EAAE,YAAc,EAAGA,EAAE,YAAc,CAAC,EAChDA,EAAE,OAAO,CAAC,EACVA,EAAE,KAAK,CAAC,EACNA,EAAA,KAAK,EAAGA,EAAE,OAAS,EAAGA,EAAE,MAAOA,EAAE,OAAS,CAAC,EAC3CA,EAAA,KAAKA,EAAE,MAAQ,EAAG,EAAGA,EAAE,MAAQ,EAAGA,EAAE,MAAM,EAC5CA,EAAE,SAAS,EACX,QAASG,EAAI,EAAGA,EAAIF,EAAO,OAAQE,IAAK,CAClC,IAAAE,EAAMJ,EAAOE,CAAC,EAAE,EAChBG,EAAKN,EAAE,IAAIK,CAAG,EAAIA,EAClBE,EAAKP,EAAE,IAAIK,CAAG,EAAIA,EACtBC,EAAK,OAAOA,EAAG,QAAQ,CAAC,CAAC,EACzBC,EAAK,OAAOA,EAAG,QAAQ,CAAC,CAAC,EACvBP,EAAA,QACAM,EAAKV,EACLW,EAAKX,EACLA,EACAA,CACF,CAAA,CAEJ,EACMY,EAAO,IAAM,CACjBR,EAAE,OAAO,CAAC,EACRA,EAAA,aAAaJ,EAAc,CAAC,EAC9BI,EAAE,KAAK,CAAC,EACNA,EAAA,KAAK,EAAGA,EAAE,OAAS,EAAGA,EAAE,MAAOA,EAAE,OAAS,CAAC,EAC3CA,EAAA,KAAKA,EAAE,MAAQ,EAAG,EAAGA,EAAE,MAAQ,EAAGA,EAAE,MAAM,CAC9C,EACMS,EAAS,IAAM,CACnBT,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQE,EACVF,EAAE,KAAOQ,EACTR,EAAE,cAAgBS,CACpB,EACA,CAACb,CAAW,CACd,EACA,OACIc,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAA,KACGlB,EACHmB,EAAA,IAACC,EAAA,CACC,aAAc,CAAC,CAAC,EAChB,IAAK,GACL,IAAK,EACL,KAAM,GACN,UAAWC,EAAG,cAAc,EAC5B,cAAwBC,GAAA,CACfrB,EAAAqB,EAAM,CAAC,CAAC,CACjB,EACA,MAAO,CAACtB,CAAG,CAAA,CACb,EACAmB,MAACI,GAAM,OAAAlB,CAAgB,CAAA,CAAA,EACzB,CAEJ"}