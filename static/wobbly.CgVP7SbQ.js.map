{"version":3,"file":"wobbly.CgVP7SbQ.js","sources":["../../src/components/react/p5/little/wobbly.tsx"],"sourcesContent":["// src/components/ParticleSimulation.tsx\n\nimport type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { useCallback } from \"react\";\n\nconst ParticleSimulation: React.FC = () => {\n  const sketch = useCallback((p: p5) => {\n    // Initialize particle properties arrays\n    const mass: number[] = [];\n    const positionX: number[] = [];\n    const positionY: number[] = [];\n    const velocityX: number[] = [];\n    const velocityY: number[] = [];\n\n    // p5.js setup function\n    p.setup = () => {\n      p.createCanvas(p.windowWidth - 200, 240);\n      p.noStroke();\n      p.fill(64, 255, 255, 192);\n    };\n\n    // p5.js draw function\n    p.draw = () => {\n      p.background(32);\n\n      for (let particleA = 0; particleA < mass.length; particleA++) {\n        let accelerationX = 0;\n        let accelerationY = 0;\n\n        for (let particleB = 0; particleB < mass.length; particleB++) {\n          if (particleA !== particleB) {\n            const distanceX = positionX[particleB] - positionX[particleA];\n            const distanceY = positionY[particleB] - positionY[particleA];\n\n            let distance = p.sqrt(\n              distanceX * distanceX + distanceY * distanceY\n            );\n            if (distance < 1) distance = 1;\n\n            const force = ((distance - 320) * mass[particleB]) / distance;\n            accelerationX += force * distanceX;\n            accelerationY += force * distanceY;\n          }\n        }\n\n        // Apply friction and acceleration\n        velocityX[particleA] =\n          velocityX[particleA] * 0.99 + accelerationX * mass[particleA];\n        velocityY[particleA] =\n          velocityY[particleA] * 0.99 + accelerationY * mass[particleA];\n      }\n\n      for (let particle = 0; particle < mass.length; particle++) {\n        positionX[particle] += velocityX[particle];\n        positionY[particle] += velocityY[particle];\n\n        p.ellipse(\n          positionX[particle],\n          positionY[particle],\n          mass[particle] * 1000,\n          mass[particle] * 1000\n        );\n      }\n    };\n\n    p.windowResized = () => {\n      p.resizeCanvas(p.windowWidth - 200, 240);\n    };\n\n    const addNewParticle = () => {\n      mass.push(p.random(0.003, 0.03));\n      positionX.push(p.mouseX);\n      positionY.push(p.mouseY);\n      velocityX.push(0);\n      velocityY.push(0);\n    };\n\n    p.mouseClicked = () => {\n      addNewParticle();\n    };\n\n    p.mouseDragged = () => {\n      addNewParticle();\n    };\n  }, []);\n\n  return <Basic sketch={sketch} />;\n};\n\nexport default ParticleSimulation;\n"],"names":["ParticleSimulation","sketch","useCallback","p","mass","positionX","positionY","velocityX","velocityY","particleA","accelerationX","accelerationY","particleB","distanceX","distanceY","distance","force","particle","addNewParticle","jsx","Basic"],"mappings":"ssBAMA,MAAMA,EAA+B,IAAM,CACnC,MAAAC,EAASC,cAAaC,GAAU,CAEpC,MAAMC,EAAiB,CAAC,EAClBC,EAAsB,CAAC,EACvBC,EAAsB,CAAC,EACvBC,EAAsB,CAAC,EACvBC,EAAsB,CAAC,EAG7BL,EAAE,MAAQ,IAAM,CACdA,EAAE,aAAaA,EAAE,YAAc,IAAK,GAAG,EACvCA,EAAE,SAAS,EACXA,EAAE,KAAK,GAAI,IAAK,IAAK,GAAG,CAC1B,EAGAA,EAAE,KAAO,IAAM,CACbA,EAAE,WAAW,EAAE,EAEf,QAASM,EAAY,EAAGA,EAAYL,EAAK,OAAQK,IAAa,CAC5D,IAAIC,EAAgB,EAChBC,EAAgB,EAEpB,QAASC,EAAY,EAAGA,EAAYR,EAAK,OAAQQ,IAC/C,GAAIH,IAAcG,EAAW,CAC3B,MAAMC,EAAYR,EAAUO,CAAS,EAAIP,EAAUI,CAAS,EACtDK,EAAYR,EAAUM,CAAS,EAAIN,EAAUG,CAAS,EAE5D,IAAIM,EAAWZ,EAAE,KACfU,EAAYA,EAAYC,EAAYA,CACtC,EACIC,EAAW,IAAcA,EAAA,GAE7B,MAAMC,GAAUD,EAAW,KAAOX,EAAKQ,CAAS,EAAKG,EACrDL,GAAiBM,EAAQH,EACzBF,GAAiBK,EAAQF,CAAA,CAKnBP,EAAAE,CAAS,EACjBF,EAAUE,CAAS,EAAI,IAAOC,EAAgBN,EAAKK,CAAS,EACpDD,EAAAC,CAAS,EACjBD,EAAUC,CAAS,EAAI,IAAOE,EAAgBP,EAAKK,CAAS,CAAA,CAGhE,QAASQ,EAAW,EAAGA,EAAWb,EAAK,OAAQa,IACnCZ,EAAAY,CAAQ,GAAKV,EAAUU,CAAQ,EAC/BX,EAAAW,CAAQ,GAAKT,EAAUS,CAAQ,EAEvCd,EAAA,QACAE,EAAUY,CAAQ,EAClBX,EAAUW,CAAQ,EAClBb,EAAKa,CAAQ,EAAI,IACjBb,EAAKa,CAAQ,EAAI,GACnB,CAEJ,EAEAd,EAAE,cAAgB,IAAM,CACtBA,EAAE,aAAaA,EAAE,YAAc,IAAK,GAAG,CACzC,EAEA,MAAMe,EAAiB,IAAM,CAC3Bd,EAAK,KAAKD,EAAE,OAAO,KAAO,GAAI,CAAC,EACrBE,EAAA,KAAKF,EAAE,MAAM,EACbG,EAAA,KAAKH,EAAE,MAAM,EACvBI,EAAU,KAAK,CAAC,EAChBC,EAAU,KAAK,CAAC,CAClB,EAEAL,EAAE,aAAe,IAAM,CACNe,EAAA,CACjB,EAEAf,EAAE,aAAe,IAAM,CACNe,EAAA,CACjB,CACF,EAAG,EAAE,EAEE,OAAAC,MAACC,GAAM,OAAAnB,EAAgB,CAChC"}