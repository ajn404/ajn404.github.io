import{j as s}from"./jsx-runtime.DZ3s2XAB.js";import{r as t}from"./index.D4IXJ7me.js";import{R as j}from"./index.Dgakj2qx.js";/* empty css                           */import"./_sentry-release-injection-file.B-UwqLso.js";import"./_commonjsHelpers.DqoTaOmB.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="583094e2-415c-445d-9e73-9d09c0bad23f",e._sentryDebugIdIdentifier="sentry-dbid-583094e2-415c-445d-9e73-9d09c0bad23f")}catch{}})();const H=({href:e,content:n,children:l,...d})=>{const[r,i]=t.useState(!1),[v,m]=t.useState({left:0,top:0}),f=t.useRef(null),c=t.useRef(null),a=t.useCallback(o=>{if(!c.current||!f.current)return;const k=f.current.getBoundingClientRect(),{clientX:M,clientY:u}=o,b=c.current.offsetHeight,R=c.current.offsetWidth,p=k.height;let h;u+b+p<=window.innerHeight?h=u+p:h=u-b-p;const g=M-R/2;console.log("leftPosition",g),m({left:g+100,top:h})},[]),x=t.useCallback(o=>{i(!0),requestAnimationFrame(()=>a(o))},[a]),y=t.useCallback(o=>{r&&a(o)},[r,a]),w=t.useCallback(()=>{i(!1)},[]);return t.useEffect(()=>{const o=()=>i(!1);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),s.jsxs("a",{href:e,...d,ref:f,onMouseOver:x,onMouseMove:y,onMouseLeave:w,children:[l,j.createPortal(r&&s.jsx("div",{ref:c,style:{position:"fixed",left:v.left,top:v.top,opacity:1,transform:"scale(1)",transition:"opacity 0.3s, transform 0.3s",padding:"10px",boxShadow:"0 2px 20px rgba(0,0,0,0.2)",backgroundColor:"transparent",width:"240px",pointerEvents:"none"},children:n}),document.body)]})},S=({url:e,img:n,content:l,text:d,className:r,style:i})=>s.jsx(H,{href:e,className:r,style:i,content:s.jsxs("div",{className:"hover-content",children:[n&&s.jsx("img",{src:n,alt:"预览"}),s.jsx("p",{children:l})]}),children:d});export{S as default};
//# sourceMappingURL=HoverLink.CidWR-9b.js.map
