{"version":3,"file":"Mover.DJ3EP4Mg.js","sources":["../../src/components/react/p5/Oscillation/Mover.ts"],"sourcesContent":["import type p5 from \"p5\";\n\nexport class Mover {\n  position: p5.Vector;\n  velocity: p5.Vector;\n  circleRadius: number = 20;\n  acceleration: p5.Vector;\n  p: p5;\n  color: p5.Color;\n  name: string = \"mover\";\n  angle: number = 0;\n  angleAcceleration: number = 0.001;\n  angleVelocity: number = 0;\n\n  constructor(p: p5) {\n    this.position = p.createVector(\n      p.random(this.circleRadius, p.width - this.circleRadius),\n      p.random(this.circleRadius + 1, p.height - this.circleRadius - 1)\n    );\n    this.velocity = p.createVector(p.random(-2, 2), p.random(-2, 2));\n    this.acceleration = p.createVector(0, 0);\n    this.p = p;\n    this.color = p.color(p.random(0, 255), p.random(0, 255), p.random(0, 255));\n  }\n\n  update() {\n    this.acceleration = this.p.createVector(\n      this.p.random(-0.01, 0.01),\n      this.p.random(-0.01, 0.01)\n    );\n    this.acceleration.mult(this.p.random(2));\n    this.velocity.limit(10);\n    this.velocity.add(this.acceleration);\n    this.position.add(this.velocity);\n    this.angleAcceleration = (this.p.width / 2 - this.position.x) / 10;\n    this.angleVelocity += this.angleAcceleration;\n\n    this.angleVelocity = this.p.constrain(this.angleVelocity, -0.1, 0.1);\n    this.angle += this.angleVelocity;\n    this.acceleration.mult(0);\n  }\n\n  show() {\n    const p = this.p;\n    p.stroke(0);\n    p.fill(this.color);\n    this.p.push();\n    p.translate(this.position.x, this.position.y);\n    p.rotate(this.angle);\n\n    p.strokeWeight(2);\n    p.circle(0, 0, this.circleRadius * 2);\n\n    p.stroke(p.map(this.position.x, 0, p.width, 0, 255));\n    p.line(-this.circleRadius, 0, this.circleRadius, 0);\n    p.stroke(p.map(this.position.x, p.width, 0, 0, 255));\n    p.line(0, -this.circleRadius, 0, this.circleRadius);\n    this.p.pop();\n  }\n\n  showName() {\n    const p = this.p;\n    const size = this.circleRadius / 2;\n    p.textSize(size);\n    p.fill(255);\n    p.text(\n      this.name,\n      this.position.x - (size * this.name.length) / 4,\n      this.position.y + size / 4\n    );\n    p.text(\n      `速度x: ${this.velocity.x.toFixed(2)},y: ${this.velocity.y.toFixed(2)}`,\n      this.position.x - (size * this.name.length) / 4,\n      this.position.y - size\n    );\n  }\n\n  checkEdges() {\n    const p = this.p;\n    if (\n      this.position.x + this.circleRadius > p.width ||\n      this.position.x < this.circleRadius\n    ) {\n      this.velocity.x *= -1;\n    }\n    if (\n      this.position.y + this.circleRadius > p.height ||\n      this.position.y < this.circleRadius\n    ) {\n      this.velocity.y *= -1;\n    }\n  }\n}\n"],"names":["Mover","p","size"],"mappings":"+YAEO,MAAMA,CAAM,CAYjB,YAAYC,EAAO,CATI,KAAA,aAAA,GAIR,KAAA,KAAA,QACC,KAAA,MAAA,EACY,KAAA,kBAAA,KACJ,KAAA,cAAA,EAGtB,KAAK,SAAWA,EAAE,aAChBA,EAAE,OAAO,KAAK,aAAcA,EAAE,MAAQ,KAAK,YAAY,EACvDA,EAAE,OAAO,KAAK,aAAe,EAAGA,EAAE,OAAS,KAAK,aAAe,CAAC,CAClE,EACA,KAAK,SAAWA,EAAE,aAAaA,EAAE,OAAO,GAAI,CAAC,EAAGA,EAAE,OAAO,GAAI,CAAC,CAAC,EAC/D,KAAK,aAAeA,EAAE,aAAa,EAAG,CAAC,EACvC,KAAK,EAAIA,EACT,KAAK,MAAQA,EAAE,MAAMA,EAAE,OAAO,EAAG,GAAG,EAAGA,EAAE,OAAO,EAAG,GAAG,EAAGA,EAAE,OAAO,EAAG,GAAG,CAAC,CAAA,CAG3E,QAAS,CACF,KAAA,aAAe,KAAK,EAAE,aACzB,KAAK,EAAE,OAAO,KAAO,GAAI,EACzB,KAAK,EAAE,OAAO,KAAO,GAAI,CAC3B,EACA,KAAK,aAAa,KAAK,KAAK,EAAE,OAAO,CAAC,CAAC,EAClC,KAAA,SAAS,MAAM,EAAE,EACjB,KAAA,SAAS,IAAI,KAAK,YAAY,EAC9B,KAAA,SAAS,IAAI,KAAK,QAAQ,EAC/B,KAAK,mBAAqB,KAAK,EAAE,MAAQ,EAAI,KAAK,SAAS,GAAK,GAChE,KAAK,eAAiB,KAAK,kBAE3B,KAAK,cAAgB,KAAK,EAAE,UAAU,KAAK,cAAe,IAAM,EAAG,EACnE,KAAK,OAAS,KAAK,cACd,KAAA,aAAa,KAAK,CAAC,CAAA,CAG1B,MAAO,CACL,MAAMA,EAAI,KAAK,EACfA,EAAE,OAAO,CAAC,EACRA,EAAA,KAAK,KAAK,KAAK,EACjB,KAAK,EAAE,KAAK,EACZA,EAAE,UAAU,KAAK,SAAS,EAAG,KAAK,SAAS,CAAC,EAC1CA,EAAA,OAAO,KAAK,KAAK,EAEnBA,EAAE,aAAa,CAAC,EAChBA,EAAE,OAAO,EAAG,EAAG,KAAK,aAAe,CAAC,EAElCA,EAAA,OAAOA,EAAE,IAAI,KAAK,SAAS,EAAG,EAAGA,EAAE,MAAO,EAAG,GAAG,CAAC,EACnDA,EAAE,KAAK,CAAC,KAAK,aAAc,EAAG,KAAK,aAAc,CAAC,EAChDA,EAAA,OAAOA,EAAE,IAAI,KAAK,SAAS,EAAGA,EAAE,MAAO,EAAG,EAAG,GAAG,CAAC,EACnDA,EAAE,KAAK,EAAG,CAAC,KAAK,aAAc,EAAG,KAAK,YAAY,EAClD,KAAK,EAAE,IAAI,CAAA,CAGb,UAAW,CACT,MAAMA,EAAI,KAAK,EACTC,EAAO,KAAK,aAAe,EACjCD,EAAE,SAASC,CAAI,EACfD,EAAE,KAAK,GAAG,EACRA,EAAA,KACA,KAAK,KACL,KAAK,SAAS,EAAKC,EAAO,KAAK,KAAK,OAAU,EAC9C,KAAK,SAAS,EAAIA,EAAO,CAC3B,EACED,EAAA,KACA,QAAQ,KAAK,SAAS,EAAE,QAAQ,CAAC,CAAC,OAAO,KAAK,SAAS,EAAE,QAAQ,CAAC,CAAC,GACnE,KAAK,SAAS,EAAKC,EAAO,KAAK,KAAK,OAAU,EAC9C,KAAK,SAAS,EAAIA,CACpB,CAAA,CAGF,YAAa,CACX,MAAMD,EAAI,KAAK,GAEb,KAAK,SAAS,EAAI,KAAK,aAAeA,EAAE,OACxC,KAAK,SAAS,EAAI,KAAK,gBAEvB,KAAK,SAAS,GAAK,KAGnB,KAAK,SAAS,EAAI,KAAK,aAAeA,EAAE,QACxC,KAAK,SAAS,EAAI,KAAK,gBAEvB,KAAK,SAAS,GAAK,GACrB,CAEJ"}