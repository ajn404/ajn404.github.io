{"version":3,"file":"suspenseA.BkUmX2eV.js","sources":["../../src/components/react/practice/suspenseA.tsx"],"sourcesContent":["import { Suspense } from \"react\";\n\nconst resource = (() => {\n  let data = null;\n  let status = \"pending\";\n  let fetcher = null;\n  return {\n    get() {\n      if (status === \"ready\") {\n        return data;\n      }\n      if (status === \"pending\") {\n        fetcher = new Promise((resolve, reject) => {\n          setTimeout(() => {\n            data = \"success\";\n            status = \"ready\";\n            resolve(null);\n          }, 1000);\n        });\n        status = \"fetching\";\n      }\n\n      throw fetcher;\n    },\n  };\n})();\n\nfunction A() {\n  console.log(\"suspenseA A1\");\n  const data = resource.get();\n  console.log(\"suspenseA A2\");\n  return <p>{data}</p>;\n}\n\nfunction Fallback() {\n  console.log(\"suspenseA fallback\");\n  return null;\n}\n\nexport default () => {\n  console.log(\"suspenseA App\");\n  return (\n    <div>\n      <Suspense fallback={<Fallback />}>\n        <A />\n      </Suspense>\n    </div>\n  );\n};\n"],"names":["resource","data","status","fetcher","resolve","reject","A","jsx","Fallback","suspenseA","Suspense"],"mappings":"4gBAEA,MAAMA,GAAkB,IAAA,CACtB,IAAIC,EAAO,KACPC,EAAS,UACTC,EAAU,KACP,MAAA,CACL,KAAM,CACJ,GAAID,IAAW,QACN,OAAAD,EAET,MAAIC,IAAW,YACbC,EAAU,IAAI,QAAQ,CAACC,EAASC,IAAW,CACzC,WAAW,IAAM,CACRJ,EAAA,UACEC,EAAA,QACTE,EAAQ,IAAI,GACX,GAAI,CAAA,CACR,EACQF,EAAA,YAGLC,CAAA,CAEV,CACF,GAAG,EAEH,SAASG,GAAI,CACX,QAAQ,IAAI,cAAc,EACpB,MAAAL,EAAOD,EAAS,IAAI,EAC1B,eAAQ,IAAI,cAAc,EACnBO,EAAA,IAAC,KAAG,SAAKN,CAAA,CAAA,CAClB,CAEA,SAASO,GAAW,CAClB,eAAQ,IAAI,oBAAoB,EACzB,IACT,CAEA,MAAAC,EAAe,KACb,QAAQ,IAAI,eAAe,EAEzBF,EAAAA,IAAC,MACC,CAAA,SAAAA,EAAAA,IAACG,EAAAA,SAAS,CAAA,SAAWH,EAAAA,IAAAC,EAAA,CAAA,CAAS,EAC5B,SAAAD,EAAAA,IAACD,EAAE,CAAA,CAAA,CACL,CAAA,EACF"}