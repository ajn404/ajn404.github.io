{"version":3,"file":"spaceShip.DM5bPg2l.js","sources":["../../src/components/react/p5/Oscillation/polar/spaceShip.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { useCallback } from \"react\";\n\nclass SpaceShip {\n  p: p5;\n  position: p5.Vector;\n  velocity: p5.Vector;\n  acceleration: p5.Vector;\n  angle: number = 0;\n\n  constructor(p: p5) {\n    this.p = p;\n    this.position = p.createVector(p.width / 2, p.height / 2);\n    this.velocity = p.createVector(0, 0);\n    this.acceleration = p.createVector(0, 0);\n    this.angle = 0;\n  }\n\n  move() {\n    const p = this.p;\n    if (p.keyIsPressed) {\n      if (p.keyCode === 65) {\n        this.acceleration = p.createVector(-0.1, 0);\n      } else if (p.keyCode === 68) {\n        this.acceleration = p.createVector(0.1, 0);\n      } else if (p.keyCode === 87) {\n        this.acceleration = p.createVector(0, -0.1);\n      } else if (p.keyCode === 83) {\n        this.acceleration = p.createVector(0, 0.1);\n      } else if (p.keyCode === 90) {\n        this.acceleration = this.acceleration.mult(20);\n      }\n    } else {\n      this.acceleration = p.createVector(0, 0);\n    }\n    this.acceleration.limit(0.1);\n    this.velocity.limit(1);\n    this.velocity.add(this.acceleration);\n    this.position.add(this.velocity);\n  }\n\n  checkEdges() {\n    const p = this.p;\n    if (this.position.x + 30 > p.width || this.position.x < 15)\n      this.velocity.x *= -1;\n    if (this.position.y + 30 > p.height || this.position.y < 5)\n      this.velocity.y *= -1;\n  }\n\n  show() {\n    let _ = this.p;\n    let angle = _.atan2(this.velocity.y, this.velocity.x);\n    _.push();\n    _.rectMode(_.CENTER);\n    _.fill(0);\n    _.stroke(100);\n    _.strokeWeight(2);\n    _.translate(this.position.x, this.position.y);\n    _.rotate(angle);\n    _.rect(0, 0, 30, 10);\n\n    _.beginShape();\n    _.vertex(0, -10);\n    _.vertex(30, 0);\n    _.vertex(0, 10);\n    _.endShape();\n\n    _.pop();\n  }\n}\n\nexport default () => {\n  let spaceShip: SpaceShip;\n  const sketch = useCallback((p: p5) => {\n    let c = p.random() * 255;\n    const setup = () => {\n      p.createCanvas(p.windowWidth / 2, p.windowWidth / 3);\n      spaceShip = new SpaceShip(p);\n    };\n    const draw = () => {\n      p.background(c);\n      spaceShip.move();\n      spaceShip.checkEdges();\n      spaceShip.show();\n    };\n    const resize = () => {\n      p.resizeCanvas(p.windowWidth / 2, p.windowWidth / 3);\n    };\n    window.addEventListener(\"keydown\", e => {\n      e.stopPropagation();\n    });\n    p.setup = setup;\n    p.draw = draw;\n    p.windowResized = resize;\n  }, []);\n  return (\n    <>\n      <div id=\"container\">\n        <Basic sketch={sketch} showControls></Basic>\n      </div>\n    </>\n  );\n};\n"],"names":["SpaceShip","p","_","angle","spaceShip","sketch","useCallback","c","setup","draw","resize","e","jsx","Fragment","Basic"],"mappings":"ssBAIA,MAAMA,CAAU,CAOd,YAAYC,EAAO,CAFH,KAAA,MAAA,EAGd,KAAK,EAAIA,EACJ,KAAA,SAAWA,EAAE,aAAaA,EAAE,MAAQ,EAAGA,EAAE,OAAS,CAAC,EACxD,KAAK,SAAWA,EAAE,aAAa,EAAG,CAAC,EACnC,KAAK,aAAeA,EAAE,aAAa,EAAG,CAAC,EACvC,KAAK,MAAQ,CAAA,CAGf,MAAO,CACL,MAAMA,EAAI,KAAK,EACXA,EAAE,aACAA,EAAE,UAAY,GAChB,KAAK,aAAeA,EAAE,aAAa,IAAM,CAAC,EACjCA,EAAE,UAAY,GACvB,KAAK,aAAeA,EAAE,aAAa,GAAK,CAAC,EAChCA,EAAE,UAAY,GACvB,KAAK,aAAeA,EAAE,aAAa,EAAG,GAAI,EACjCA,EAAE,UAAY,GACvB,KAAK,aAAeA,EAAE,aAAa,EAAG,EAAG,EAChCA,EAAE,UAAY,KACvB,KAAK,aAAe,KAAK,aAAa,KAAK,EAAE,GAG/C,KAAK,aAAeA,EAAE,aAAa,EAAG,CAAC,EAEpC,KAAA,aAAa,MAAM,EAAG,EACtB,KAAA,SAAS,MAAM,CAAC,EAChB,KAAA,SAAS,IAAI,KAAK,YAAY,EAC9B,KAAA,SAAS,IAAI,KAAK,QAAQ,CAAA,CAGjC,YAAa,CACX,MAAMA,EAAI,KAAK,GACX,KAAK,SAAS,EAAI,GAAKA,EAAE,OAAS,KAAK,SAAS,EAAI,MACtD,KAAK,SAAS,GAAK,KACjB,KAAK,SAAS,EAAI,GAAKA,EAAE,QAAU,KAAK,SAAS,EAAI,KACvD,KAAK,SAAS,GAAK,GAAA,CAGvB,MAAO,CACL,IAAIC,EAAI,KAAK,EACTC,EAAQD,EAAE,MAAM,KAAK,SAAS,EAAG,KAAK,SAAS,CAAC,EACpDA,EAAE,KAAK,EACLA,EAAA,SAASA,EAAE,MAAM,EACnBA,EAAE,KAAK,CAAC,EACRA,EAAE,OAAO,GAAG,EACZA,EAAE,aAAa,CAAC,EAChBA,EAAE,UAAU,KAAK,SAAS,EAAG,KAAK,SAAS,CAAC,EAC5CA,EAAE,OAAOC,CAAK,EACdD,EAAE,KAAK,EAAG,EAAG,GAAI,EAAE,EAEnBA,EAAE,WAAW,EACXA,EAAA,OAAO,EAAG,GAAG,EACbA,EAAA,OAAO,GAAI,CAAC,EACZA,EAAA,OAAO,EAAG,EAAE,EACdA,EAAE,SAAS,EAEXA,EAAE,IAAI,CAAA,CAEV,CAEA,MAAAE,EAAe,IAAM,CACf,IAAAA,EACE,MAAAC,EAASC,cAAaL,GAAU,CAChC,IAAAM,EAAIN,EAAE,OAAA,EAAW,IACrB,MAAMO,EAAQ,IAAM,CAClBP,EAAE,aAAaA,EAAE,YAAc,EAAGA,EAAE,YAAc,CAAC,EACvCG,EAAA,IAAIJ,EAAUC,CAAC,CAC7B,EACMQ,EAAO,IAAM,CACjBR,EAAE,WAAWM,CAAC,EACdH,EAAU,KAAK,EACfA,EAAU,WAAW,EACrBA,EAAU,KAAK,CACjB,EACMM,EAAS,IAAM,CACnBT,EAAE,aAAaA,EAAE,YAAc,EAAGA,EAAE,YAAc,CAAC,CACrD,EACO,OAAA,iBAAiB,UAAgBU,GAAA,CACtCA,EAAE,gBAAgB,CAAA,CACnB,EACDV,EAAE,MAAQO,EACVP,EAAE,KAAOQ,EACTR,EAAE,cAAgBS,CACpB,EAAG,EAAE,EAEH,OAAAE,EAAAA,IAAAC,EAAAA,SAAA,CACE,SAACD,EAAAA,IAAA,MAAA,CAAI,GAAG,YACN,SAACA,EAAA,IAAAE,EAAA,CAAM,OAAAT,EAAgB,aAAY,EAAC,CAAA,CACtC,CAAA,EACF,CAEJ"}