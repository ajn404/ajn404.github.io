{"version":3,"file":"impress.CHyOt_Br.js","sources":["../../node_modules/.pnpm/impress.js@1.1.0/node_modules/impress.js/js/impress.js"],"sourcesContent":["// This file was automatically generated from files in src/ directory.\n\n/*! Licensed under MIT License - http://github.com/impress/impress.js */\n/**\n * impress.js\n *\n * impress.js is a presentation tool based on the power of CSS3 transforms and transitions\n * in modern browsers and inspired by the idea behind prezi.com.\n *\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz), 2016-2020 Henrik Ingo (@henrikingo)\n *\n * Released under the MIT License.\n *\n * ------------------------------------------------\n *  author:  Bartek Szopka, Henrik Ingo\n *  version: 1.1.0\n *  url:     http://impress.js.org\n *  source:  http://github.com/impress/impress.js/\n */\n\n// You are one of those who like to know how things work inside?\n// Let me show you the cogs that make impress.js run...\n( function( document, window ) {\n    \"use strict\";\n    var lib;\n\n    // HELPER FUNCTIONS\n\n    // `pfx` is a function that takes a standard CSS property name as a parameter\n    // and returns it's prefixed version valid for current browser it runs in.\n    // The code is heavily inspired by Modernizr http://www.modernizr.com/\n    var pfx = ( function() {\n\n        var style = document.createElement( \"dummy\" ).style,\n            prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n            memory = {};\n\n        return function( prop ) {\n            if ( typeof memory[ prop ] === \"undefined\" ) {\n\n                var ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                    props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n                memory[ prop ] = null;\n                for ( var i in props ) {\n                    if ( style[ props[ i ] ] !== undefined ) {\n                        memory[ prop ] = props[ i ];\n                        break;\n                    }\n                }\n\n            }\n\n            return memory[ prop ];\n        };\n\n    } )();\n\n    var validateOrder = function( order, fallback ) {\n        var validChars = \"xyz\";\n        var returnStr = \"\";\n        if ( typeof order === \"string\" ) {\n            for ( var i in order.split( \"\" ) ) {\n                if ( validChars.indexOf( order[ i ] ) >= 0 ) {\n                    returnStr += order[ i ];\n\n                    // Each of x,y,z can be used only once.\n                    validChars = validChars.split( order[ i ] ).join( \"\" );\n                }\n            }\n        }\n        if ( returnStr ) {\n            return returnStr;\n        } else if ( fallback !== undefined ) {\n            return fallback;\n        } else {\n            return \"xyz\";\n        }\n    };\n\n    // `css` function applies the styles given in `props` object to the element\n    // given as `el`. It runs all property names through `pfx` function to make\n    // sure proper prefixed version of the property is used.\n    var css = function( el, props ) {\n        var key, pkey;\n        for ( key in props ) {\n            if ( props.hasOwnProperty( key ) ) {\n                pkey = pfx( key );\n                if ( pkey !== null ) {\n                    el.style[ pkey ] = props[ key ];\n                }\n            }\n        }\n        return el;\n    };\n\n    // `translate` builds a translate transform string for given data.\n    var translate = function( t ) {\n        return \" translate3d(\" + t.x + \"px,\" + t.y + \"px,\" + t.z + \"px) \";\n    };\n\n    // `rotate` builds a rotate transform string for given data.\n    // By default the rotations are in X Y Z order that can be reverted by passing `true`\n    // as second parameter.\n    var rotate = function( r, revert ) {\n        var order = r.order ? r.order : \"xyz\";\n        var css = \"\";\n        var axes = order.split( \"\" );\n        if ( revert ) {\n            axes = axes.reverse();\n        }\n\n        for ( var i = 0; i < axes.length; i++ ) {\n            css += \" rotate\" + axes[ i ].toUpperCase() + \"(\" + r[ axes[ i ] ] + \"deg)\";\n        }\n        return css;\n    };\n\n    // `scale` builds a scale transform string for given data.\n    var scale = function( s ) {\n        return \" scale(\" + s + \") \";\n    };\n\n    // `computeWindowScale` counts the scale factor between window size and size\n    // defined for the presentation in the config.\n    var computeWindowScale = function( config ) {\n        var hScale = window.innerHeight / config.height,\n            wScale = window.innerWidth / config.width,\n            scale = hScale > wScale ? wScale : hScale;\n\n        if ( config.maxScale && scale > config.maxScale ) {\n            scale = config.maxScale;\n        }\n\n        if ( config.minScale && scale < config.minScale ) {\n            scale = config.minScale;\n        }\n\n        return scale;\n    };\n\n    // CHECK SUPPORT\n    var body = document.body;\n    var impressSupported =\n\n                          // Browser should support CSS 3D transtorms\n                           ( pfx( \"perspective\" ) !== null ) &&\n\n                          // And `classList` and `dataset` APIs\n                           ( body.classList ) &&\n                           ( body.dataset );\n\n    if ( !impressSupported ) {\n\n        // We can't be sure that `classList` is supported\n        body.className += \" impress-not-supported \";\n    }\n\n    // GLOBALS AND DEFAULTS\n\n    // This is where the root elements of all impress.js instances will be kept.\n    // Yes, this means you can have more than one instance on a page, but I'm not\n    // sure if it makes any sense in practice ;)\n    var roots = {};\n\n    var preInitPlugins = [];\n    var preStepLeavePlugins = [];\n\n    // Some default config values.\n    var defaults = {\n        width: 1024,\n        height: 768,\n        maxScale: 1,\n        minScale: 0,\n\n        perspective: 1000,\n\n        transitionDuration: 1000\n    };\n\n    // It's just an empty function ... and a useless comment.\n    var empty = function() { return false; };\n\n    // IMPRESS.JS API\n\n    // And that's where interesting things will start to happen.\n    // It's the core `impress` function that returns the impress.js API\n    // for a presentation based on the element with given id (\"impress\"\n    // by default).\n    var impress = window.impress = function( rootId ) {\n\n        // If impress.js is not supported by the browser return a dummy API\n        // it may not be a perfect solution but we return early and avoid\n        // running code that may use features not implemented in the browser.\n        if ( !impressSupported ) {\n            return {\n                init: empty,\n                goto: empty,\n                prev: empty,\n                next: empty,\n                swipe: empty,\n                tear: empty,\n                lib: {}\n            };\n        }\n\n        rootId = rootId || \"impress\";\n\n        // If given root is already initialized just return the API\n        if ( roots[ \"impress-root-\" + rootId ] ) {\n            return roots[ \"impress-root-\" + rootId ];\n        }\n\n        // The gc library depends on being initialized before we do any changes to DOM.\n        lib = initLibraries( rootId );\n\n        body.classList.remove( \"impress-not-supported\" );\n        body.classList.add( \"impress-supported\" );\n\n        // Data of all presentation steps\n        var stepsData = {};\n\n        // Element of currently active step\n        var activeStep = null;\n\n        // Current state (position, rotation and scale) of the presentation\n        var currentState = null;\n\n        // Array of step elements\n        var steps = null;\n\n        // Configuration options\n        var config = null;\n\n        // Scale factor of the browser window\n        var windowScale = null;\n\n        // Root presentation elements\n        var root = lib.util.byId( rootId );\n        var canvas = document.createElement( \"div\" );\n\n        var initialized = false;\n\n        // STEP EVENTS\n        //\n        // There are currently two step events triggered by impress.js\n        // `impress:stepenter` is triggered when the step is shown on the\n        // screen (the transition from the previous one is finished) and\n        // `impress:stepleave` is triggered when the step is left (the\n        // transition to next step just starts).\n\n        // Reference to last entered step\n        var lastEntered = null;\n\n        // `onStepEnter` is called whenever the step element is entered\n        // but the event is triggered only if the step is different than\n        // last entered step.\n        // We sometimes call `goto`, and therefore `onStepEnter`, just to redraw a step, such as\n        // after screen resize. In this case - more precisely, in any case - we trigger a\n        // `impress:steprefresh` event.\n        var onStepEnter = function( step ) {\n            if ( lastEntered !== step ) {\n                lib.util.triggerEvent( step, \"impress:stepenter\" );\n                lastEntered = step;\n            }\n            lib.util.triggerEvent( step, \"impress:steprefresh\" );\n        };\n\n        // `onStepLeave` is called whenever the currentStep element is left\n        // but the event is triggered only if the currentStep is the same as\n        // lastEntered step.\n        var onStepLeave = function( currentStep, nextStep ) {\n            if ( lastEntered === currentStep ) {\n                lib.util.triggerEvent( currentStep, \"impress:stepleave\", { next: nextStep } );\n                lastEntered = null;\n            }\n        };\n\n        // `initStep` initializes given step element by reading data from its\n        // data attributes and setting correct styles.\n        var initStep = function( el, idx ) {\n            var data = el.dataset,\n                step = {\n                    translate: {\n                        x: lib.util.toNumber( data.x ),\n                        y: lib.util.toNumber( data.y ),\n                        z: lib.util.toNumber( data.z )\n                    },\n                    rotate: {\n                        x: lib.util.toNumber( data.rotateX ),\n                        y: lib.util.toNumber( data.rotateY ),\n                        z: lib.util.toNumber( data.rotateZ || data.rotate ),\n                        order: validateOrder( data.rotateOrder )\n                    },\n                    scale: lib.util.toNumber( data.scale, 1 ),\n                    transitionDuration: lib.util.toNumber(\n                        data.transitionDuration, config.transitionDuration\n                    ),\n                    el: el\n                };\n\n            if ( !el.id ) {\n                el.id = \"step-\" + ( idx + 1 );\n            }\n\n            stepsData[ \"impress-\" + el.id ] = step;\n\n            css( el, {\n                position: \"absolute\",\n                transform: \"translate(-50%,-50%)\" +\n                           translate( step.translate ) +\n                           rotate( step.rotate ) +\n                           scale( step.scale ),\n                transformStyle: \"preserve-3d\"\n            } );\n        };\n\n        // Initialize all steps.\n        // Read the data-* attributes, store in internal stepsData, and render with CSS.\n        var initAllSteps = function() {\n            steps = lib.util.$$( \".step\", root );\n            steps.forEach( initStep );\n        };\n\n        // `init` API function that initializes (and runs) the presentation.\n        var init = function() {\n            if ( initialized ) { return; }\n            execPreInitPlugins( root );\n\n            // First we set up the viewport for mobile devices.\n            // For some reason iPad goes nuts when it is not done properly.\n            var meta = lib.util.$( \"meta[name='viewport']\" ) || document.createElement( \"meta\" );\n            meta.content = \"width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no\";\n            if ( meta.parentNode !== document.head ) {\n                meta.name = \"viewport\";\n                document.head.appendChild( meta );\n            }\n\n            // Initialize configuration object\n            var rootData = root.dataset;\n            config = {\n                width: lib.util.toNumber( rootData.width, defaults.width ),\n                height: lib.util.toNumber( rootData.height, defaults.height ),\n                maxScale: lib.util.toNumber( rootData.maxScale, defaults.maxScale ),\n                minScale: lib.util.toNumber( rootData.minScale, defaults.minScale ),\n                perspective: lib.util.toNumber( rootData.perspective, defaults.perspective ),\n                transitionDuration: lib.util.toNumber(\n                    rootData.transitionDuration, defaults.transitionDuration\n                )\n            };\n\n            windowScale = computeWindowScale( config );\n\n            // Wrap steps with \"canvas\" element\n            lib.util.arrayify( root.childNodes ).forEach( function( el ) {\n                canvas.appendChild( el );\n            } );\n            root.appendChild( canvas );\n\n            // Set initial styles\n            document.documentElement.style.height = \"100%\";\n\n            css( body, {\n                height: \"100%\",\n                overflow: \"hidden\"\n            } );\n\n            var rootStyles = {\n                position: \"absolute\",\n                transformOrigin: \"top left\",\n                transition: \"all 0s ease-in-out\",\n                transformStyle: \"preserve-3d\"\n            };\n\n            css( root, rootStyles );\n            css( root, {\n                top: \"50%\",\n                left: \"50%\",\n                perspective: ( config.perspective / windowScale ) + \"px\",\n                transform: scale( windowScale )\n            } );\n            css( canvas, rootStyles );\n\n            body.classList.remove( \"impress-disabled\" );\n            body.classList.add( \"impress-enabled\" );\n\n            // Get and init steps\n            initAllSteps();\n\n            // Set a default initial state of the canvas\n            currentState = {\n                translate: { x: 0, y: 0, z: 0 },\n                rotate:    { x: 0, y: 0, z: 0, order: \"xyz\" },\n                scale:     1\n            };\n\n            initialized = true;\n\n            lib.util.triggerEvent( root, \"impress:init\",\n                                   { api: roots[ \"impress-root-\" + rootId ] } );\n        };\n\n        // `getStep` is a helper function that returns a step element defined by parameter.\n        // If a number is given, step with index given by the number is returned, if a string\n        // is given step element with such id is returned, if DOM element is given it is returned\n        // if it is a correct step element.\n        var getStep = function( step ) {\n            if ( typeof step === \"number\" ) {\n                step = step < 0 ? steps[ steps.length + step ] : steps[ step ];\n            } else if ( typeof step === \"string\" ) {\n                step = lib.util.byId( step );\n            }\n            return ( step && step.id && stepsData[ \"impress-\" + step.id ] ) ? step : null;\n        };\n\n        // Used to reset timeout for `impress:stepenter` event\n        var stepEnterTimeout = null;\n\n        // `goto` API function that moves to step given as `el` parameter (by index, id or element).\n        // `duration` optionally given as second parameter, is the transition duration in css.\n        // `reason` is the string \"next\", \"prev\" or \"goto\" (default) and will be made available to\n        // preStepLeave plugins.\n        // `origEvent` may contain event that caused the call to goto, such as a key press event\n        var goto = function( el, duration, reason, origEvent ) {\n            reason = reason || \"goto\";\n            origEvent = origEvent || null;\n\n            if ( !initialized ) {\n                return false;\n            }\n\n            // Re-execute initAllSteps for each transition. This allows to edit step attributes\n            // dynamically, such as change their coordinates, or even remove or add steps, and have\n            // that change apply when goto() is called.\n            initAllSteps();\n\n            if ( !( el = getStep( el ) ) ) {\n                return false;\n            }\n\n            // Sometimes it's possible to trigger focus on first link with some keyboard action.\n            // Browser in such a case tries to scroll the page to make this element visible\n            // (even that body overflow is set to hidden) and it breaks our careful positioning.\n            //\n            // So, as a lousy (and lazy) workaround we will make the page scroll back to the top\n            // whenever slide is selected\n            //\n            // If you are reading this and know any better way to handle it, I'll be glad to hear\n            // about it!\n            window.scrollTo( 0, 0 );\n\n            var step = stepsData[ \"impress-\" + el.id ];\n            duration = ( duration !== undefined ? duration : step.transitionDuration );\n\n            // If we are in fact moving to another step, start with executing the registered\n            // preStepLeave plugins.\n            if ( activeStep && activeStep !== el ) {\n                var event = { target: activeStep, detail: {} };\n                event.detail.next = el;\n                event.detail.transitionDuration = duration;\n                event.detail.reason = reason;\n                if ( origEvent ) {\n                    event.origEvent = origEvent;\n                }\n\n                if ( execPreStepLeavePlugins( event ) === false ) {\n\n                    // PreStepLeave plugins are allowed to abort the transition altogether, by\n                    // returning false.\n                    // see stop and substep plugins for an example of doing just that\n                    return false;\n                }\n\n                // Plugins are allowed to change the detail values\n                el = event.detail.next;\n                step = stepsData[ \"impress-\" + el.id ];\n                duration = event.detail.transitionDuration;\n            }\n\n            if ( activeStep ) {\n                activeStep.classList.remove( \"active\" );\n                body.classList.remove( \"impress-on-\" + activeStep.id );\n            }\n            el.classList.add( \"active\" );\n\n            body.classList.add( \"impress-on-\" + el.id );\n\n            // Compute target state of the canvas based on given step\n            var target = {\n                rotate: {\n                    x: -step.rotate.x,\n                    y: -step.rotate.y,\n                    z: -step.rotate.z,\n                    order: step.rotate.order\n                },\n                translate: {\n                    x: -step.translate.x,\n                    y: -step.translate.y,\n                    z: -step.translate.z\n                },\n                scale: 1 / step.scale\n            };\n\n            // Check if the transition is zooming in or not.\n            //\n            // This information is used to alter the transition style:\n            // when we are zooming in - we start with move and rotate transition\n            // and the scaling is delayed, but when we are zooming out we start\n            // with scaling down and move and rotation are delayed.\n            var zoomin = target.scale >= currentState.scale;\n\n            duration = lib.util.toNumber( duration, config.transitionDuration );\n            var delay = ( duration / 2 );\n\n            // If the same step is re-selected, force computing window scaling,\n            // because it is likely to be caused by window resize\n            if ( el === activeStep ) {\n                windowScale = computeWindowScale( config );\n            }\n\n            var targetScale = target.scale * windowScale;\n\n            // Trigger leave of currently active element (if it's not the same step again)\n            if ( activeStep && activeStep !== el ) {\n                onStepLeave( activeStep, el );\n            }\n\n            // Now we alter transforms of `root` and `canvas` to trigger transitions.\n            //\n            // And here is why there are two elements: `root` and `canvas` - they are\n            // being animated separately:\n            // `root` is used for scaling and `canvas` for translate and rotations.\n            // Transitions on them are triggered with different delays (to make\n            // visually nice and \"natural\" looking transitions), so we need to know\n            // that both of them are finished.\n            css( root, {\n\n                // To keep the perspective look similar for different scales\n                // we need to \"scale\" the perspective, too\n                // For IE 11 support we must specify perspective independent\n                // of transform.\n                perspective: ( config.perspective / targetScale ) + \"px\",\n                transform: scale( targetScale ),\n                transitionDuration: duration + \"ms\",\n                transitionDelay: ( zoomin ? delay : 0 ) + \"ms\"\n            } );\n\n            css( canvas, {\n                transform: rotate( target.rotate, true ) + translate( target.translate ),\n                transitionDuration: duration + \"ms\",\n                transitionDelay: ( zoomin ? 0 : delay ) + \"ms\"\n            } );\n\n            // Here is a tricky part...\n            //\n            // If there is no change in scale or no change in rotation and translation, it means\n            // there was actually no delay - because there was no transition on `root` or `canvas`\n            // elements. We want to trigger `impress:stepenter` event in the correct moment, so\n            // here we compare the current and target values to check if delay should be taken into\n            // account.\n            //\n            // I know that this `if` statement looks scary, but it's pretty simple when you know\n            // what is going on - it's simply comparing all the values.\n            if ( currentState.scale === target.scale ||\n                ( currentState.rotate.x === target.rotate.x &&\n                  currentState.rotate.y === target.rotate.y &&\n                  currentState.rotate.z === target.rotate.z &&\n                  currentState.translate.x === target.translate.x &&\n                  currentState.translate.y === target.translate.y &&\n                  currentState.translate.z === target.translate.z ) ) {\n                delay = 0;\n            }\n\n            // Store current state\n            currentState = target;\n            activeStep = el;\n\n            // And here is where we trigger `impress:stepenter` event.\n            // We simply set up a timeout to fire it taking transition duration (and possible delay)\n            // into account.\n            //\n            // I really wanted to make it in more elegant way. The `transitionend` event seemed to\n            // be the best way to do it, but the fact that I'm using transitions on two separate\n            // elements and that the `transitionend` event is only triggered when there was a\n            // transition (change in the values) caused some bugs and made the code really\n            // complicated, cause I had to handle all the conditions separately. And it still\n            // needed a `setTimeout` fallback for the situations when there is no transition at all.\n            // So I decided that I'd rather make the code simpler than use shiny new\n            // `transitionend`.\n            //\n            // If you want learn something interesting and see how it was done with `transitionend`\n            // go back to version 0.5.2 of impress.js:\n            // http://github.com/bartaz/impress.js/blob/0.5.2/js/impress.js\n            window.clearTimeout( stepEnterTimeout );\n            stepEnterTimeout = window.setTimeout( function() {\n                onStepEnter( activeStep );\n            }, duration + delay );\n\n            return el;\n        };\n\n        // `prev` API function goes to previous step (in document order)\n        // `event` is optional, may contain the event that caused the need to call prev()\n        var prev = function( origEvent ) {\n            var prev = steps.indexOf( activeStep ) - 1;\n            prev = prev >= 0 ? steps[ prev ] : steps[ steps.length - 1 ];\n\n            return goto( prev, undefined, \"prev\", origEvent );\n        };\n\n        // `next` API function goes to next step (in document order)\n        // `event` is optional, may contain the event that caused the need to call next()\n        var next = function( origEvent ) {\n            var next = steps.indexOf( activeStep ) + 1;\n            next = next < steps.length ? steps[ next ] : steps[ 0 ];\n\n            return goto( next, undefined, \"next\", origEvent );\n        };\n\n        // Swipe for touch devices by @and3rson.\n        // Below we extend the api to control the animation between the currently\n        // active step and a presumed next/prev step. See touch plugin for\n        // an example of using this api.\n\n        // Helper function\n        var interpolate = function( a, b, k ) {\n            return a + ( b - a ) * k;\n        };\n\n        // Animate a swipe.\n        //\n        // Pct is a value between -1.0 and +1.0, designating the current length\n        // of the swipe.\n        //\n        // If pct is negative, swipe towards the next() step, if positive,\n        // towards the prev() step.\n        //\n        // Note that pre-stepleave plugins such as goto can mess with what is a\n        // next() and prev() step, so we need to trigger the pre-stepleave event\n        // here, even if a swipe doesn't guarantee that the transition will\n        // actually happen.\n        //\n        // Calling swipe(), with any value of pct, won't in itself cause a\n        // transition to happen, this is just to animate the swipe. Once the\n        // transition is committed - such as at a touchend event - caller is\n        // responsible for also calling prev()/next() as appropriate.\n        //\n        // Note: For now, this function is made available to be used by the swipe plugin (which\n        // is the UI counterpart to this). It is a semi-internal API and intentionally not\n        // documented in DOCUMENTATION.md.\n        var swipe = function( pct ) {\n            if ( Math.abs( pct ) > 1 ) {\n                return;\n            }\n\n            // Prepare & execute the preStepLeave event\n            var event = { target: activeStep, detail: {} };\n            event.detail.swipe = pct;\n\n            // Will be ignored within swipe animation, but just in case a plugin wants to read this,\n            // humor them\n            event.detail.transitionDuration = config.transitionDuration;\n            var idx; // Needed by jshint\n            if ( pct < 0 ) {\n                idx = steps.indexOf( activeStep ) + 1;\n                event.detail.next = idx < steps.length ? steps[ idx ] : steps[ 0 ];\n                event.detail.reason = \"next\";\n            } else if ( pct > 0 ) {\n                idx = steps.indexOf( activeStep ) - 1;\n                event.detail.next = idx >= 0 ? steps[ idx ] : steps[ steps.length - 1 ];\n                event.detail.reason = \"prev\";\n            } else {\n\n                // No move\n                return;\n            }\n            if ( execPreStepLeavePlugins( event ) === false ) {\n\n                // If a preStepLeave plugin wants to abort the transition, don't animate a swipe\n                // For stop, this is probably ok. For substep, the plugin it self might want to do\n                // some animation, but that's not the current implementation.\n                return false;\n            }\n            var nextElement = event.detail.next;\n\n            var nextStep = stepsData[ \"impress-\" + nextElement.id ];\n\n            // If the same step is re-selected, force computing window scaling,\n            var nextScale = nextStep.scale * windowScale;\n            var k = Math.abs( pct );\n\n            var interpolatedStep = {\n                translate: {\n                    x: interpolate( currentState.translate.x, -nextStep.translate.x, k ),\n                    y: interpolate( currentState.translate.y, -nextStep.translate.y, k ),\n                    z: interpolate( currentState.translate.z, -nextStep.translate.z, k )\n                },\n                rotate: {\n                    x: interpolate( currentState.rotate.x, -nextStep.rotate.x, k ),\n                    y: interpolate( currentState.rotate.y, -nextStep.rotate.y, k ),\n                    z: interpolate( currentState.rotate.z, -nextStep.rotate.z, k ),\n\n                    // Unfortunately there's a discontinuity if rotation order changes. Nothing I\n                    // can do about it?\n                    order: k < 0.7 ? currentState.rotate.order : nextStep.rotate.order\n                },\n                scale: interpolate( currentState.scale * windowScale, nextScale, k )\n            };\n\n            css( root, {\n\n                // To keep the perspective look similar for different scales\n                // we need to 'scale' the perspective, too\n                perspective: config.perspective / interpolatedStep.scale + \"px\",\n                transform: scale( interpolatedStep.scale ),\n                transitionDuration: \"0ms\",\n                transitionDelay: \"0ms\"\n            } );\n\n            css( canvas, {\n                transform: rotate( interpolatedStep.rotate, true ) +\n                           translate( interpolatedStep.translate ),\n                transitionDuration: \"0ms\",\n                transitionDelay: \"0ms\"\n            } );\n        };\n\n        // Teardown impress\n        // Resets the DOM to the state it was before impress().init() was called.\n        // (If you called impress(rootId).init() for multiple different rootId's, then you must\n        // also call tear() once for each of them.)\n        var tear = function() {\n            lib.gc.teardown();\n            delete roots[ \"impress-root-\" + rootId ];\n        };\n\n        // Adding some useful classes to step elements.\n        //\n        // All the steps that have not been shown yet are given `future` class.\n        // When the step is entered the `future` class is removed and the `present`\n        // class is given. When the step is left `present` class is replaced with\n        // `past` class.\n        //\n        // So every step element is always in one of three possible states:\n        // `future`, `present` and `past`.\n        //\n        // There classes can be used in CSS to style different types of steps.\n        // For example the `present` class can be used to trigger some custom\n        // animations when step is shown.\n        lib.gc.addEventListener( root, \"impress:init\", function() {\n\n            // STEP CLASSES\n            steps.forEach( function( step ) {\n                step.classList.add( \"future\" );\n            } );\n\n            lib.gc.addEventListener( root, \"impress:stepenter\", function( event ) {\n                event.target.classList.remove( \"past\" );\n                event.target.classList.remove( \"future\" );\n                event.target.classList.add( \"present\" );\n            }, false );\n\n            lib.gc.addEventListener( root, \"impress:stepleave\", function( event ) {\n                event.target.classList.remove( \"present\" );\n                event.target.classList.add( \"past\" );\n            }, false );\n\n        }, false );\n\n        // Adding hash change support.\n        lib.gc.addEventListener( root, \"impress:init\", function() {\n\n            // Last hash detected\n            var lastHash = \"\";\n\n            // `#/step-id` is used instead of `#step-id` to prevent default browser\n            // scrolling to element in hash.\n            //\n            // And it has to be set after animation finishes, because in Chrome it\n            // makes transtion laggy.\n            // BUG: http://code.google.com/p/chromium/issues/detail?id=62820\n            lib.gc.addEventListener( root, \"impress:stepenter\", function( event ) {\n                window.location.hash = lastHash = \"#/\" + event.target.id;\n            }, false );\n\n            lib.gc.addEventListener( window, \"hashchange\", function() {\n\n                // When the step is entered hash in the location is updated\n                // (just few lines above from here), so the hash change is\n                // triggered and we would call `goto` again on the same element.\n                //\n                // To avoid this we store last entered hash and compare.\n                if ( window.location.hash !== lastHash ) {\n                    goto( lib.util.getElementFromHash() );\n                }\n            }, false );\n\n            // START\n            // by selecting step defined in url or first step of the presentation\n            goto( lib.util.getElementFromHash() || steps[ 0 ], 0 );\n        }, false );\n\n        body.classList.add( \"impress-disabled\" );\n\n        // Store and return API for given impress.js root element\n        return ( roots[ \"impress-root-\" + rootId ] = {\n            init: init,\n            goto: goto,\n            next: next,\n            prev: prev,\n            swipe: swipe,\n            tear: tear,\n            lib: lib\n        } );\n\n    };\n\n    // Flag that can be used in JS to check if browser have passed the support test\n    impress.supported = impressSupported;\n\n    // ADD and INIT LIBRARIES\n    // Library factories are defined in src/lib/*.js, and register themselves by calling\n    // impress.addLibraryFactory(libraryFactoryObject). They're stored here, and used to augment\n    // the API with library functions when client calls impress(rootId).\n    // See src/lib/README.md for clearer example.\n    // (Advanced usage: For different values of rootId, a different instance of the libaries are\n    // generated, in case they need to hold different state for different root elements.)\n    var libraryFactories = {};\n    impress.addLibraryFactory = function( obj ) {\n        for ( var libname in obj ) {\n            if ( obj.hasOwnProperty( libname ) ) {\n                libraryFactories[ libname ] = obj[ libname ];\n            }\n        }\n    };\n\n    // Call each library factory, and return the lib object that is added to the api.\n    var initLibraries = function( rootId ) { //jshint ignore:line\n        var lib = {};\n        for ( var libname in libraryFactories ) {\n            if ( libraryFactories.hasOwnProperty( libname ) ) {\n                if ( lib[ libname ] !== undefined ) {\n                    throw \"impress.js ERROR: Two libraries both tried to use libname: \" +  libname;\n                }\n                lib[ libname ] = libraryFactories[ libname ]( rootId );\n            }\n        }\n        return lib;\n    };\n\n    // `addPreInitPlugin` allows plugins to register a function that should\n    // be run (synchronously) at the beginning of init, before\n    // impress().init() itself executes.\n    impress.addPreInitPlugin = function( plugin, weight ) {\n        weight = parseInt( weight ) || 10;\n        if ( weight <= 0 ) {\n            throw \"addPreInitPlugin: weight must be a positive integer\";\n        }\n\n        if ( preInitPlugins[ weight ] === undefined ) {\n            preInitPlugins[ weight ] = [];\n        }\n        preInitPlugins[ weight ].push( plugin );\n    };\n\n    // Called at beginning of init, to execute all pre-init plugins.\n    var execPreInitPlugins = function( root ) { //jshint ignore:line\n        for ( var i = 0; i < preInitPlugins.length; i++ ) {\n            var thisLevel = preInitPlugins[ i ];\n            if ( thisLevel !== undefined ) {\n                for ( var j = 0; j < thisLevel.length; j++ ) {\n                    thisLevel[ j ]( root );\n                }\n            }\n        }\n    };\n\n    // `addPreStepLeavePlugin` allows plugins to register a function that should\n    // be run (synchronously) at the beginning of goto()\n    impress.addPreStepLeavePlugin = function( plugin, weight ) { //jshint ignore:line\n        weight = parseInt( weight ) || 10;\n        if ( weight <= 0 ) {\n            throw \"addPreStepLeavePlugin: weight must be a positive integer\";\n        }\n\n        if ( preStepLeavePlugins[ weight ] === undefined ) {\n            preStepLeavePlugins[ weight ] = [];\n        }\n        preStepLeavePlugins[ weight ].push( plugin );\n    };\n\n    // Called at beginning of goto(), to execute all preStepLeave plugins.\n    var execPreStepLeavePlugins = function( event ) { //jshint ignore:line\n        for ( var i = 0; i < preStepLeavePlugins.length; i++ ) {\n            var thisLevel = preStepLeavePlugins[ i ];\n            if ( thisLevel !== undefined ) {\n                for ( var j = 0; j < thisLevel.length; j++ ) {\n                    if ( thisLevel[ j ]( event ) === false ) {\n\n                        // If a plugin returns false, the stepleave event (and related transition)\n                        // is aborted\n                        return false;\n                    }\n                }\n            }\n        }\n    };\n\n} )( document, window );\n\n// THAT'S ALL FOLKS!\n//\n// Thanks for reading it all.\n// Or thanks for scrolling down and reading the last part.\n//\n// I've learnt a lot when building impress.js and I hope this code and comments\n// will help somebody learn at least some part of it.\n\n/**\n * Garbage collection utility\n *\n * This library allows plugins to add elements and event listeners they add to the DOM. The user\n * can call `impress().lib.gc.teardown()` to cause all of them to be removed from DOM, so that\n * the document is in the state it was before calling `impress().init()`.\n *\n * In addition to just adding elements and event listeners to the garbage collector, plugins\n * can also register callback functions to do arbitrary cleanup upon teardown.\n *\n * Henrik Ingo (c) 2016\n * MIT License\n */\n\n( function( document, window ) {\n    \"use strict\";\n    var roots = [];\n    var rootsCount = 0;\n    var startingState = { roots: [] };\n\n    var libraryFactory = function( rootId ) {\n        if ( roots[ rootId ] ) {\n            return roots[ rootId ];\n        }\n\n        // Per root global variables (instance variables?)\n        var elementList = [];\n        var eventListenerList = [];\n        var callbackList = [];\n\n        recordStartingState( rootId );\n\n        // LIBRARY FUNCTIONS\n        // Definitions of the library functions we return as an object at the end\n\n        // `pushElement` adds a DOM element to the gc stack\n        var pushElement = function( element ) {\n            elementList.push( element );\n        };\n\n        // `appendChild` is a convenience wrapper that combines DOM appendChild with gc.pushElement\n        var appendChild = function( parent, element ) {\n            parent.appendChild( element );\n            pushElement( element );\n        };\n\n        // `pushEventListener` adds an event listener to the gc stack\n        var pushEventListener = function( target, type, listenerFunction ) {\n            eventListenerList.push( { target:target, type:type, listener:listenerFunction } );\n        };\n\n        // `addEventListener` combines DOM addEventListener with gc.pushEventListener\n        var addEventListener = function( target, type, listenerFunction ) {\n            target.addEventListener( type, listenerFunction );\n            pushEventListener( target, type, listenerFunction );\n        };\n\n        // `pushCallback` If the above utilities are not enough, plugins can add their own callback\n        // function to do arbitrary things.\n        var pushCallback = function( callback ) {\n            callbackList.push( callback );\n        };\n        pushCallback( function( rootId ) { resetStartingState( rootId ); } );\n\n        // `teardown` will\n        // - execute all callbacks in LIFO order\n        // - call `removeChild` on all DOM elements in LIFO order\n        // - call `removeEventListener` on all event listeners in LIFO order\n        // The goal of a teardown is to return to the same state that the DOM was before\n        // `impress().init()` was called.\n        var teardown = function() {\n\n            // Execute the callbacks in LIFO order\n            var i; // Needed by jshint\n            for ( i = callbackList.length - 1; i >= 0; i-- ) {\n                callbackList[ i ]( rootId );\n            }\n            callbackList = [];\n            for ( i = 0; i < elementList.length; i++ ) {\n                elementList[ i ].parentElement.removeChild( elementList[ i ] );\n            }\n            elementList = [];\n            for ( i = 0; i < eventListenerList.length; i++ ) {\n                var target   = eventListenerList[ i ].target;\n                var type     = eventListenerList[ i ].type;\n                var listener = eventListenerList[ i ].listener;\n                target.removeEventListener( type, listener );\n            }\n        };\n\n        var lib = {\n            pushElement: pushElement,\n            appendChild: appendChild,\n            pushEventListener: pushEventListener,\n            addEventListener: addEventListener,\n            pushCallback: pushCallback,\n            teardown: teardown\n        };\n        roots[ rootId ] = lib;\n        rootsCount++;\n        return lib;\n    };\n\n    // Let impress core know about the existence of this library\n    window.impress.addLibraryFactory( { gc: libraryFactory } );\n\n    // CORE INIT\n    // The library factory (gc(rootId)) is called at the beginning of impress(rootId).init()\n    // For the purposes of teardown(), we can use this as an opportunity to save the state\n    // of a few things in the DOM in their virgin state, before impress().init() did anything.\n    // Note: These could also be recorded by the code in impress.js core as these values\n    // are changed, but in an effort to not deviate too much from upstream, I'm adding\n    // them here rather than the core itself.\n    var recordStartingState = function( rootId ) {\n        startingState.roots[ rootId ] = {};\n        startingState.roots[ rootId ].steps = [];\n\n        // Record whether the steps have an id or not\n        var steps = document.getElementById( rootId ).querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            var el = steps[ i ];\n            startingState.roots[ rootId ].steps.push( {\n                el: el,\n                id: el.getAttribute( \"id\" )\n            } );\n        }\n\n        // In the rare case of multiple roots, the following is changed on first init() and\n        // reset at last tear().\n        if ( rootsCount === 0 ) {\n            startingState.body = {};\n\n            // It is customary for authors to set body.class=\"impress-not-supported\" as a starting\n            // value, which can then be removed by impress().init(). But it is not required.\n            // Remember whether it was there or not.\n            if ( document.body.classList.contains( \"impress-not-supported\" ) ) {\n                startingState.body.impressNotSupported = true;\n            } else {\n                startingState.body.impressNotSupported = false;\n            }\n\n            // If there's a <meta name=\"viewport\"> element, its contents will be overwritten by init\n            var metas = document.head.querySelectorAll( \"meta\" );\n            for ( i = 0; i < metas.length; i++ ) {\n                var m = metas[ i ];\n                if ( m.name === \"viewport\" ) {\n                    startingState.meta = m.content;\n                }\n            }\n        }\n    };\n\n    // CORE TEARDOWN\n    var resetStartingState = function( rootId ) {\n\n        // Reset body element\n        document.body.classList.remove( \"impress-enabled\" );\n        document.body.classList.remove( \"impress-disabled\" );\n\n        var root = document.getElementById( rootId );\n        var activeId = root.querySelector( \".active\" ).id;\n        document.body.classList.remove( \"impress-on-\" + activeId );\n\n        document.documentElement.style.height = \"\";\n        document.body.style.height = \"\";\n        document.body.style.overflow = \"\";\n\n        // Remove style values from the root and step elements\n        // Note: We remove the ones set by impress.js core. Otoh, we didn't preserve any original\n        // values. A more sophisticated implementation could keep track of original values and then\n        // reset those.\n        var steps = root.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            steps[ i ].classList.remove( \"future\" );\n            steps[ i ].classList.remove( \"past\" );\n            steps[ i ].classList.remove( \"present\" );\n            steps[ i ].classList.remove( \"active\" );\n            steps[ i ].style.position = \"\";\n            steps[ i ].style.transform = \"\";\n            steps[ i ].style[ \"transform-style\" ] = \"\";\n        }\n        root.style.position = \"\";\n        root.style[ \"transform-origin\" ] = \"\";\n        root.style.transition = \"\";\n        root.style[ \"transform-style\" ] = \"\";\n        root.style.top = \"\";\n        root.style.left = \"\";\n        root.style.transform = \"\";\n\n        // Reset id of steps (\"step-1\" id's are auto generated)\n        steps = startingState.roots[ rootId ].steps;\n        var step;\n        while ( step = steps.pop() ) {\n            if ( step.id === null ) {\n                step.el.removeAttribute( \"id\" );\n            } else {\n                step.el.setAttribute( \"id\", step.id );\n            }\n        }\n        delete startingState.roots[ rootId ];\n\n        // Move step div elements away from canvas, then delete canvas\n        // Note: There's an implicit assumption here that the canvas div is the only child element\n        // of the root div. If there would be something else, it's gonna be lost.\n        var canvas = root.firstChild;\n        var canvasHTML = canvas.innerHTML;\n        root.innerHTML = canvasHTML;\n\n        if ( roots[ rootId ] !== undefined ) {\n            delete roots[ rootId ];\n            rootsCount--;\n        }\n        if ( rootsCount === 0 ) {\n\n            // In the rare case that more than one impress root elements were initialized, these\n            // are only reset when all are uninitialized.\n            document.body.classList.remove( \"impress-supported\" );\n            if ( startingState.body.impressNotSupported ) {\n                document.body.classList.add( \"impress-not-supported\" );\n            }\n\n            // We need to remove or reset the meta element inserted by impress.js\n            var metas = document.head.querySelectorAll( \"meta\" );\n            for ( i = 0; i < metas.length; i++ ) {\n                var m = metas[ i ];\n                if ( m.name === \"viewport\" ) {\n                    if ( startingState.meta !== undefined ) {\n                        m.content = startingState.meta;\n                    } else {\n                        m.parentElement.removeChild( m );\n                    }\n                }\n            }\n        }\n\n    };\n\n} )( document, window );\n\n/**\n * Common utility functions\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Henrik Ingo (c) 2016\n * MIT License\n */\n\n( function( document, window ) {\n    \"use strict\";\n    var roots = [];\n\n    var libraryFactory = function( rootId ) {\n        if ( roots[ rootId ] ) {\n            return roots[ rootId ];\n        }\n\n        // `$` returns first element for given CSS `selector` in the `context` of\n        // the given element or whole document.\n        var $ = function( selector, context ) {\n            context = context || document;\n            return context.querySelector( selector );\n        };\n\n        // `$$` return an array of elements for given CSS `selector` in the `context` of\n        // the given element or whole document.\n        var $$ = function( selector, context ) {\n            context = context || document;\n            return arrayify( context.querySelectorAll( selector ) );\n        };\n\n        // `arrayify` takes an array-like object and turns it into real Array\n        // to make all the Array.prototype goodness available.\n        var arrayify = function( a ) {\n            return [].slice.call( a );\n        };\n\n        // `byId` returns element with given `id` - you probably have guessed that ;)\n        var byId = function( id ) {\n            return document.getElementById( id );\n        };\n\n        // `getElementFromHash` returns an element located by id from hash part of\n        // window location.\n        var getElementFromHash = function() {\n\n            // Get id from url # by removing `#` or `#/` from the beginning,\n            // so both \"fallback\" `#slide-id` and \"enhanced\" `#/slide-id` will work\n            return byId( window.location.hash.replace( /^#\\/?/, \"\" ) );\n        };\n\n        // `getUrlParamValue` return a given URL parameter value if it exists\n        // `undefined` if it doesn't exist\n        var getUrlParamValue = function( parameter ) {\n            var chunk = window.location.search.split( parameter + \"=\" )[ 1 ];\n            var value = chunk && chunk.split( \"&\" )[ 0 ];\n\n            if ( value !== \"\" ) {\n                return value;\n            }\n        };\n\n        // Throttling function calls, by Remy Sharp\n        // http://remysharp.com/2010/07/21/throttling-function-calls/\n        var throttle = function( fn, delay ) {\n            var timer = null;\n            return function() {\n                var context = this, args = arguments;\n                window.clearTimeout( timer );\n                timer = window.setTimeout( function() {\n                    fn.apply( context, args );\n                }, delay );\n            };\n        };\n\n        // `toNumber` takes a value given as `numeric` parameter and tries to turn\n        // it into a number. If it is not possible it returns 0 (or other value\n        // given as `fallback`).\n        var toNumber = function( numeric, fallback ) {\n            return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n        };\n\n        // `triggerEvent` builds a custom DOM event with given `eventName` and `detail` data\n        // and triggers it on element given as `el`.\n        var triggerEvent = function( el, eventName, detail ) {\n            var event = document.createEvent( \"CustomEvent\" );\n            event.initCustomEvent( eventName, true, true, detail );\n            el.dispatchEvent( event );\n        };\n\n        var lib = {\n            $: $,\n            $$: $$,\n            arrayify: arrayify,\n            byId: byId,\n            getElementFromHash: getElementFromHash,\n            throttle: throttle,\n            toNumber: toNumber,\n            triggerEvent: triggerEvent,\n            getUrlParamValue: getUrlParamValue\n        };\n        roots[ rootId ] = lib;\n        return lib;\n    };\n\n    // Let impress core know about the existence of this library\n    window.impress.addLibraryFactory( { util: libraryFactory } );\n\n} )( document, window );\n\n/**\n * Autoplay plugin - Automatically advance slideshow after N seconds\n *\n * Copyright 2016 Henrik Ingo, henrik.ingo@avoinelama.fi\n * Released under the MIT license.\n */\n/* global clearTimeout, setTimeout, document */\n\n( function( document ) {\n    \"use strict\";\n\n    var autoplayDefault = 0;\n    var currentStepTimeout = 0;\n    var api = null;\n    var timeoutHandle = null;\n    var root = null;\n    var util;\n\n    // On impress:init, check whether there is a default setting, as well as\n    // handle step-1.\n    document.addEventListener( \"impress:init\", function( event ) {\n        util = event.detail.api.lib.util;\n\n        // Getting API from event data instead of global impress().init().\n        // You don't even need to know what is the id of the root element\n        // or anything. `impress:init` event data gives you everything you\n        // need to control the presentation that was just initialized.\n        api = event.detail.api;\n        root = event.target;\n\n        // Element attributes starting with \"data-\", become available under\n        // element.dataset. In addition hyphenized words become camelCased.\n        var data = root.dataset;\n        var autoplay = util.getUrlParamValue( \"impress-autoplay\" ) || data.autoplay;\n\n        if ( autoplay ) {\n            autoplayDefault = util.toNumber( autoplay, 0 );\n        }\n\n        var toolbar = document.querySelector( \"#impress-toolbar\" );\n        if ( toolbar ) {\n            addToolbarButton( toolbar );\n        }\n\n        api.lib.gc.pushCallback( function() {\n            clearTimeout( timeoutHandle );\n        } );\n\n        // Note that right after impress:init event, also impress:stepenter is\n        // triggered for the first slide, so that's where code flow continues.\n    }, false );\n\n    document.addEventListener( \"impress:autoplay:pause\", function( event ) {\n        status = \"paused\";\n        reloadTimeout( event );\n    }, false );\n\n    document.addEventListener( \"impress:autoplay:play\", function( event ) {\n        status = \"playing\";\n        reloadTimeout( event );\n    }, false );\n\n    // If default autoplay time was defined in the presentation root, or\n    // in this step, set timeout.\n    var reloadTimeout = function( event ) {\n        var step = event.target;\n        currentStepTimeout = util.toNumber( step.dataset.autoplay, autoplayDefault );\n        if ( status === \"paused\" ) {\n            setAutoplayTimeout( 0 );\n        } else {\n            setAutoplayTimeout( currentStepTimeout );\n        }\n    };\n\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        reloadTimeout( event );\n    }, false );\n\n    document.addEventListener( \"impress:substep:enter\", function( event ) {\n        reloadTimeout( event );\n    }, false );\n\n    /**\n     * Set timeout after which we move to next() step.\n     */\n    var setAutoplayTimeout = function( timeout ) {\n        if ( timeoutHandle ) {\n            clearTimeout( timeoutHandle );\n        }\n\n        if ( timeout > 0 ) {\n            timeoutHandle = setTimeout( function() { api.next(); }, timeout * 1000 );\n        }\n        setButtonText();\n    };\n\n    /*** Toolbar plugin integration *******************************************/\n    var status = \"not clicked\";\n    var toolbarButton = null;\n\n    var makeDomElement = function( html ) {\n        var tempDiv = document.createElement( \"div\" );\n        tempDiv.innerHTML = html;\n        return tempDiv.firstChild;\n    };\n\n    var toggleStatus = function() {\n        if ( currentStepTimeout > 0 && status !== \"paused\" ) {\n            status = \"paused\";\n        } else {\n            status = \"playing\";\n        }\n    };\n\n    var getButtonText = function() {\n        if ( currentStepTimeout > 0 && status !== \"paused\" ) {\n            return \"||\"; // Pause\n        } else {\n            return \"&#9654;\"; // Play\n        }\n    };\n\n    var setButtonText = function() {\n        if ( toolbarButton ) {\n\n            // Keep button size the same even if label content is changing\n            var buttonWidth = toolbarButton.offsetWidth;\n            var buttonHeight = toolbarButton.offsetHeight;\n            toolbarButton.innerHTML = getButtonText();\n            if ( !toolbarButton.style.width ) {\n                toolbarButton.style.width = buttonWidth + \"px\";\n            }\n            if ( !toolbarButton.style.height ) {\n                toolbarButton.style.height = buttonHeight + \"px\";\n            }\n        }\n    };\n\n    var addToolbarButton = function( toolbar ) {\n        var html = '<button id=\"impress-autoplay-playpause\" ' + // jshint ignore:line\n                   'title=\"Autoplay\" class=\"impress-autoplay\">' + // jshint ignore:line\n                   getButtonText() + \"</button>\"; // jshint ignore:line\n        toolbarButton = makeDomElement( html );\n        toolbarButton.addEventListener( \"click\", function() {\n            toggleStatus();\n            if ( status === \"playing\" ) {\n                if ( autoplayDefault === 0 ) {\n                    autoplayDefault = 7;\n                }\n                if ( currentStepTimeout === 0 ) {\n                    currentStepTimeout = autoplayDefault;\n                }\n                setAutoplayTimeout( currentStepTimeout );\n            } else if ( status === \"paused\" ) {\n                setAutoplayTimeout( 0 );\n            }\n        } );\n\n        util.triggerEvent( toolbar, \"impress:toolbar:appendChild\",\n                      { group: 10, element: toolbarButton } );\n    };\n\n} )( document );\n\n/**\n * Blackout plugin\n *\n * Press b or . to hide all slides, and b or . again to show them.\n * Also navigating to a different slide will show them again (impress:stepleave).\n *\n * Copyright 2014 @Strikeskids\n * Released under the MIT license.\n */\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n\n    var canvas = null;\n    var blackedOut = false;\n    var util = null;\n    var root = null;\n    var api = null;\n\n    // While waiting for a shared library of utilities, copying these 2 from main impress.js\n    var css = function( el, props ) {\n        var key, pkey;\n        for ( key in props ) {\n            if ( props.hasOwnProperty( key ) ) {\n                pkey = pfx( key );\n                if ( pkey !== null ) {\n                    el.style[ pkey ] = props[ key ];\n                }\n            }\n        }\n        return el;\n    };\n\n    var pfx = ( function() {\n\n        var style = document.createElement( \"dummy\" ).style,\n            prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n            memory = {};\n\n        return function( prop ) {\n            if ( typeof memory[ prop ] === \"undefined\" ) {\n\n                var ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                    props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n                memory[ prop ] = null;\n                for ( var i in props ) {\n                    if ( style[ props[ i ] ] !== undefined ) {\n                        memory[ prop ] = props[ i ];\n                        break;\n                    }\n                }\n\n            }\n\n            return memory[ prop ];\n        };\n\n    } )();\n\n    var removeBlackout = function() {\n        if ( blackedOut ) {\n            css( canvas, {\n                display: \"block\"\n            } );\n            blackedOut = false;\n            util.triggerEvent( root, \"impress:autoplay:play\", {} );\n        }\n    };\n\n    var blackout = function() {\n        if ( blackedOut ) {\n            removeBlackout();\n        } else {\n            css( canvas, {\n                display: ( blackedOut = !blackedOut ) ? \"none\" : \"block\"\n            } );\n            blackedOut = true;\n            util.triggerEvent( root, \"impress:autoplay:pause\", {} );\n        }\n    };\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        api = event.detail.api;\n        util = api.lib.util;\n        root = event.target;\n        canvas = root.firstElementChild;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        gc.addEventListener( document, \"keydown\", function( event ) {\n\n            // Accept b or . -> . is sent by presentation remote controllers\n            if ( event.keyCode === 66 || event.keyCode === 190 ) {\n                event.preventDefault();\n                if ( !blackedOut ) {\n                    blackout();\n                } else {\n                    removeBlackout();\n                }\n            }\n        }, false );\n\n        gc.addEventListener( document, \"keyup\", function( event ) {\n\n            // Accept b or . -> . is sent by presentation remote controllers\n            if ( event.keyCode === 66 || event.keyCode === 190 ) {\n                event.preventDefault();\n            }\n        }, false );\n\n    }, false );\n\n    document.addEventListener( \"impress:stepleave\", function() {\n        removeBlackout();\n    }, false );\n\n} )( document );\n\n\n/**\n * Extras Plugin\n *\n * This plugin performs initialization (like calling mermaid.initialize())\n * for the extras/ plugins if they are loaded into a presentation.\n *\n * See README.md for details.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global markdown, hljs, mermaid, impress, document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    var preInit = function() {\n        if ( window.markdown ) {\n\n            // Unlike the other extras, Markdown.js doesn't by default do anything in\n            // particular. We do it ourselves here.\n            // In addition, we use \"-----\" as a delimiter for new slide.\n\n            // Query all .markdown elements and translate to HTML\n            var markdownDivs = document.querySelectorAll( \".markdown\" );\n            for ( var idx = 0; idx < markdownDivs.length; idx++ ) {\n              var element = markdownDivs[ idx ];\n              var dialect = element.dataset.markdownDialect;\n\n              var slides = element.textContent.split( /^-----$/m );\n              var i = slides.length - 1;\n              element.innerHTML = markdown.toHTML( slides[ i ], dialect );\n\n              // If there's an id, unset it for last, and all other, elements,\n              // and then set it for the first.\n              var id = null;\n              if ( element.id ) {\n                id = element.id;\n                element.id = \"\";\n              }\n              i--;\n              while ( i >= 0 ) {\n                var newElement = element.cloneNode( false );\n                newElement.innerHTML = markdown.toHTML( slides[ i ] );\n                element.parentNode.insertBefore( newElement, element );\n                element = newElement;\n                i--;\n              }\n              if ( id !== null ) {\n                element.id = id;\n              }\n            }\n        } // Markdown\n\n        if ( window.hljs ) {\n            hljs.initHighlightingOnLoad();\n        }\n\n        if ( window.mermaid ) {\n            mermaid.initialize( { startOnLoad:true } );\n        }\n    };\n\n    // Register the plugin to be called in pre-init phase\n    // Note: Markdown.js should run early/first, because it creates new div elements.\n    // So add this with a lower-than-default weight.\n    impress.addPreInitPlugin( preInit, 1 );\n\n} )( document, window );\n\n\n/**\n * Form support\n *\n * Functionality to better support use of input, textarea, button... elements in a presentation.\n *\n * This plugin does two things:\n *\n * Set stopPropagation on any element that might take text input. This allows users to type, for\n * example, the letter 'P' into a form field, without causing the presenter console to spring up.\n *\n * On impress:stepleave, de-focus any potentially active\n * element. This is to prevent the focus from being left in a form element that is no longer visible\n * in the window, and user therefore typing garbage into the form.\n *\n * TODO: Currently it is not possible to use TAB to navigate between form elements. Impress.js, and\n * in particular the navigation plugin, unfortunately must fully take control of the tab key,\n * otherwise a user could cause the browser to scroll to a link or button that's not on the current\n * step. However, it could be possible to allow tab navigation between form elements, as long as\n * they are on the active step. This is a topic for further study.\n *\n * Copyright 2016 Henrik Ingo\n * MIT License\n */\n/* global document */\n( function( document ) {\n    \"use strict\";\n    var root;\n    var api;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        root = event.target;\n        api = event.detail.api;\n        var gc = api.lib.gc;\n\n        var selectors = [ \"input\", \"textarea\", \"select\", \"[contenteditable=true]\" ];\n        for ( var selector of selectors ) {\n            var elements = document.querySelectorAll( selector );\n            if ( !elements ) {\n                continue;\n            }\n\n            for ( var i = 0; i < elements.length; i++ ) {\n                var e = elements[ i ];\n                gc.addEventListener( e, \"keydown\", function( event ) {\n                    event.stopPropagation();\n                } );\n                gc.addEventListener( e, \"keyup\", function( event ) {\n                    event.stopPropagation();\n                } );\n            }\n        }\n    }, false );\n\n    document.addEventListener( \"impress:stepleave\", function() {\n        document.activeElement.blur();\n    }, false );\n\n} )( document );\n\n\n/**\n * Fullscreen plugin\n *\n * Press F5 to enter fullscreen and ESC to exit fullscreen mode.\n *\n * Copyright 2019 @giflw\n * Released under the MIT license.\n */\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n\n    function enterFullscreen() {\n        var elem = document.documentElement;\n        if ( !document.fullscreenElement ) {\n            elem.requestFullscreen();\n        }\n    }\n\n    function exitFullscreen() {\n        if ( document.fullscreenElement ) {\n            document.exitFullscreen();\n        }\n    }\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n        var root = event.target;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        gc.addEventListener( document, \"keydown\", function( event ) {\n\n            // 116 (F5) is sent by presentation remote controllers\n            if ( event.code === \"F5\" ) {\n                event.preventDefault();\n                enterFullscreen();\n                util.triggerEvent( root.querySelector( \".active\" ), \"impress:steprefresh\" );\n            }\n\n            // 27 (Escape) is sent by presentation remote controllers\n            if ( event.key === \"Escape\" || event.key === \"F5\" ) {\n                event.preventDefault();\n                exitFullscreen();\n                util.triggerEvent( root.querySelector( \".active\" ), \"impress:steprefresh\" );\n            }\n        }, false );\n\n        util.triggerEvent( document, \"impress:help:add\",\n            { command: \"F5 / ESC\", text: \"Fullscreen: Enter / Exit\", row: 200 } );\n\n    }, false );\n\n} )( document );\n\n\n/**\n * Goto Plugin\n *\n * The goto plugin is a pre-stepleave plugin. It is executed before impress:stepleave,\n * and will alter the destination where to transition next.\n *\n * Example:\n *\n *         <!-- When leaving this step, go directly to \"step-5\" -->\n *         <div class=\"step\" data-goto=\"step-5\">\n *\n *         <!-- When leaving this step with next(), go directly to \"step-5\", instead of next step.\n *              If moving backwards to previous step - e.g. prev() instead of next() -\n *              then go to \"step-1\". -->\n *         <div class=\"step\" data-goto-next=\"step-5\" data-goto-prev=\"step-1\">\n *\n *        <!-- data-goto-key-list and data-goto-next-list allow you to build advanced non-linear\n *             navigation. -->\n *        <div class=\"step\"\n *             data-goto-key-list=\"ArrowUp ArrowDown ArrowRight ArrowLeft\"\n *             data-goto-next-list=\"step-4 step-3 step-2 step-5\">\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values for a table\n * of what strings to use for each key.\n *\n * Copyright 2016-2017 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document, impress */\n\n( function( document, window ) {\n    \"use strict\";\n    var lib;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        lib = event.detail.api.lib;\n    }, false );\n\n    var isNumber = function( numeric ) {\n        return !isNaN( numeric );\n    };\n\n    var goto = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        var data = event.target.dataset;\n        var steps = document.querySelectorAll( \".step\" );\n\n        // Data-goto-key-list=\"\" & data-goto-next-list=\"\" //////////////////////////////////////////\n        if ( data.gotoKeyList !== undefined &&\n             data.gotoNextList !== undefined &&\n             event.origEvent !== undefined &&\n             event.origEvent.key !== undefined ) {\n            var keylist = data.gotoKeyList.split( \" \" );\n            var nextlist = data.gotoNextList.split( \" \" );\n\n            if ( keylist.length !== nextlist.length ) {\n                window.console.log(\n                    \"impress goto plugin: data-goto-key-list and data-goto-next-list don't match:\"\n                );\n                window.console.log( keylist );\n                window.console.log( nextlist );\n\n                // Don't return, allow the other categories to work despite this error\n            } else {\n                var index = keylist.indexOf( event.origEvent.key );\n                if ( index >= 0 ) {\n                    var next = nextlist[ index ];\n                    if ( isNumber( next ) ) {\n                        event.detail.next = steps[ next ];\n\n                        // If the new next element has its own transitionDuration, we're responsible\n                        // for setting that on the event as well\n                        event.detail.transitionDuration = lib.util.toNumber(\n                            event.detail.next.dataset.transitionDuration,\n                            event.detail.transitionDuration\n                        );\n                        return;\n                    } else {\n                        var newTarget = document.getElementById( next );\n                        if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                            event.detail.next = newTarget;\n                            event.detail.transitionDuration = lib.util.toNumber(\n                                event.detail.next.dataset.transitionDuration,\n                                event.detail.transitionDuration\n                            );\n                            return;\n                        } else {\n                            window.console.log( \"impress goto plugin: \" + next +\n                                                \" is not a step in this impress presentation.\" );\n                        }\n                    }\n                }\n            }\n        }\n\n        // Data-goto-next=\"\" & data-goto-prev=\"\" ///////////////////////////////////////////////////\n\n        // Handle event.target data-goto-next attribute\n        if ( isNumber( data.gotoNext ) && event.detail.reason === \"next\" ) {\n            event.detail.next = steps[ data.gotoNext ];\n\n            // If the new next element has its own transitionDuration, we're responsible for setting\n            // that on the event as well\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.gotoNext && event.detail.reason === \"next\" ) {\n            var newTarget = document.getElementById( data.gotoNext ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration,\n                    event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.gotoNext +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n\n        // Handle event.target data-goto-prev attribute\n        if ( isNumber( data.gotoPrev ) && event.detail.reason === \"prev\" ) {\n            event.detail.next = steps[ data.gotoPrev ];\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.gotoPrev && event.detail.reason === \"prev\" ) {\n            var newTarget = document.getElementById( data.gotoPrev ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.gotoPrev +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n\n        // Data-goto=\"\" ///////////////////////////////////////////////////////////////////////////\n\n        // Handle event.target data-goto attribute\n        if ( isNumber( data.goto ) ) {\n            event.detail.next = steps[ data.goto ];\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.goto ) {\n            var newTarget = document.getElementById( data.goto ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.goto +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    impress.addPreStepLeavePlugin( goto );\n\n} )( document, window );\n\n\n/**\n * Help popup plugin\n *\n * Example:\n *\n *     <!-- Show a help popup at start, or if user presses \"H\" -->\n *     <div id=\"impress-help\"></div>\n *\n * For developers:\n *\n * Typical use for this plugin, is for plugins that support some keypress, to add a line\n * to the help popup produced by this plugin. For example \"P: Presenter console\".\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document */\n\n( function( document, window ) {\n    \"use strict\";\n    var rows = [];\n    var timeoutHandle;\n\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( \"CustomEvent\" );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var renderHelpDiv = function() {\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( helpDiv ) {\n            var html = [];\n            for ( var row in rows ) {\n                for ( var arrayItem in row ) {\n                    html.push( rows[ row ][ arrayItem ] );\n                }\n            }\n            if ( html ) {\n                helpDiv.innerHTML = \"<table>\\n\" + html.join( \"\\n\" ) + \"</table>\\n\";\n            }\n        }\n    };\n\n    var toggleHelp = function() {\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( !helpDiv ) {\n            return;\n        }\n\n        if ( helpDiv.style.display === \"block\" ) {\n            helpDiv.style.display = \"none\";\n        } else {\n            helpDiv.style.display = \"block\";\n            window.clearTimeout( timeoutHandle );\n        }\n    };\n\n    document.addEventListener( \"keyup\", function( event ) {\n\n        if ( event.keyCode === 72 || event.keyCode === 191 ) { // \"h\" || \"?\"\n            event.preventDefault();\n            toggleHelp();\n        }\n    }, false );\n\n    // API\n    // Other plugins can add help texts, typically if they support an action on a keypress.\n    /**\n     * Add a help text to the help popup.\n     *\n     * :param: e.detail.command  Example: \"H\"\n     * :param: e.detail.text     Example: \"Show this help.\"\n     * :param: e.detail.row      Row index from 0 to 9 where to place this help text. Example: 0\n     */\n    document.addEventListener( \"impress:help:add\", function( e ) {\n\n        // The idea is for the sender of the event to supply a unique row index, used for sorting.\n        // But just in case two plugins would ever use the same row index, we wrap each row into\n        // its own array. If there are more than one entry for the same index, they are shown in\n        // first come, first serve ordering.\n        var rowIndex = e.detail.row;\n        if ( typeof rows[ rowIndex ] !== \"object\" || !rows[ rowIndex ].isArray ) {\n            rows[ rowIndex ] = [];\n        }\n        rows[ e.detail.row ].push( \"<tr><td><strong>\" + e.detail.command + \"</strong></td><td>\" +\n                                   e.detail.text + \"</td></tr>\" );\n        renderHelpDiv();\n    } );\n\n    document.addEventListener( \"impress:init\", function( e ) {\n        renderHelpDiv();\n\n        // At start, show the help for 7 seconds.\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( helpDiv ) {\n            helpDiv.style.display = \"block\";\n            timeoutHandle = window.setTimeout( function() {\n                var helpDiv = document.getElementById( \"impress-help\" );\n                helpDiv.style.display = \"none\";\n            }, 7000 );\n\n            // Regster callback to empty the help div on teardown\n            var api = e.detail.api;\n            api.lib.gc.pushCallback( function() {\n                window.clearTimeout( timeoutHandle );\n                helpDiv.style.display = \"\";\n                helpDiv.innerHTML = \"\";\n                rows = [];\n            } );\n        }\n\n        // Use our own API to register the help text for \"h\"\n        triggerEvent( document, \"impress:help:add\",\n                      { command: \"H\", text: \"Show this help\", row: 0 } );\n    } );\n\n} )( document, window );\n\n\n/**\n * Adds a presenter console to impress.js\n *\n * MIT Licensed, see license.txt.\n *\n * Copyright 2012, 2013, 2015 impress-console contributors (see README.txt)\n *\n * version: 1.3-dev\n *\n */\n\n// This file contains so much HTML, that we will just respectfully disagree about js\n/* jshint quotmark:single */\n/* global navigator, top, setInterval, clearInterval, document, window */\n\n( function( document, window ) {\n    'use strict';\n\n    // TODO: Move this to src/lib/util.js\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( 'CustomEvent' );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    // Create Language object depending on browsers language setting\n    var lang;\n    switch ( navigator.language ) {\n    case 'de':\n        lang = {\n            'noNotes': '<div class=\"noNotes\">Keine Notizen hierzu</div>',\n            'restart': 'Neustart',\n            'clickToOpen': 'Klicken um Sprecherkonsole zu öffnen',\n            'prev': 'zurück',\n            'next': 'weiter',\n            'loading': 'initalisiere',\n            'ready': 'Bereit',\n            'moving': 'in Bewegung',\n            'useAMPM': false\n        };\n        break;\n    case 'en': // jshint ignore:line\n    default : // jshint ignore:line\n        lang = {\n            'noNotes': '<div class=\"noNotes\">No notes for this step</div>',\n            'restart': 'Restart',\n            'clickToOpen': 'Click to open speaker console',\n            'prev': 'Prev',\n            'next': 'Next',\n            'loading': 'Loading',\n            'ready': 'Ready',\n            'moving': 'Moving',\n            'useAMPM': false\n        };\n        break;\n    }\n\n    // Settings to set iframe in speaker console\n    const preViewDefaultFactor = 0.7;\n    const preViewMinimumFactor = 0.5;\n    const preViewGap    = 4;\n\n    // This is the default template for the speaker console window\n    const consoleTemplate = '<!DOCTYPE html>' +\n        '<html id=\"impressconsole\"><head>' +\n\n          // Order is important: If user provides a cssFile, those will win, because they're later\n          '{{cssStyle}}' +\n          '{{cssLink}}' +\n        '</head><body>' +\n        '<div id=\"console\">' +\n          '<div id=\"views\">' +\n            '<iframe id=\"slideView\" scrolling=\"no\"></iframe>' +\n            '<iframe id=\"preView\" scrolling=\"no\"></iframe>' +\n            '<div id=\"blocker\"></div>' +\n          '</div>' +\n          '<div id=\"notes\"></div>' +\n        '</div>' +\n        '<div id=\"controls\"> ' +\n          '<div id=\"prev\"><a  href=\"#\" onclick=\"impress().prev(); return false;\" />' +\n            '{{prev}}</a></div>' +\n          '<div id=\"next\"><a  href=\"#\" onclick=\"impress().next(); return false;\" />' +\n            '{{next}}</a></div>' +\n          '<div id=\"clock\">--:--</div>' +\n          '<div id=\"timer\" onclick=\"timerReset()\">00m 00s</div>' +\n          '<div id=\"status\">{{loading}}</div>' +\n        '</div>' +\n        '</body></html>';\n\n    // Default css location\n    var cssFileOldDefault = 'css/impressConsole.css';\n    var cssFile = undefined; // jshint ignore:line\n\n    // Css for styling iframs on the console\n    var cssFileIframeOldDefault = 'css/iframe.css';\n    var cssFileIframe = undefined; // jshint ignore:line\n\n    // All console windows, so that you can call impressConsole() repeatedly.\n    var allConsoles = {};\n\n    // Zero padding helper function:\n    var zeroPad = function( i ) {\n        return ( i < 10 ? '0' : '' ) + i;\n    };\n\n    // The console object\n    var impressConsole = window.impressConsole = function( rootId ) {\n\n        rootId = rootId || 'impress';\n\n        if ( allConsoles[ rootId ] ) {\n            return allConsoles[ rootId ];\n        }\n\n        // Root presentation elements\n        var root = document.getElementById( rootId );\n\n        var consoleWindow = null;\n\n        var nextStep = function() {\n            var classes = '';\n            var nextElement = document.querySelector( '.active' );\n\n            // Return to parents as long as there is no next sibling\n            while ( !nextElement.nextElementSibling && nextElement.parentNode ) {\n                nextElement = nextElement.parentNode;\n            }\n            nextElement = nextElement.nextElementSibling;\n            while ( nextElement ) {\n                classes = nextElement.attributes[ 'class' ];\n                if ( classes && classes.value.indexOf( 'step' ) !== -1 ) {\n                    consoleWindow.document.getElementById( 'blocker' ).innerHTML = lang.next;\n                    return nextElement;\n                }\n\n                if ( nextElement.firstElementChild ) { // First go into deep\n                    nextElement = nextElement.firstElementChild;\n                } else {\n\n                    // Go to next sibling or through parents until there is a next sibling\n                    while ( !nextElement.nextElementSibling && nextElement.parentNode ) {\n                        nextElement = nextElement.parentNode;\n                    }\n                    nextElement = nextElement.nextElementSibling;\n                }\n            }\n\n            // No next element. Pick the first\n            consoleWindow.document.getElementById( 'blocker' ).innerHTML = lang.restart;\n            return document.querySelector( '.step' );\n        };\n\n        // Sync the notes to the step\n        var onStepLeave = function() {\n            if ( consoleWindow ) {\n\n                // Set notes to next steps notes.\n                var newNotes = document.querySelector( '.active' ).querySelector( '.notes' );\n                if ( newNotes ) {\n                    newNotes = newNotes.innerHTML;\n                } else {\n                    newNotes = lang.noNotes;\n                }\n                consoleWindow.document.getElementById( 'notes' ).innerHTML = newNotes;\n\n                // Set the views\n                var baseURL = document.URL.substring( 0, document.URL.search( '#/' ) );\n                var slideSrc = baseURL + '#' + document.querySelector( '.active' ).id;\n                var preSrc = baseURL + '#' + nextStep().id;\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n\n                // Setting them when they are already set causes glithes in Firefox, so check first:\n                if ( slideView.src !== slideSrc ) {\n                    slideView.src = slideSrc;\n                }\n                var preView = consoleWindow.document.getElementById( 'preView' );\n                if ( preView.src !== preSrc ) {\n                    preView.src = preSrc;\n                }\n\n                consoleWindow.document.getElementById( 'status' ).innerHTML =\n                    '<span class=\"moving\">' + lang.moving + '</span>';\n            }\n        };\n\n        // Sync the previews to the step\n        var onStepEnter = function() {\n            if ( consoleWindow ) {\n\n                // We do everything here again, because if you stopped the previos step to\n                // early, the onstepleave trigger is not called for that step, so\n                // we need this to sync things.\n                var newNotes = document.querySelector( '.active' ).querySelector( '.notes' );\n                if ( newNotes ) {\n                    newNotes = newNotes.innerHTML;\n                } else {\n                    newNotes = lang.noNotes;\n                }\n                var notes = consoleWindow.document.getElementById( 'notes' );\n                notes.innerHTML = newNotes;\n                notes.scrollTop = 0;\n\n                // Set the views\n                var baseURL = document.URL.substring( 0, document.URL.search( '#/' ) );\n                var slideSrc = baseURL + '#' + document.querySelector( '.active' ).id;\n                var preSrc = baseURL + '#' + nextStep().id;\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n\n                // Setting them when they are already set causes glithes in Firefox, so check first:\n                if ( slideView.src !== slideSrc ) {\n                    slideView.src = slideSrc;\n                }\n                var preView = consoleWindow.document.getElementById( 'preView' );\n                if ( preView.src !== preSrc ) {\n                    preView.src = preSrc;\n                }\n\n                consoleWindow.document.getElementById( 'status' ).innerHTML =\n                    '<span  class=\"ready\">' + lang.ready + '</span>';\n            }\n        };\n\n        // Sync substeps\n        var onSubstep = function( event ) {\n            if ( consoleWindow ) {\n                if ( event.detail.reason === 'next' ) {\n                    onSubstepShow();\n                }\n                if ( event.detail.reason === 'prev' ) {\n                    onSubstepHide();\n                }\n            }\n        };\n\n        var onSubstepShow = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            triggerEventInView( slideView, 'impress:substep:show' );\n        };\n\n        var onSubstepHide = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            triggerEventInView( slideView, 'impress:substep:hide' );\n        };\n\n        var triggerEventInView = function( frame, eventName, detail ) {\n\n            // Note: Unfortunately Chrome does not allow createEvent on file:// URLs, so this won't\n            // work. This does work on Firefox, and should work if viewing the presentation on a\n            // http:// URL on Chrome.\n            var event = frame.contentDocument.createEvent( 'CustomEvent' );\n            event.initCustomEvent( eventName, true, true, detail );\n            frame.contentDocument.dispatchEvent( event );\n        };\n\n        var spaceHandler = function() {\n            var notes = consoleWindow.document.getElementById( 'notes' );\n            if ( notes.scrollTopMax - notes.scrollTop > 20 ) {\n               notes.scrollTop = notes.scrollTop + notes.clientHeight * 0.8;\n            } else {\n               window.impress().next();\n            }\n        };\n\n        var timerReset = function() {\n            consoleWindow.timerStart = new Date();\n        };\n\n        // Show a clock\n        var clockTick = function() {\n            var now = new Date();\n            var hours = now.getHours();\n            var minutes = now.getMinutes();\n            var seconds = now.getSeconds();\n            var ampm = '';\n\n            if ( lang.useAMPM ) {\n                ampm = ( hours < 12 ) ? 'AM' : 'PM';\n                hours = ( hours > 12 ) ? hours - 12 : hours;\n                hours = ( hours === 0 ) ? 12 : hours;\n            }\n\n            // Clock\n            var clockStr = zeroPad( hours ) + ':' + zeroPad( minutes ) + ':' + zeroPad( seconds ) +\n                           ' ' + ampm;\n            consoleWindow.document.getElementById( 'clock' ).firstChild.nodeValue = clockStr;\n\n            // Timer\n            seconds = Math.floor( ( now - consoleWindow.timerStart ) / 1000 );\n            minutes = Math.floor( seconds / 60 );\n            seconds = Math.floor( seconds % 60 );\n            consoleWindow.document.getElementById( 'timer' ).firstChild.nodeValue =\n                zeroPad( minutes ) + 'm ' + zeroPad( seconds ) + 's';\n\n            if ( !consoleWindow.initialized ) {\n\n                // Nudge the slide windows after load, or they will scrolled wrong on Firefox.\n                consoleWindow.document.getElementById( 'slideView' ).contentWindow.scrollTo( 0, 0 );\n                consoleWindow.document.getElementById( 'preView' ).contentWindow.scrollTo( 0, 0 );\n                consoleWindow.initialized = true;\n            }\n        };\n\n        var registerKeyEvent = function( keyCodes, handler, window ) {\n            if ( window === undefined ) {\n                window = consoleWindow;\n            }\n\n            // Prevent default keydown action when one of supported key is pressed\n            window.document.addEventListener( 'keydown', function( event ) {\n                if ( !event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey &&\n                     keyCodes.indexOf( event.keyCode ) !== -1 ) {\n                    event.preventDefault();\n                }\n            }, false );\n\n            // Trigger impress action on keyup\n            window.document.addEventListener( 'keyup', function( event ) {\n                if ( !event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey &&\n                     keyCodes.indexOf( event.keyCode ) !== -1 ) {\n                        handler();\n                        event.preventDefault();\n                }\n            }, false );\n        };\n\n        var consoleOnLoad = function() {\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n                var preView = consoleWindow.document.getElementById( 'preView' );\n\n                // Firefox:\n                slideView.contentDocument.body.classList.add( 'impress-console' );\n                preView.contentDocument.body.classList.add( 'impress-console' );\n                if ( cssFileIframe !== undefined ) {\n                    slideView.contentDocument.head.insertAdjacentHTML(\n                        'beforeend',\n                        '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + cssFileIframe + '\">'\n                    );\n                    preView.contentDocument.head.insertAdjacentHTML(\n                        'beforeend',\n                        '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + cssFileIframe + '\">'\n                    );\n                }\n\n                // Chrome:\n                slideView.addEventListener( 'load', function() {\n                        slideView.contentDocument.body.classList.add( 'impress-console' );\n                        if ( cssFileIframe !== undefined ) {\n                            slideView.contentDocument.head.insertAdjacentHTML(\n                                'beforeend',\n                                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' +\n                                    cssFileIframe + '\">'\n                            );\n                        }\n                } );\n                preView.addEventListener( 'load', function() {\n                        preView.contentDocument.body.classList.add( 'impress-console' );\n                        if ( cssFileIframe !== undefined ) {\n                            preView.contentDocument.head.insertAdjacentHTML(\n                                'beforeend',\n                                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' +\n                                    cssFileIframe + '\">' );\n                        }\n                } );\n        };\n\n        var open = function() {\n            if ( top.isconsoleWindow ) {\n                return;\n            }\n\n            if ( consoleWindow && !consoleWindow.closed ) {\n                consoleWindow.focus();\n            } else {\n                consoleWindow = window.open( '', 'impressConsole' );\n\n                // If opening failes this may be because the browser prevents this from\n                // not (or less) interactive JavaScript...\n                if ( consoleWindow == null ) {\n\n                    // ... so I add a button to klick.\n                    // workaround on firefox\n                    var message = document.createElement( 'div' );\n                    message.id = 'impress-console-button';\n                    message.style.position = 'fixed';\n                    message.style.left = 0;\n                    message.style.top = 0;\n                    message.style.right = 0;\n                    message.style.bottom = 0;\n                    message.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';\n                    var clickStr = 'var x = document.getElementById(\\'impress-console-button\\');' +\n                                     'x.parentNode.removeChild(x);' +\n                                     'var r = document.getElementById(\\'' + rootId + '\\');' +\n                                     'impress(\\'' + rootId +\n                                     '\\').lib.util.triggerEvent(r, \\'impress:console:open\\', {})';\n                    var styleStr = 'margin: 25vh 25vw;width:50vw;height:50vh;';\n                    message.innerHTML = '<button style=\"' + styleStr + '\" ' +\n                                                 'onclick=\"' + clickStr + '\">' +\n                                        lang.clickToOpen +\n                                        '</button>';\n                    document.body.appendChild( message );\n                    return;\n                }\n\n                var cssLink = '';\n                if ( cssFile !== undefined ) {\n                    cssLink = '<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"' +\n                              cssFile + '\">';\n                }\n\n                // This sets the window location to the main window location, so css can be loaded:\n                consoleWindow.document.open();\n\n                // Write the template:\n                consoleWindow.document.write(\n\n                    // CssStyleStr is lots of inline <style></style> defined at the end of this file\n                    consoleTemplate.replace( '{{cssStyle}}', cssStyleStr() )\n                                   .replace( '{{cssLink}}', cssLink )\n                                   .replace( /{{.*?}}/gi, function( x ) {\n                                       return lang[ x.substring( 2, x.length - 2 ) ]; }\n                                   )\n                );\n                consoleWindow.document.title = 'Speaker Console (' + document.title + ')';\n                consoleWindow.impress = window.impress;\n\n                // We set this flag so we can detect it later, to prevent infinite popups.\n                consoleWindow.isconsoleWindow = true;\n\n                // Set the onload function:\n                consoleWindow.onload = consoleOnLoad;\n\n                // Add clock tick\n                consoleWindow.timerStart = new Date();\n                consoleWindow.timerReset = timerReset;\n                consoleWindow.clockInterval = setInterval( allConsoles[ rootId ].clockTick, 1000 );\n\n                // Keyboard navigation handlers\n                // 33: pg up, 37: left, 38: up\n                registerKeyEvent( [ 33, 37, 38 ], window.impress().prev );\n\n                // 34: pg down, 39: right, 40: down\n                registerKeyEvent( [ 34, 39, 40 ], window.impress().next );\n\n                // 32: space\n                registerKeyEvent( [ 32 ], spaceHandler );\n\n                // 82: R\n                registerKeyEvent( [ 82 ], timerReset );\n\n                // Cleanup\n                consoleWindow.onbeforeunload = function() {\n\n                    // I don't know why onunload doesn't work here.\n                    clearInterval( consoleWindow.clockInterval );\n                };\n\n                // It will need a little nudge on Firefox, but only after loading:\n                onStepEnter();\n                consoleWindow.initialized = false;\n                consoleWindow.document.close();\n\n                //Catch any window resize to pass size on\n                window.onresize = resize;\n                consoleWindow.onresize = resize;\n\n                return consoleWindow;\n            }\n        };\n\n        var resize = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            var preView = consoleWindow.document.getElementById( 'preView' );\n\n            // Get ratio of presentation\n            var ratio = window.innerHeight / window.innerWidth;\n\n            // Get size available for views\n            var views = consoleWindow.document.getElementById( 'views' );\n\n            // SlideView may have a border or some padding:\n            // asuming same border width on both direktions\n            var delta = slideView.offsetWidth - slideView.clientWidth;\n\n            // Set views\n            var slideViewWidth = ( views.clientWidth - delta );\n            var slideViewHeight = Math.floor( slideViewWidth * ratio );\n\n            var preViewTop = slideViewHeight + preViewGap;\n\n            var preViewWidth = Math.floor( slideViewWidth * preViewDefaultFactor );\n            var preViewHeight = Math.floor( slideViewHeight * preViewDefaultFactor );\n\n            // Shrink preview to fit into space available\n            if ( views.clientHeight - delta < preViewTop + preViewHeight ) {\n                preViewHeight = views.clientHeight - delta - preViewTop;\n                preViewWidth = Math.floor( preViewHeight / ratio );\n            }\n\n            // If preview is not high enough forget ratios!\n            if ( preViewWidth <= Math.floor( slideViewWidth * preViewMinimumFactor ) ) {\n                slideViewWidth = ( views.clientWidth - delta );\n                slideViewHeight = Math.floor( ( views.clientHeight - delta - preViewGap ) /\n                                             ( 1 + preViewMinimumFactor ) );\n\n                preViewTop = slideViewHeight + preViewGap;\n\n                preViewWidth = Math.floor( slideViewWidth * preViewMinimumFactor );\n                preViewHeight = views.clientHeight - delta - preViewTop;\n            }\n\n            // Set the calculated into styles\n            slideView.style.width = slideViewWidth + 'px';\n            slideView.style.height = slideViewHeight + 'px';\n\n            preView.style.top = preViewTop + 'px';\n\n            preView.style.width = preViewWidth + 'px';\n            preView.style.height = preViewHeight + 'px';\n        };\n\n        var _init = function( cssConsole, cssIframe ) {\n            if ( cssConsole !== undefined ) {\n                cssFile = cssConsole;\n            }\n\n            // You can also specify the css in the presentation root div:\n            // <div id=\"impress\" data-console-css=...\" data-console-css-iframe=\"...\">\n            else if ( root.dataset.consoleCss !== undefined ) {\n                cssFile = root.dataset.consoleCss;\n            }\n\n            if ( cssIframe !== undefined ) {\n                cssFileIframe = cssIframe;\n            } else if ( root.dataset.consoleCssIframe !== undefined ) {\n                cssFileIframe = root.dataset.consoleCssIframe;\n            }\n\n            // Register the event\n            root.addEventListener( 'impress:stepleave', onStepLeave );\n            root.addEventListener( 'impress:stepenter', onStepEnter );\n            root.addEventListener( 'impress:substep:stepleaveaborted', onSubstep );\n            root.addEventListener( 'impress:substep:show', onSubstepShow );\n            root.addEventListener( 'impress:substep:hide', onSubstepHide );\n\n            //When the window closes, clean up after ourselves.\n            window.onunload = function() {\n                if ( consoleWindow && !consoleWindow.closed ) {\n                    consoleWindow.close();\n                }\n            };\n\n            //Open speaker console when they press 'p'\n            registerKeyEvent( [ 80 ], open, window );\n\n            //Btw, you can also launch console automatically:\n            //<div id=\"impress\" data-console-autolaunch=\"true\">\n            if ( root.dataset.consoleAutolaunch === 'true' ) {\n                open();\n            }\n        };\n\n        var init = function( cssConsole, cssIframe ) {\n            if ( ( cssConsole === undefined || cssConsole === cssFileOldDefault ) &&\n                 ( cssIframe === undefined  || cssIframe === cssFileIframeOldDefault ) ) {\n                window.console.log( 'impressConsole().init() is deprecated. ' +\n                                   'impressConsole is now initialized automatically when you ' +\n                                   'call impress().init().' );\n            }\n            _init( cssConsole, cssIframe );\n        };\n\n        // New API for impress.js plugins is based on using events\n        root.addEventListener( 'impress:console:open', function() {\n            open();\n        } );\n\n        /**\n         * Register a key code to an event handler\n         *\n         * :param: event.detail.keyCodes    List of key codes\n         * :param: event.detail.handler     A function registered as the event handler\n         * :param: event.detail.window      The console window to register the keycode in\n         */\n        root.addEventListener( 'impress:console:registerKeyEvent', function( event ) {\n            registerKeyEvent( event.detail.keyCodes, event.detail.handler, event.detail.window );\n        } );\n\n        // Return the object\n        allConsoles[ rootId ] = { init: init, open: open, clockTick: clockTick,\n                               registerKeyEvent: registerKeyEvent, _init: _init };\n        return allConsoles[ rootId ];\n\n    };\n\n    // This initializes impressConsole automatically when initializing impress itself\n    document.addEventListener( 'impress:init', function( event ) {\n\n        // Note: impressConsole wants the id string, not the DOM element directly\n        impressConsole( event.target.id )._init();\n\n        // Add 'P' to the help popup\n        triggerEvent( document, 'impress:help:add',\n                        { command: 'P', text: 'Presenter console', row: 10 } );\n    } );\n\n    // Returns a string to be used inline as a css <style> element in the console window.\n    // Apologies for length, but hiding it here at the end to keep it away from rest of the code.\n    var cssStyleStr = function() {\n        return `<style>\n            #impressconsole body {\n                background-color: rgb(255, 255, 255);\n                padding: 0;\n                margin: 0;\n                font-family: verdana, arial, sans-serif;\n                font-size: 2vw;\n            }\n\n            #impressconsole div#console {\n                position: absolute;\n                top: 0.5vw;\n                left: 0.5vw;\n                right: 0.5vw;\n                bottom: 3vw;\n                margin: 0;\n            }\n\n            #impressconsole div#views, #impressconsole div#notes {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n            }\n\n            #impressconsole div#views {\n                left: 0;\n                right: 50vw;\n                overflow: hidden;\n            }\n\n            #impressconsole div#blocker {\n                position: absolute;\n                right: 0;\n                bottom: 0;\n            }\n\n            #impressconsole div#notes {\n                left: 50vw;\n                right: 0;\n                overflow-x: hidden;\n                overflow-y: auto;\n                padding: 0.3ex;\n                background-color: rgb(255, 255, 255);\n                border: solid 1px rgb(120, 120, 120);\n            }\n\n            #impressconsole div#notes .noNotes {\n                color: rgb(200, 200, 200);\n            }\n\n            #impressconsole div#notes p {\n                margin-top: 0;\n            }\n\n            #impressconsole iframe {\n                position: absolute;\n                margin: 0;\n                padding: 0;\n                left: 0;\n                border: solid 1px rgb(120, 120, 120);\n            }\n\n            #impressconsole iframe#slideView {\n                top: 0;\n                width: 49vw;\n                height: 49vh;\n            }\n\n            #impressconsole iframe#preView {\n                opacity: 0.7;\n                top: 50vh;\n                width: 30vw;\n                height: 30vh;\n            }\n\n            #impressconsole div#controls {\n                margin: 0;\n                position: absolute;\n                bottom: 0.25vw;\n                left: 0.5vw;\n                right: 0.5vw;\n                height: 2.5vw;\n                background-color: rgb(255, 255, 255);\n                background-color: rgba(255, 255, 255, 0.6);\n            }\n\n            #impressconsole div#prev, div#next {\n            }\n\n            #impressconsole div#prev a, #impressconsole div#next a {\n                display: block;\n                border: solid 1px rgb(70, 70, 70);\n                border-radius: 0.5vw;\n                font-size: 1.5vw;\n                padding: 0.25vw;\n                text-decoration: none;\n                background-color: rgb(220, 220, 220);\n                color: rgb(0, 0, 0);\n            }\n\n            #impressconsole div#prev a:hover, #impressconsole div#next a:hover {\n                background-color: rgb(245, 245, 245);\n            }\n\n            #impressconsole div#prev {\n                float: left;\n            }\n\n            #impressconsole div#next {\n                float: right;\n            }\n\n            #impressconsole div#status {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: right;\n            }\n\n            #impressconsole div#clock {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: left;\n            }\n\n            #impressconsole div#timer {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: left;\n            }\n\n            #impressconsole span.moving {\n                color: rgb(255, 0, 0);\n            }\n\n            #impressconsole span.ready {\n                color: rgb(0, 128, 0);\n            }\n        </style>`;\n    };\n\n} )( document, window );\n\n/**\n * Media Plugin\n *\n * This plugin will do the following things:\n *\n *  - Add a special class when playing (body.impress-media-video-playing\n *    and body.impress-media-video-playing) and pausing media (body.impress-media-video-paused\n *    and body.impress-media-audio-paused) (removing them when ending).\n *    This can be useful for example for darkening the background or fading out other elements\n *    while a video is playing.\n *    Only media at the current step are taken into account. All classes are removed when leaving\n *    a step.\n *\n *  - Introduce the following new data attributes:\n *\n *    - data-media-autoplay=\"true\": Autostart media when entering its step.\n *    - data-media-autostop=\"true\": Stop media (= pause and reset to start), when leaving its\n *      step.\n *    - data-media-autopause=\"true\": Pause media but keep current time when leaving its step.\n *\n *    When these attributes are added to a step they are inherited by all media on this step.\n *    Of course this setting can be overwritten by adding different attributes to inidvidual\n *    media.\n *\n *    The same rule applies when this attributes is added to the root element. Settings can be\n *    overwritten for individual steps and media.\n *\n *    Examples:\n *    - data-media-autoplay=\"true\" data-media-autostop=\"true\": start media on enter, stop on\n *      leave, restart from beginning when re-entering the step.\n *\n *    - data-media-autoplay=\"true\" data-media-autopause=\"true\": start media on enter, pause on\n *      leave, resume on re-enter\n *\n *    - data-media-autoplay=\"true\" data-media-autostop=\"true\" data-media-autopause=\"true\": start\n *      media on enter, stop on leave (stop overwrites pause).\n *\n *    - data-media-autoplay=\"true\" data-media-autopause=\"false\": let media start automatically\n *      when entering a step and let it play when leaving the step.\n *\n *    - <div id=\"impress\" data-media-autoplay=\"true\"> ... <div class=\"step\"\n *      data-media-autoplay=\"false\">\n *      All media is startet automatically on all steps except the one that has the\n *      data-media-autoplay=\"false\" attribute.\n *\n *  - Pro tip: Use <audio onended=\"impress().next()\"> or <video onended=\"impress().next()\"> to\n *    proceed to the next step automatically, when the end of the media is reached.\n *\n *\n * Copyright 2018 Holger Teichert (@complanar)\n * Released under the MIT license.\n */\n/* global window, document */\n\n( function( document, window ) {\n    \"use strict\";\n    var root, api, gc, attributeTracker;\n\n    attributeTracker = [];\n\n    // Function names\n    var enhanceMediaNodes,\n        enhanceMedia,\n        removeMediaClasses,\n        onStepenterDetectImpressConsole,\n        onStepenter,\n        onStepleave,\n        onPlay,\n        onPause,\n        onEnded,\n        getMediaAttribute,\n        teardown;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        root = event.target;\n        api = event.detail.api;\n        gc = api.lib.gc;\n\n        enhanceMedia();\n\n        gc.pushCallback( teardown );\n    }, false );\n\n    teardown = function() {\n        var el, i;\n        removeMediaClasses();\n        for ( i = 0; i < attributeTracker.length; i += 1 ) {\n            el = attributeTracker[ i ];\n            el.node.removeAttribute( el.attr );\n        }\n        attributeTracker = [];\n    };\n\n    getMediaAttribute = function( attributeName, nodes ) {\n        var attrName, attrValue, i, node;\n        attrName = \"data-media-\" + attributeName;\n\n        // Look for attributes in all nodes\n        for ( i = 0; i < nodes.length; i += 1 ) {\n            node = nodes[ i ];\n\n            // First test, if the attribute exists, because some browsers may return\n            // an empty string for non-existing attributes - specs are not clear at that point\n            if ( node.hasAttribute( attrName ) ) {\n\n                // Attribute found, return their parsed boolean value, empty strings count as true\n                // to enable empty value booleans (common in html5 but not allowed in well formed\n                // xml).\n                attrValue = node.getAttribute( attrName );\n                if ( attrValue === \"\" || attrValue === \"true\" ) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n\n            // No attribute found at current node, proceed with next round\n        }\n\n        // Last resort: no attribute found - return undefined to distiguish from false\n        return undefined;\n    };\n\n    onPlay = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.add( \"impress-media-\" + type + \"-playing\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-paused\" );\n    };\n\n    onPause = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.add( \"impress-media-\" + type + \"-paused\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-playing\" );\n    };\n\n    onEnded = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.remove( \"impress-media-\" + type + \"-playing\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-paused\" );\n    };\n\n    removeMediaClasses = function() {\n        var type, types;\n        types = [ \"video\", \"audio\" ];\n        for ( type in types ) {\n            document.body.classList.remove( \"impress-media-\" + types[ type ] + \"-playing\" );\n            document.body.classList.remove( \"impress-media-\" + types[ type ] + \"-paused\" );\n        }\n    };\n\n    enhanceMediaNodes = function() {\n        var i, id, media, mediaElement, type;\n\n        media = root.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            type = media[ i ].nodeName.toLowerCase();\n\n            // Set an id to identify each media node - used e.g. for cross references by\n            // the consoleMedia plugin\n            mediaElement = media[ i ];\n            id = mediaElement.getAttribute( \"id\" );\n            if ( id === undefined || id === null ) {\n                mediaElement.setAttribute( \"id\", \"media-\" + type + \"-\" + i );\n                attributeTracker.push( { \"node\": mediaElement, \"attr\": \"id\" } );\n            }\n            gc.addEventListener( mediaElement, \"play\", onPlay );\n            gc.addEventListener( mediaElement, \"playing\", onPlay );\n            gc.addEventListener( mediaElement, \"pause\", onPause );\n            gc.addEventListener( mediaElement, \"ended\", onEnded );\n        }\n    };\n\n    enhanceMedia = function() {\n        var steps, stepElement, i;\n        enhanceMediaNodes();\n        steps = document.getElementsByClassName( \"step\" );\n        for ( i = 0; i < steps.length; i += 1 ) {\n            stepElement = steps[ i ];\n\n            gc.addEventListener( stepElement, \"impress:stepenter\", onStepenter );\n            gc.addEventListener( stepElement, \"impress:stepleave\", onStepleave );\n        }\n    };\n\n    onStepenterDetectImpressConsole = function() {\n        return {\n            \"preview\": ( window.frameElement !== null && window.frameElement.id === \"preView\" ),\n            \"slideView\": ( window.frameElement !== null && window.frameElement.id === \"slideView\" )\n        };\n    };\n\n    onStepenter = function( event ) {\n        var stepElement, media, mediaElement, i, onConsole, autoplay;\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        stepElement = event.target;\n        removeMediaClasses();\n\n        media = stepElement.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            mediaElement = media[ i ];\n\n            // Autoplay when (maybe inherited) autoplay setting is true,\n            // but only if not on preview of the next step in impressConsole\n            onConsole = onStepenterDetectImpressConsole();\n            autoplay = getMediaAttribute( \"autoplay\", [ mediaElement, stepElement, root ] );\n            if ( autoplay && !onConsole.preview ) {\n                if ( onConsole.slideView ) {\n                    mediaElement.muted = true;\n                }\n                mediaElement.play();\n            }\n        }\n    };\n\n    onStepleave = function( event ) {\n        var stepElement, media, i, mediaElement, autoplay, autopause, autostop;\n        if ( ( !event || !event.target ) ) {\n            return;\n        }\n\n        stepElement = event.target;\n        media = event.target.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            mediaElement = media[ i ];\n\n            autoplay = getMediaAttribute( \"autoplay\", [ mediaElement, stepElement, root ] );\n            autopause = getMediaAttribute( \"autopause\", [ mediaElement, stepElement, root ] );\n            autostop = getMediaAttribute( \"autostop\",  [ mediaElement, stepElement, root ] );\n\n            // If both autostop and autopause are undefined, set it to the value of autoplay\n            if ( autostop === undefined && autopause === undefined ) {\n                autostop = autoplay;\n            }\n\n            if ( autopause || autostop ) {\n                mediaElement.pause();\n                if ( autostop ) {\n                    mediaElement.currentTime = 0;\n                }\n            }\n        }\n        removeMediaClasses();\n    };\n\n} )( document, window );\n\n/**\n * Mobile devices support\n *\n * Allow presentation creators to hide all but 3 slides, to save resources, particularly on mobile\n * devices, using classes body.impress-mobile, .step.prev, .step.active and .step.next.\n *\n * Note: This plugin does not take into account possible redirections done with skip, goto etc\n * plugins. Basically it wouldn't work as intended in such cases, but the active step will at least\n * be correct.\n *\n * Adapted to a plugin from a submission by @Kzeni:\n * https://github.com/impress/impress.js/issues/333\n */\n/* global document, navigator */\n( function( document ) {\n    \"use strict\";\n\n    var getNextStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            if ( steps[ i ] === el ) {\n                if ( i + 1 < steps.length ) {\n                    return steps[ i + 1 ];\n                } else {\n                    return steps[ 0 ];\n                }\n            }\n        }\n    };\n    var getPrevStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = steps.length - 1; i >= 0; i-- ) {\n            if ( steps[ i ] === el ) {\n                if ( i - 1 >= 0 ) {\n                    return steps[ i - 1 ];\n                } else {\n                    return steps[ steps.length - 1 ];\n                }\n            }\n        }\n    };\n\n    // Detect mobile browsers & add CSS class as appropriate.\n    document.addEventListener( \"impress:init\", function( event ) {\n        var body = document.body;\n        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n                 navigator.userAgent\n             ) ) {\n            body.classList.add( \"impress-mobile\" );\n        }\n\n        // Unset all this on teardown\n        var api = event.detail.api;\n        api.lib.gc.pushCallback( function() {\n            document.body.classList.remove( \"impress-mobile\" );\n            var prev = document.getElementsByClassName( \"prev\" )[ 0 ];\n            var next = document.getElementsByClassName( \"next\" )[ 0 ];\n            if ( typeof prev !== \"undefined\" ) {\n                prev.classList.remove( \"prev\" );\n            }\n            if ( typeof next !== \"undefined\" ) {\n                next.classList.remove( \"next\" );\n            }\n        } );\n    } );\n\n    // Add prev and next classes to the siblings of the newly entered active step element\n    // Remove prev and next classes from their current step elements\n    // Note: As an exception we break namespacing rules, as these are useful general purpose\n    // classes. (Naming rules would require us to use css classes mobile-next and mobile-prev,\n    // based on plugin name.)\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n\t      var oldprev = document.getElementsByClassName( \"prev\" )[ 0 ];\n\t      var oldnext = document.getElementsByClassName( \"next\" )[ 0 ];\n\n\t      var prev = getPrevStep( event.target );\n\t      prev.classList.add( \"prev\" );\n\t      var next = getNextStep( event.target );\n\t      next.classList.add( \"next\" );\n\n\t      if ( typeof oldprev !== \"undefined\" ) {\n\t\t      oldprev.classList.remove( \"prev\" );\n              }\n\t      if ( typeof oldnext !== \"undefined\" ) {\n\t\t      oldnext.classList.remove( \"next\" );\n              }\n    } );\n} )( document );\n\n\n/**\n * Mouse timeout plugin\n *\n * After 3 seconds of mouse inactivity, add the css class\n * `body.impress-mouse-timeout`. On `mousemove`, `click` or `touch`, remove the\n * class.\n *\n * The use case for this plugin is to use CSS to hide elements from the screen\n * and only make them visible when the mouse is moved. Examples where this\n * might be used are: the toolbar from the toolbar plugin, and the mouse cursor\n * itself.\n *\n * Example CSS:\n *\n *     body.impress-mouse-timeout {\n *         cursor: none;\n *     }\n *     body.impress-mouse-timeout div#impress-toolbar {\n *         display: none;\n *     }\n *\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document */\n( function( document, window ) {\n    \"use strict\";\n    var timeout = 3;\n    var timeoutHandle;\n\n    var hide = function() {\n\n        // Mouse is now inactive\n        document.body.classList.add( \"impress-mouse-timeout\" );\n    };\n\n    var show = function() {\n        if ( timeoutHandle ) {\n            window.clearTimeout( timeoutHandle );\n        }\n\n        // Mouse is now active\n        document.body.classList.remove( \"impress-mouse-timeout\" );\n\n        // Then set new timeout after which it is considered inactive again\n        timeoutHandle = window.setTimeout( hide, timeout * 1000 );\n    };\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n        var gc = api.lib.gc;\n        gc.addEventListener( document, \"mousemove\", show );\n        gc.addEventListener( document, \"click\", show );\n        gc.addEventListener( document, \"touch\", show );\n\n        // Set first timeout\n        show();\n\n        // Unset all this on teardown\n        gc.pushCallback( function() {\n            window.clearTimeout( timeoutHandle );\n            document.body.classList.remove( \"impress-mouse-timeout\" );\n        } );\n    }, false );\n\n} )( document, window );\n\n/**\n * Navigation events plugin\n *\n * As you can see this part is separate from the impress.js core code.\n * It's because these navigation actions only need what impress.js provides with\n * its simple API.\n *\n * This plugin is what we call an _init plugin_. It's a simple kind of\n * impress.js plugin. When loaded, it starts listening to the `impress:init`\n * event. That event listener initializes the plugin functionality - in this\n * case we listen to some keypress and mouse events. The only dependencies on\n * core impress.js functionality is the `impress:init` method, as well as using\n * the public api `next(), prev(),` etc when keys are pressed.\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Released under the MIT license.\n * ------------------------------------------------\n *  author:  Bartek Szopka\n *  version: 0.5.3\n *  url:     http://bartaz.github.com/impress.js/\n *  source:  http://github.com/bartaz/impress.js/\n *\n */\n/* global document */\n( function( document ) {\n    \"use strict\";\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n\n        // Getting API from event data.\n        // So you don't event need to know what is the id of the root element\n        // or anything. `impress:init` event data gives you everything you\n        // need to control the presentation that was just initialized.\n        var api = event.detail.api;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        // Supported keys are:\n        // [space] - quite common in presentation software to move forward\n        // [up] [right] / [down] [left] - again common and natural addition,\n        // [pgdown] / [pgup] - often triggered by remote controllers,\n        // [tab] - this one is quite controversial, but the reason it ended up on\n        //   this list is quite an interesting story... Remember that strange part\n        //   in the impress.js code where window is scrolled to 0,0 on every presentation\n        //   step, because sometimes browser scrolls viewport because of the focused element?\n        //   Well, the [tab] key by default navigates around focusable elements, so clicking\n        //   it very often caused scrolling to focused element and breaking impress.js\n        //   positioning. I didn't want to just prevent this default action, so I used [tab]\n        //   as another way to moving to next step... And yes, I know that for the sake of\n        //   consistency I should add [shift+tab] as opposite action...\n        var isNavigationEvent = function( event ) {\n\n            // Don't trigger navigation for example when user returns to browser window with ALT+TAB\n            if ( event.altKey || event.ctrlKey || event.metaKey ) {\n                return false;\n            }\n\n            // In the case of TAB, we force step navigation always, overriding the browser\n            // navigation between input elements, buttons and links.\n            if ( event.keyCode === 9 ) {\n                return true;\n            }\n\n            // With the sole exception of TAB, we also ignore keys pressed if shift is down.\n            if ( event.shiftKey ) {\n                return false;\n            }\n\n            if ( ( event.keyCode >= 32 && event.keyCode <= 34 ) ||\n                 ( event.keyCode >= 37 && event.keyCode <= 40 ) ) {\n                return true;\n            }\n        };\n\n        // KEYBOARD NAVIGATION HANDLERS\n\n        // Prevent default keydown action when one of supported key is pressed.\n        gc.addEventListener( document, \"keydown\", function( event ) {\n            if ( isNavigationEvent( event ) ) {\n                event.preventDefault();\n            }\n        }, false );\n\n        // Trigger impress action (next or prev) on keyup.\n        gc.addEventListener( document, \"keyup\", function( event ) {\n            if ( isNavigationEvent( event ) ) {\n                if ( event.shiftKey ) {\n                    switch ( event.keyCode ) {\n                        case 9: // Shift+tab\n                            api.prev();\n                            break;\n                    }\n                } else {\n                    switch ( event.keyCode ) {\n                        case 33: // Pg up\n                        case 37: // Left\n                        case 38: // Up\n                                 api.prev( event );\n                                 break;\n                        case 9:  // Tab\n                        case 32: // Space\n                        case 34: // Pg down\n                        case 39: // Right\n                        case 40: // Down\n                                 api.next( event );\n                                 break;\n                    }\n                }\n                event.preventDefault();\n            }\n        }, false );\n\n        // Delegated handler for clicking on the links to presentation steps\n        gc.addEventListener( document, \"click\", function( event ) {\n\n            // Event delegation with \"bubbling\"\n            // check if event target (or any of its parents is a link)\n            var target = event.target;\n            try {\n                while ( ( target.tagName !== \"A\" ) &&\n                        ( target !== document.documentElement ) ) {\n                    target = target.parentNode;\n                }\n\n                if ( target.tagName === \"A\" ) {\n                    var href = target.getAttribute( \"href\" );\n\n                    // If it's a link to presentation step, target this step\n                    if ( href && href[ 0 ] === \"#\" ) {\n                        target = document.getElementById( href.slice( 1 ) );\n                    }\n                }\n\n                if ( api.goto( target ) ) {\n                    event.stopImmediatePropagation();\n                    event.preventDefault();\n                }\n            }\n            catch ( err ) {\n\n                // For example, when clicking on the button to launch speaker console, the button\n                // is immediately deleted from the DOM. In this case target is a DOM element when\n                // we get it, but turns out to be null if you try to actually do anything with it.\n                if ( err instanceof TypeError &&\n                     err.message === \"target is null\" ) {\n                    return;\n                }\n                throw err;\n            }\n        }, false );\n\n        // Delegated handler for clicking on step elements\n        gc.addEventListener( document, \"click\", function( event ) {\n            var target = event.target;\n            try {\n\n                // Find closest step element that is not active\n                while ( !( target.classList.contains( \"step\" ) &&\n                        !target.classList.contains( \"active\" ) ) &&\n                        ( target !== document.documentElement ) ) {\n                    target = target.parentNode;\n                }\n\n                if ( api.goto( target ) ) {\n                    event.preventDefault();\n                }\n            }\n            catch ( err ) {\n\n                // For example, when clicking on the button to launch speaker console, the button\n                // is immediately deleted from the DOM. In this case target is a DOM element when\n                // we get it, but turns out to be null if you try to actually do anything with it.\n                if ( err instanceof TypeError &&\n                     err.message === \"target is null\" ) {\n                    return;\n                }\n                throw err;\n            }\n        }, false );\n\n        // Add a line to the help popup\n        util.triggerEvent( document, \"impress:help:add\", { command: \"Left &amp; Right\",\n                                                           text: \"Previous &amp; Next step\",\n                                                           row: 1 } );\n\n    }, false );\n\n} )( document );\n\n\n/**\n * Navigation UI plugin\n *\n * This plugin provides UI elements \"back\", \"forward\" and a list to select\n * a specific slide number.\n *\n * The navigation controls are added to the toolbar plugin via DOM events. User must enable the\n * toolbar in a presentation to have them visible.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n// This file contains so much HTML, that we will just respectfully disagree about js\n/* jshint quotmark:single */\n/* global document */\n\n( function( document ) {\n    'use strict';\n    var toolbar;\n    var api;\n    var root;\n    var steps;\n    var hideSteps = [];\n    var prev;\n    var select;\n    var next;\n\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( 'CustomEvent' );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var makeDomElement = function( html ) {\n        var tempDiv = document.createElement( 'div' );\n        tempDiv.innerHTML = html;\n        return tempDiv.firstChild;\n    };\n\n    var selectOptionsHtml = function() {\n        var options = '';\n        for ( var i = 0; i < steps.length; i++ ) {\n\n            // Omit steps that are listed as hidden from select widget\n            if ( hideSteps.indexOf( steps[ i ] ) < 0 ) {\n                options = options + '<option value=\"' + steps[ i ].id + '\">' + // jshint ignore:line\n                                    steps[ i ].id + '</option>' + '\\n'; // jshint ignore:line\n            }\n        }\n        return options;\n    };\n\n    var addNavigationControls = function( event ) {\n        api = event.detail.api;\n        var gc = api.lib.gc;\n        root = event.target;\n        steps = root.querySelectorAll( '.step' );\n\n        var prevHtml   = '<button id=\"impress-navigation-ui-prev\" title=\"Previous\" ' +\n                         'class=\"impress-navigation-ui\">&lt;</button>';\n        var selectHtml = '<select id=\"impress-navigation-ui-select\" title=\"Go to\" ' +\n                         'class=\"impress-navigation-ui\">' + '\\n' +\n                           selectOptionsHtml() +\n                           '</select>';\n        var nextHtml   = '<button id=\"impress-navigation-ui-next\" title=\"Next\" ' +\n                         'class=\"impress-navigation-ui\">&gt;</button>';\n\n        prev = makeDomElement( prevHtml );\n        prev.addEventListener( 'click',\n            function() {\n                api.prev();\n        } );\n        select = makeDomElement( selectHtml );\n        select.addEventListener( 'change',\n            function( event ) {\n                api.goto( event.target.value );\n        } );\n        gc.addEventListener( root, 'impress:steprefresh', function( event ) {\n\n            // As impress.js core now allows to dynamically edit the steps, including adding,\n            // removing, and reordering steps, we need to requery and redraw the select list on\n            // every stepenter event.\n            steps = root.querySelectorAll( '.step' );\n            select.innerHTML = '\\n' + selectOptionsHtml();\n\n            // Make sure the list always shows the step we're actually on, even if it wasn't\n            // selected from the list\n            select.value = event.target.id;\n        } );\n        next = makeDomElement( nextHtml );\n        next.addEventListener( 'click',\n            function() {\n                api.next();\n        } );\n\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: prev } );\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: select } );\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: next } );\n\n    };\n\n    // API for not listing given step in the select widget.\n    // For example, if you set class=\"skip\" on some element, you may not want it to show up in the\n    // list either. Otoh we cannot assume that, or anything else, so steps that user wants omitted\n    // must be specifically added with this API call.\n    document.addEventListener( 'impress:navigation-ui:hideStep', function( event ) {\n        hideSteps.push( event.target );\n        if ( select ) {\n            select.innerHTML = selectOptionsHtml();\n        }\n    }, false );\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( 'impress:init', function( event ) {\n        toolbar = document.querySelector( '#impress-toolbar' );\n        if ( toolbar ) {\n            addNavigationControls( event );\n        }\n    }, false );\n\n} )( document );\n\n\n/* global document */\n( function( document ) {\n    \"use strict\";\n    var root;\n    var stepids = [];\n\n    // Get stepids from the steps under impress root\n    var getSteps = function() {\n        stepids = [];\n        var steps = root.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ )\n        {\n          stepids[ i + 1 ] = steps[ i ].id;\n        }\n        };\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n            root = event.target;\n        getSteps();\n        var gc = event.detail.api.lib.gc;\n        gc.pushCallback( function() {\n            stepids = [];\n            if ( progressbar ) {\n                progressbar.style.width = \"\";\n                        }\n            if ( progress ) {\n                progress.innerHTML = \"\";\n                        }\n        } );\n    } );\n\n    var progressbar = document.querySelector( \"div.impress-progressbar div\" );\n    var progress = document.querySelector( \"div.impress-progress\" );\n\n    if ( null !== progressbar || null !== progress ) {\n        document.addEventListener( \"impress:stepleave\", function( event ) {\n            updateProgressbar( event.detail.next.id );\n        } );\n\n        document.addEventListener( \"impress:steprefresh\", function( event ) {\n            getSteps();\n            updateProgressbar( event.target.id );\n        } );\n\n    }\n\n    function updateProgressbar( slideId ) {\n        var slideNumber = stepids.indexOf( slideId );\n        if ( null !== progressbar ) {\n                        var width = 100 / ( stepids.length - 1 ) * ( slideNumber );\n            progressbar.style.width = width.toFixed( 2 ) + \"%\";\n        }\n        if ( null !== progress ) {\n            progress.innerHTML = slideNumber + \"/\" + ( stepids.length - 1 );\n        }\n    }\n} )( document );\n\n/**\n * Relative Positioning Plugin\n *\n * This plugin provides support for defining the coordinates of a step relative\n * to the previous step. This is often more convenient when creating presentations,\n * since as you add, remove or move steps, you may not need to edit the positions\n * as much as is the case with the absolute coordinates supported by impress.js\n * core.\n *\n * Example:\n *\n *         <!-- Position step 1000 px to the right and 500 px up from the previous step. -->\n *         <div class=\"step\" data-rel-x=\"1000\" data-rel-y=\"500\">\n *\n * Following html attributes are supported for step elements:\n *\n *     data-rel-x\n *     data-rel-y\n *     data-rel-z\n *\n * These values are also inherited from the previous step. This makes it easy to\n * create a boring presentation where each slide shifts for example 1000px down\n * from the previous.\n *\n * In addition to plain numbers, which are pixel values, it is also possible to\n * define relative positions as a multiple of screen height and width, using\n * a unit of \"h\" and \"w\", respectively, appended to the number.\n *\n * Example:\n *\n *        <div class=\"step\" data-rel-x=\"1.5w\" data-rel-y=\"1.5h\">\n *\n * This plugin is a *pre-init plugin*. It is called synchronously from impress.js\n * core at the beginning of `impress().init()`. This allows it to process its own\n * data attributes first, and possibly alter the data-x, data-y and data-z attributes\n * that will then be processed by `impress().init()`.\n *\n * (Another name for this kind of plugin might be called a *filter plugin*, but\n * *pre-init plugin* is more generic, as a plugin might do whatever it wants in\n * the pre-init stage.)\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    var startingState = {};\n\n    /**\n     * Copied from core impress.js. We currently lack a library mechanism to\n     * to share utility functions like this.\n     */\n    var toNumber = function( numeric, fallback ) {\n        return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n    };\n\n    /**\n     * Extends toNumber() to correctly compute also relative-to-screen-size values 5w and 5h.\n     *\n     * Returns the computed value in pixels with w/h postfix removed.\n     */\n    var toNumberAdvanced = function( numeric, fallback ) {\n        if ( typeof numeric !== \"string\" ) {\n            return toNumber( numeric, fallback );\n        }\n        var ratio = numeric.match( /^([+-]*[\\d\\.]+)([wh])$/ );\n        if ( ratio == null ) {\n            return toNumber( numeric, fallback );\n        } else {\n            var value = parseFloat( ratio[ 1 ] );\n            var multiplier = ratio[ 2 ] === \"w\" ? window.innerWidth : window.innerHeight;\n            return value * multiplier;\n        }\n    };\n\n    var computeRelativePositions = function( el, prev ) {\n        var data = el.dataset;\n\n        if ( !prev ) {\n\n            // For the first step, inherit these defaults\n            prev = { x:0, y:0, z:0, relative: { x:0, y:0, z:0 } };\n        }\n\n        if ( data.relTo ) {\n\n            var ref = document.getElementById( data.relTo );\n            if ( ref ) {\n\n                // Test, if it is a previous step that already has some assigned position data\n                if ( el.compareDocumentPosition( ref ) & Node.DOCUMENT_POSITION_PRECEDING ) {\n                    prev.x = toNumber( ref.getAttribute( \"data-x\" ) );\n                    prev.y = toNumber( ref.getAttribute( \"data-y\" ) );\n                    prev.z = toNumber( ref.getAttribute( \"data-z\" ) );\n                    prev.relative = {};\n                } else {\n                    window.console.error(\n                        \"impress.js rel plugin: Step \\\"\" + data.relTo + \"\\\" is not defined \" +\n                        \"*before* the current step. Referencing is limited to previously defined \" +\n                        \"steps. Please check your markup. Ignoring data-rel-to attribute of \" +\n                        \"this step. Have a look at the documentation for how to create relative \" +\n                        \"positioning to later shown steps with the help of the goto plugin.\"\n                    );\n                }\n            } else {\n\n                // Step not found\n                window.console.warn(\n                    \"impress.js rel plugin: \\\"\" + data.relTo + \"\\\" is not a valid step in this \" +\n                    \"impress.js presentation. Please check your markup. Ignoring data-rel-to \" +\n                    \"attribute of this step.\"\n                );\n            }\n        }\n\n        var step = {\n                x: toNumber( data.x, prev.x ),\n                y: toNumber( data.y, prev.y ),\n                z: toNumber( data.z, prev.z ),\n                relative: {\n                    x: toNumberAdvanced( data.relX, prev.relative.x ),\n                    y: toNumberAdvanced( data.relY, prev.relative.y ),\n                    z: toNumberAdvanced( data.relZ, prev.relative.z )\n                }\n            };\n\n        // Relative position is ignored/zero if absolute is given.\n        // Note that this also has the effect of resetting any inherited relative values.\n        if ( data.x !== undefined ) {\n            step.relative.x = 0;\n        }\n        if ( data.y !== undefined ) {\n            step.relative.y = 0;\n        }\n        if ( data.z !== undefined ) {\n            step.relative.z = 0;\n        }\n\n        // Apply relative position to absolute position, if non-zero\n        // Note that at this point, the relative values contain a number value of pixels.\n        step.x = step.x + step.relative.x;\n        step.y = step.y + step.relative.y;\n        step.z = step.z + step.relative.z;\n\n        return step;\n    };\n\n    var rel = function( root ) {\n        var steps = root.querySelectorAll( \".step\" );\n        var prev;\n        startingState[ root.id ] = [];\n        for ( var i = 0; i < steps.length; i++ ) {\n            var el = steps[ i ];\n            startingState[ root.id ].push( {\n                el: el,\n                x: el.getAttribute( \"data-x\" ),\n                y: el.getAttribute( \"data-y\" ),\n                z: el.getAttribute( \"data-z\" ),\n                relX: el.getAttribute( \"data-rel-x\" ),\n                relY: el.getAttribute( \"data-rel-y\" ),\n                relZ: el.getAttribute( \"data-rel-z\" )\n            } );\n            var step = computeRelativePositions( el, prev );\n\n            // Apply relative position (if non-zero)\n            el.setAttribute( \"data-x\", step.x );\n            el.setAttribute( \"data-y\", step.y );\n            el.setAttribute( \"data-z\", step.z );\n            prev = step;\n        }\n    };\n\n    // Register the plugin to be called in pre-init phase\n    window.impress.addPreInitPlugin( rel );\n\n    // Register teardown callback to reset the data.x, .y, .z values.\n    document.addEventListener( \"impress:init\", function( event ) {\n        var root = event.target;\n        event.detail.api.lib.gc.pushCallback( function() {\n            var steps = startingState[ root.id ];\n            var step;\n            while ( step = steps.pop() ) {\n\n                // Reset x/y/z in cases where this plugin has changed it.\n                if ( step.relX !== null ) {\n                    if ( step.x === null ) {\n                        step.el.removeAttribute( \"data-x\" );\n                    } else {\n                        step.el.setAttribute( \"data-x\", step.x );\n                    }\n                }\n                if ( step.relY !== null ) {\n                    if ( step.y === null ) {\n                        step.el.removeAttribute( \"data-y\" );\n                    } else {\n                        step.el.setAttribute( \"data-y\", step.y );\n                    }\n                }\n                if ( step.relZ !== null ) {\n                    if ( step.z === null ) {\n                        step.el.removeAttribute( \"data-z\" );\n                    } else {\n                        step.el.setAttribute( \"data-z\", step.z );\n                    }\n                }\n            }\n            delete startingState[ root.id ];\n        } );\n    }, false );\n} )( document, window );\n\n\n/**\n * Resize plugin\n *\n * Rescale the presentation after a window resize.\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Released under the MIT license.\n * ------------------------------------------------\n *  author:  Bartek Szopka\n *  version: 0.5.3\n *  url:     http://bartaz.github.com/impress.js/\n *  source:  http://github.com/bartaz/impress.js/\n *\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n\n        // Rescale presentation when window is resized\n        api.lib.gc.addEventListener( window, \"resize\", api.lib.util.throttle( function() {\n\n            // Force going to active step again, to trigger rescaling\n            api.goto( document.querySelector( \".step.active\" ), 500 );\n        }, 250 ), false );\n    }, false );\n\n} )( document, window );\n\n\n/**\n * Skip Plugin\n *\n * Example:\n *\n *    <!-- This slide is disabled in presentations, when moving with next()\n *         and prev() commands, but you can still move directly to it, for\n *         example with a url (anything using goto()). -->\n *         <div class=\"step skip\">\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n    var util;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        util = event.detail.api.lib.util;\n    }, false );\n\n    var getNextStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            if ( steps[ i ] === el ) {\n                if ( i + 1 < steps.length ) {\n                    return steps[ i + 1 ];\n                } else {\n                    return steps[ 0 ];\n                }\n            }\n        }\n    };\n    var getPrevStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = steps.length - 1; i >= 0; i-- ) {\n            if ( steps[ i ] === el ) {\n                if ( i - 1 >= 0 ) {\n                    return steps[ i - 1 ];\n                } else {\n                    return steps[ steps.length - 1 ];\n                }\n            }\n        }\n    };\n\n    var skip = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        if ( event.detail.next.classList.contains( \"skip\" ) ) {\n            if ( event.detail.reason === \"next\" ) {\n\n                // Go to the next next step instead\n                event.detail.next = getNextStep( event.detail.next );\n\n                // Recursively call this plugin again, until there's a step not to skip\n                skip( event );\n            } else if ( event.detail.reason === \"prev\" ) {\n\n                // Go to the previous previous step instead\n                event.detail.next = getPrevStep( event.detail.next );\n                skip( event );\n            }\n\n            // If the new next element has its own transitionDuration, we're responsible for setting\n            // that on the event as well\n            event.detail.transitionDuration = util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    // The weight makes this plugin run early. This is a good thing, because this plugin calls\n    // itself recursively.\n    window.impress.addPreStepLeavePlugin( skip, 1 );\n\n} )( document, window );\n\n\n/**\n * Stop Plugin\n *\n * Example:\n *\n *        <!-- Stop at this slide.\n *             (For example, when used on the last slide, this prevents the\n *             presentation from wrapping back to the beginning.) -->\n *        <div class=\"step stop\">\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global document, window */\n( function( document, window ) {\n    \"use strict\";\n\n    var stop = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        if ( event.target.classList.contains( \"stop\" ) ) {\n            if ( event.detail.reason === \"next\" ) {\n                return false;\n            }\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    // The weight makes this plugin run fairly early.\n    window.impress.addPreStepLeavePlugin( stop, 2 );\n\n} )( document, window );\n\n\n/**\n * Substep Plugin\n *\n * Copyright 2017 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    // Copied from core impress.js. Good candidate for moving to src/lib/util.js.\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( \"CustomEvent\" );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var activeStep = null;\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        activeStep = event.target;\n    }, false );\n\n    var substep = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        var step = event.target;\n        var el; // Needed by jshint\n        if ( event.detail.reason === \"next\" ) {\n            el = showSubstepIfAny( step );\n            if ( el ) {\n\n                // Send a message to others, that we aborted a stepleave event.\n                triggerEvent( step, \"impress:substep:stepleaveaborted\",\n                              { reason: \"next\", substep: el } );\n\n                // Autoplay uses this for reloading itself\n                triggerEvent( step, \"impress:substep:enter\",\n                              { reason: \"next\", substep: el } );\n\n                // Returning false aborts the stepleave event\n                return false;\n            }\n        }\n        if ( event.detail.reason === \"prev\" ) {\n            el = hideSubstepIfAny( step );\n            if ( el ) {\n                triggerEvent( step, \"impress:substep:stepleaveaborted\",\n                              { reason: \"prev\", substep: el } );\n\n                triggerEvent( step, \"impress:substep:leave\",\n                              { reason: \"prev\", substep: el } );\n\n                return false;\n            }\n        }\n    };\n\n    var showSubstepIfAny = function( step ) {\n        var substeps = step.querySelectorAll( \".substep\" );\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        if ( substeps.length > 0 ) {\n            return showSubstep( substeps, visible );\n        }\n    };\n\n    var showSubstep = function( substeps, visible ) {\n        if ( visible.length < substeps.length ) {\n            for ( var i = 0; i < substeps.length; i++ ) {\n                substeps[ i ].classList.remove( \"substep-active\" );\n            }\n            var el = substeps[ visible.length ];\n            el.classList.add( \"substep-visible\" );\n            el.classList.add( \"substep-active\" );\n            return el;\n        }\n    };\n\n    var hideSubstepIfAny = function( step ) {\n        var substeps = step.querySelectorAll( \".substep\" );\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        if ( substeps.length > 0 ) {\n            return hideSubstep( visible );\n        }\n    };\n\n    var hideSubstep = function( visible ) {\n        if ( visible.length > 0 ) {\n            var current = -1;\n            for ( var i = 0; i < visible.length; i++ ) {\n                if ( visible[ i ].classList.contains( \"substep-active\" ) ) {\n                    current = i;\n                }\n                visible[ i ].classList.remove( \"substep-active\" );\n            }\n            if ( current > 0 ) {\n                visible[ current - 1 ].classList.add( \"substep-active\" );\n            }\n            var el = visible[ visible.length - 1 ];\n            el.classList.remove( \"substep-visible\" );\n            return el;\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase.\n    // The weight makes this plugin run before other preStepLeave plugins.\n    window.impress.addPreStepLeavePlugin( substep, 1 );\n\n    // When entering a step, in particular when re-entering, make sure that all substeps are hidden\n    // at first\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        var step = event.target;\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        for ( var i = 0; i < visible.length; i++ ) {\n            visible[ i ].classList.remove( \"substep-visible\" );\n        }\n    }, false );\n\n    // API for others to reveal/hide next substep ////////////////////////////////////////////////\n    document.addEventListener( \"impress:substep:show\", function() {\n        showSubstepIfAny( activeStep );\n    }, false );\n\n    document.addEventListener( \"impress:substep:hide\", function() {\n        hideSubstepIfAny( activeStep );\n    }, false );\n\n} )( document, window );\n\n/**\n * Support for swipe and tap on touch devices\n *\n * This plugin implements navigation for plugin devices, via swiping left/right,\n * or tapping on the left/right edges of the screen.\n *\n *\n *\n * Copyright 2015: Andrew Dunai (@and3rson)\n * Modified to a plugin, 2016: Henrik Ingo (@henrikingo)\n *\n * MIT License\n */\n/* global document, window */\n( function( document, window ) {\n    \"use strict\";\n\n    // Touch handler to detect swiping left and right based on window size.\n    // If the difference in X change is bigger than 1/20 of the screen width,\n    // we simply call an appropriate API function to complete the transition.\n    var startX = 0;\n    var lastX = 0;\n    var lastDX = 0;\n    var threshold = window.innerWidth / 20;\n\n    document.addEventListener( \"touchstart\", function( event ) {\n        lastX = startX = event.touches[ 0 ].clientX;\n    } );\n\n    document.addEventListener( \"touchmove\", function( event ) {\n         var x = event.touches[ 0 ].clientX;\n         var diff = x - startX;\n\n         // To be used in touchend\n         lastDX = lastX - x;\n         lastX = x;\n\n         window.impress().swipe( diff / window.innerWidth );\n     } );\n\n     document.addEventListener( \"touchend\", function() {\n         var totalDiff = lastX - startX;\n         if ( Math.abs( totalDiff ) > window.innerWidth / 5 && ( totalDiff * lastDX ) <= 0 ) {\n             if ( totalDiff > window.innerWidth / 5 && lastDX <= 0 ) {\n                 window.impress().prev();\n             } else if ( totalDiff < -window.innerWidth / 5 && lastDX >= 0 ) {\n                 window.impress().next();\n             }\n         } else if ( Math.abs( lastDX ) > threshold ) {\n             if ( lastDX < -threshold ) {\n                 window.impress().prev();\n             } else if ( lastDX > threshold ) {\n                 window.impress().next();\n             }\n         } else {\n\n             // No movement - move (back) to the current slide\n             window.impress().goto( document.querySelector( \"#impress .step.active\" ) );\n         }\n     } );\n\n     document.addEventListener( \"touchcancel\", function() {\n\n             // Move (back) to the current slide\n             window.impress().goto( document.querySelector( \"#impress .step.active\" ) );\n     } );\n\n} )( document, window );\n\n/**\n * Toolbar plugin\n *\n * This plugin provides a generic graphical toolbar. Other plugins that\n * want to expose a button or other widget, can add those to this toolbar.\n *\n * Using a single consolidated toolbar for all GUI widgets makes it easier\n * to position and style the toolbar rather than having to do that for lots\n * of different divs.\n *\n *\n * *** For presentation authors: *****************************************\n *\n * To add/activate the toolbar in your presentation, add this div:\n *\n *     <div id=\"impress-toolbar\"></div>\n *\n * Styling the toolbar is left to presentation author. Here's an example CSS:\n *\n *    .impress-enabled div#impress-toolbar {\n *        position: fixed;\n *        right: 1px;\n *        bottom: 1px;\n *        opacity: 0.6;\n *    }\n *    .impress-enabled div#impress-toolbar > span {\n *        margin-right: 10px;\n *    }\n *\n * The [mouse-timeout](../mouse-timeout/README.md) plugin can be leveraged to hide\n * the toolbar from sight, and only make it visible when mouse is moved.\n *\n *    body.impress-mouse-timeout div#impress-toolbar {\n *        display: none;\n *    }\n *\n *\n * *** For plugin authors **********************************************\n *\n * To add a button to the toolbar, trigger the `impress:toolbar:appendChild`\n * or `impress:toolbar:insertBefore` events as appropriate. The detail object\n * should contain following parameters:\n *\n *    { group : 1,                       // integer. Widgets with the same group are grouped inside\n *                                       // the same <span> element.\n *      html : \"<button>Click</button>\", // The html to add.\n *      callback : \"mycallback\",         // Toolbar plugin will trigger event\n *                                       // `impress:toolbar:added:mycallback` when done.\n *      before: element }                // The reference element for an insertBefore() call.\n *\n * You should also listen to the `impress:toolbar:added:mycallback` event. At\n * this point you can find the new widget in the DOM, and for example add an\n * event listener to it.\n *\n * You are free to use any integer for the group. It's ok to leave gaps. It's\n * ok to co-locate with widgets for another plugin, if you think they belong\n * together.\n *\n * See navigation-ui for an example.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n    var toolbar = document.getElementById( \"impress-toolbar\" );\n    var groups = [];\n\n    /**\n     * Get the span element that is a child of toolbar, identified by index.\n     *\n     * If span element doesn't exist yet, it is created.\n     *\n     * Note: Because of Run-to-completion, this is not a race condition.\n     * https://developer.mozilla.org/en/docs/Web/JavaScript/EventLoop#Run-to-completion\n     *\n     * :param: index   Method will return the element <span id=\"impress-toolbar-group-{index}\">\n     */\n    var getGroupElement = function( index ) {\n        var id = \"impress-toolbar-group-\" + index;\n        if ( !groups[ index ] ) {\n            groups[ index ] = document.createElement( \"span\" );\n            groups[ index ].id = id;\n            var nextIndex = getNextGroupIndex( index );\n            if ( nextIndex === undefined ) {\n                toolbar.appendChild( groups[ index ] );\n            } else {\n                toolbar.insertBefore( groups[ index ], groups[ nextIndex ] );\n            }\n        }\n        return groups[ index ];\n    };\n\n    /**\n     * Get the span element from groups[] that is immediately after given index.\n     *\n     * This can be used to find the reference node for an insertBefore() call.\n     * If no element exists at a larger index, returns undefined. (In this case,\n     * you'd use appendChild() instead.)\n     *\n     * Note that index needn't itself exist in groups[].\n     */\n    var getNextGroupIndex = function( index ) {\n        var i = index + 1;\n        while ( !groups[ i ] && i < groups.length ) {\n            i++;\n        }\n        if ( i < groups.length ) {\n            return i;\n        }\n    };\n\n    // API\n    // Other plugins can add and remove buttons by sending them as events.\n    // In return, toolbar plugin will trigger events when button was added.\n    if ( toolbar ) {\n        /**\n         * Append a widget inside toolbar span element identified by given group index.\n         *\n         * :param: e.detail.group    integer specifying the span element where widget will be placed\n         * :param: e.detail.element  a dom element to add to the toolbar\n         */\n        toolbar.addEventListener( \"impress:toolbar:appendChild\", function( e ) {\n            var group = getGroupElement( e.detail.group );\n            group.appendChild( e.detail.element );\n        } );\n\n        /**\n         * Add a widget to toolbar using insertBefore() DOM method.\n         *\n         * :param: e.detail.before   the reference dom element, before which new element is added\n         * :param: e.detail.element  a dom element to add to the toolbar\n         */\n        toolbar.addEventListener( \"impress:toolbar:insertBefore\", function( e ) {\n            toolbar.insertBefore( e.detail.element, e.detail.before );\n        } );\n\n        /**\n         * Remove the widget in e.detail.remove.\n         */\n        toolbar.addEventListener( \"impress:toolbar:removeWidget\", function( e ) {\n            toolbar.removeChild( e.detail.remove );\n        } );\n\n        document.addEventListener( \"impress:init\", function( event ) {\n            var api = event.detail.api;\n            api.lib.gc.pushCallback( function() {\n                toolbar.innerHTML = \"\";\n                groups = [];\n            } );\n        } );\n    } // If toolbar\n\n} )( document );\n"],"names":["document","window","lib","pfx","style","prefixes","memory","prop","ucProp","props","i","validateOrder","order","fallback","validChars","returnStr","css","el","key","pkey","translate","t","rotate","r","revert","axes","scale","s","computeWindowScale","config","hScale","wScale","body","impressSupported","roots","preInitPlugins","preStepLeavePlugins","defaults","empty","impress","rootId","initLibraries","stepsData","activeStep","currentState","steps","windowScale","root","canvas","initialized","lastEntered","onStepEnter","step","onStepLeave","currentStep","nextStep","initStep","idx","data","initAllSteps","init","execPreInitPlugins","meta","rootData","rootStyles","getStep","stepEnterTimeout","goto","duration","reason","origEvent","event","execPreStepLeavePlugins","target","zoomin","delay","targetScale","prev","next","interpolate","a","b","k","swipe","pct","nextElement","nextScale","interpolatedStep","tear","lastHash","libraryFactories","obj","libname","plugin","weight","thisLevel","j","rootsCount","startingState","libraryFactory","elementList","eventListenerList","callbackList","recordStartingState","pushElement","element","appendChild","parent","pushEventListener","type","listenerFunction","addEventListener","pushCallback","callback","resetStartingState","teardown","listener","metas","m","activeId","canvasHTML","$","selector","context","$$","arrayify","byId","id","getElementFromHash","getUrlParamValue","parameter","chunk","value","throttle","fn","timer","args","toNumber","numeric","triggerEvent","eventName","detail","autoplayDefault","currentStepTimeout","api","timeoutHandle","util","autoplay","toolbar","addToolbarButton","status","reloadTimeout","setAutoplayTimeout","timeout","setButtonText","toolbarButton","makeDomElement","html","tempDiv","toggleStatus","getButtonText","buttonWidth","buttonHeight","blackedOut","removeBlackout","blackout","gc","preInit","markdownDivs","dialect","slides","newElement","selectors","elements","e","enterFullscreen","elem","exitFullscreen","isNumber","keylist","nextlist","index","newTarget","rows","renderHelpDiv","helpDiv","row","arrayItem","toggleHelp","rowIndex","lang","preViewDefaultFactor","preViewMinimumFactor","preViewGap","consoleTemplate","cssFileOldDefault","cssFile","cssFileIframeOldDefault","cssFileIframe","allConsoles","zeroPad","impressConsole","consoleWindow","classes","newNotes","baseURL","slideSrc","preSrc","slideView","preView","notes","onSubstep","onSubstepShow","onSubstepHide","triggerEventInView","frame","spaceHandler","timerReset","clockTick","now","hours","minutes","seconds","ampm","clockStr","registerKeyEvent","keyCodes","handler","consoleOnLoad","open","message","clickStr","styleStr","cssLink","cssStyleStr","x","resize","ratio","views","delta","slideViewWidth","slideViewHeight","preViewTop","preViewWidth","preViewHeight","_init","cssConsole","cssIframe","attributeTracker","enhanceMediaNodes","enhanceMedia","removeMediaClasses","onStepenterDetectImpressConsole","onStepenter","onStepleave","onPlay","onPause","onEnded","getMediaAttribute","attributeName","nodes","attrName","attrValue","node","types","media","mediaElement","stepElement","onConsole","autopause","autostop","getNextStep","getPrevStep","oldprev","oldnext","hide","show","isNavigationEvent","href","err","hideSteps","select","selectOptionsHtml","options","addNavigationControls","prevHtml","selectHtml","nextHtml","stepids","getSteps","progressbar","progress","updateProgressbar","slideId","slideNumber","width","toNumberAdvanced","multiplier","computeRelativePositions","ref","rel","skip","stop","substep","showSubstepIfAny","hideSubstepIfAny","substeps","visible","showSubstep","hideSubstep","current","startX","lastX","lastDX","threshold","diff","totalDiff","groups","getGroupElement","nextIndex","getNextGroupIndex","group"],"mappings":"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","x_google_ignoreList":[0]}