/**
 * @preserve
 * Kontra.js v10.0.2
 */(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="25e3bc34-6bbd-4009-912e-a9ccc547def4",s._sentryDebugIdIdentifier="sentry-dbid-25e3bc34-6bbd-4009-912e-a9ccc547def4")}catch{}})();function C(s,t){let i=Math.sin(t),e=Math.cos(t);return{x:s.x*e-s.y*i,y:s.x*i+s.y*e}}function I(s,t,i){return Math.min(Math.max(s,i),t)}let g=()=>{};function F(s,t){let i=s.indexOf(t);if(i!=-1)return s.splice(i,1),!0}let f={};function S(s,t){f[s]=f[s]||[],f[s].push(t)}function E(s,...t){(f[s]||[]).map(i=>i(...t))}let d,p,M={get(s,t){return t=="_proxy"?!0:g}};function m(){return p}function P(s,{contextless:t=!1}={}){if(d=document.getElementById(s)||s||document.querySelector("canvas"),t&&(d=d||new Proxy({},M)),!d)throw Error("You must provide a canvas element for the game");return p=d.getContext("2d")||new Proxy({},M),p.imageSmoothingEnabled=!1,E("init"),{canvas:d,context:p}}class u{constructor(t=0,i=0,e={}){t.x!=null?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i),e._c&&(this.clamp(e._a,e._b,e._d,e._e),this.x=t,this.y=i)}set(t){this.x=t.x,this.y=t.y}add(t){return new u(this.x+t.x,this.y+t.y,this)}subtract(t){return new u(this.x-t.x,this.y-t.y,this)}scale(t){return new u(this.x*t,this.y*t)}normalize(t=this.length()||1){return new u(this.x/t,this.y/t)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}distance(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.dot(t)/(this.length()*t.length()))}direction(){return Math.atan2(this.y,this.x)}clamp(t,i,e,h){this._c=!0,this._a=t,this._b=i,this._d=e,this._e=h}get x(){return this._x}get y(){return this._y}set x(t){this._x=this._c?I(this._a,this._d,t):t}set y(t){this._y=this._c?I(this._b,this._e,t):t}}function Y(){return new u(...arguments)}class ${constructor(t){return this.init(t)}init(t={}){this.position=Y(),this.velocity=Y(),this.acceleration=Y(),this.ttl=1/0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let i=this.acceleration;t&&(i=i.scale(t)),this.velocity=this.velocity.add(i);let e=this.velocity;t&&(e=e.scale(t)),this.position=this.position.add(e),this._pc(),this.ttl--}get dx(){return this.velocity.x}get dy(){return this.velocity.y}set dx(t){this.velocity.x=t}set dy(t){this.velocity.y=t}get ddx(){return this.acceleration.x}get ddy(){return this.acceleration.y}set ddx(t){this.acceleration.x=t}set ddy(t){this.acceleration.y=t}isAlive(){return this.ttl>0}_pc(){}}class D extends ${init({width:t=0,height:i=0,context:e=m(),render:h=this.draw,update:n=this.advance,children:r=[],anchor:a={x:0,y:0},opacity:_=1,rotation:b=0,drotation:c=0,ddrotation:x=0,scaleX:y=1,scaleY:w=1,...o}={}){this._c=[],super.init({width:t,height:i,context:e,anchor:a,opacity:_,rotation:b,drotation:c,ddrotation:x,scaleX:y,scaleY:w,...o}),this._di=!0,this._uw(),this.addChild(r),this._rf=h,this._uf=n,S("init",()=>{this.context??=m()})}update(t){this._uf(t),this.children.map(i=>i.update&&i.update(t))}render(){let t=this.context;t.save(),(this.x||this.y)&&t.translate(this.x,this.y),this.rotation&&t.rotate(this.rotation),(this.scaleX!=1||this.scaleY!=1)&&t.scale(this.scaleX,this.scaleY);let i=this.width,e=this.height;this.radius&&(i=e=this.radius*2);let h=-i*this.anchor.x,n=-e*this.anchor.y;(h||n)&&t.translate(h,n),this.context.globalAlpha=this.opacity,this._rf(),(h||n)&&t.translate(-h,-n),this.children.map(a=>a.render&&a.render()),t.restore()}draw(){}_pc(){this._uw(),this.children.map(t=>t._pc())}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this._pc()}set y(t){this.position.y=t,this._pc()}get width(){return this._w}set width(t){this._w=t,this._pc()}get height(){return this._h}set height(t){this._h=t,this._pc()}_uw(){if(!this._di)return;let{_wx:t=0,_wy:i=0,_wo:e=1,_wrot:h=0,_wsx:n=1,_wsy:r=1}=this.parent||{};this._wx=this.x,this._wy=this.y,this._ww=this.width,this._wh=this.height,this.radius&&(this._wrx=this.radius,this._wry=this.radius),this._wo=e*this.opacity,this._wsx=n*this.scaleX,this._wsy=r*this.scaleY,this._wx=this._wx*n,this._wy=this._wy*r,this._ww=this.width*this._wsx,this._wh=this.height*this._wsy,this.radius&&(this._wrx=this.radius*this._wsx,this._wry=this.radius*this._wsy),this._wrot=h+this.rotation;let{x:a,y:_}=C({x:this._wx,y:this._wy},h);this._wx=a,this._wy=_,this._wx+=t,this._wy+=i}get world(){return{x:this._wx,y:this._wy,width:this._ww,height:this._wh,radius:this.radius?{x:this._wrx,y:this._wry}:void 0,opacity:this._wo,rotation:this._wrot,scaleX:this._wsx,scaleY:this._wsy}}set children(t){this.removeChild(this._c),this.addChild(t)}get children(){return this._c}addChild(...t){t.flat().map(i=>{this.children.push(i),i.parent=this,i._pc=i._pc||g,i._pc()})}removeChild(...t){t.flat().map(i=>{F(this.children,i)&&(i.parent=null,i._pc())})}get radius(){return this._r}set radius(t){this._r=t,this._pc()}get opacity(){return this._opa}set opacity(t){this._opa=I(0,1,t),this._pc()}get rotation(){return this._rot}set rotation(t){this._rot=t,this._pc()}advance(t){super.advance(t),this.drotation+=this.ddrotation,this.rotation+=this.drotation}setScale(t,i=t){this.scaleX=t,this.scaleY=i}get scaleX(){return this._scx}set scaleX(t){this._scx=t,this._pc()}get scaleY(){return this._scy}set scaleY(t){this._scy=t,this._pc()}}class k extends D{init({image:t,width:i=t?t.width:void 0,height:e=t?t.height:void 0,...h}={}){super.init({image:t,width:i,height:e,...h})}get animations(){return this._a}set animations(t){let i,e;this._a={};for(i in t)this._a[i]=t[i].clone(),e=e||this._a[i];this.currentAnimation=e,this.width=this.width||e.width,this.height=this.height||e.height}playAnimation(t){this.currentAnimation?.stop(),this.currentAnimation=this.animations[t],this.currentAnimation.start()}advance(t){super.advance(t),this.currentAnimation?.update(t)}draw(){if(this.image&&this.context.drawImage(this.image,0,0,this.image.width,this.image.height),this.currentAnimation&&this.currentAnimation.render({x:0,y:0,width:this.width,height:this.height,context:this.context}),this.color){if(this.context.fillStyle=this.color,this.radius){this.context.beginPath(),this.context.arc(this.radius,this.radius,this.radius,0,Math.PI*2),this.context.fill();return}this.context.fillRect(0,0,this.width,this.height)}}}function q(){return new k(...arguments)}function L(s){let t=s.canvas;s.clearRect(0,0,t.width,t.height)}function O({fps:s=60,clearCanvas:t=!0,update:i=g,render:e,context:h=m(),blur:n=!1}={}){if(!e)throw Error("You must provide a render() function");let r=0,a=1e3/s,_=1/s,b=t?L:g,c,x,y,w,o,v=!0;n||(window.addEventListener("focus",()=>{v=!0}),window.addEventListener("blur",()=>{v=!1})),S("init",()=>{o.context??=m()});function A(){if(x=requestAnimationFrame(A),!!v&&(y=performance.now(),w=y-c,c=y,!(w>1e3))){for(r+=w;r>=a;)E("tick"),o.update(_),r-=a;b(o.context),o.render()}}return o={update:i,render:e,isStopped:!0,context:h,start(){this.isStopped&&(c=performance.now(),this.isStopped=!1,requestAnimationFrame(A))},stop(){this.isStopped=!0,cancelAnimationFrame(x)},_frame:A,set _last(X){c=X}},o}let{canvas:j}=P(),l=q({x:100,y:80,color:"red",width:20,height:40,dx:2}),G=O({update:function(){l.update(),(l.x>j.width||l.x<0)&&(l.dx=-l.dx)},render:function(){l.render()}});G.start();
//# sourceMappingURL=kontra.astro_astro_type_script_index_0_lang.Db-21HR_.js.map
