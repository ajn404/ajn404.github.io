import{j as m}from"./jsx-runtime.DZ3s2XAB.js";import{r as E}from"./index.D4IXJ7me.js";import"./_sentry-release-injection-file.B-UwqLso.js";import"./_commonjsHelpers.DqoTaOmB.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="17943186-71ef-4f64-a86b-aa911a8e959e",e._sentryDebugIdIdentifier="sentry-dbid-17943186-71ef-4f64-a86b-aa911a8e959e")}catch{}})();var $=Object.defineProperty,M=Object.defineProperties,x=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,f=(e,t,i)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,p=(e,t)=>{for(var i in t||(t={}))k.call(t,i)&&f(e,i,t[i]);if(g)for(var i of g(t))H.call(t,i)&&f(e,i,t[i]);return e},O=(e,t)=>M(e,x(t));const y=(e="always")=>({playMode:e,optimizeSeo:!0,createContainers:!0,hideOverflow:!1,timing:e==="always"?{duration:2*1e3,iterations:1/0}:{duration:250,iterations:1},glitchTimeSpan:e==="always"?{start:.5,end:.7}:{start:0,end:1},shake:{velocity:15,amplitudeX:.2,amplitudeY:.2},slice:e==="click"?{count:15,velocity:20,minHeight:.02,maxHeight:.15,hueRotate:!0}:{count:6,velocity:15,minHeight:.02,maxHeight:.15,hueRotate:!0},pulse:!1}),b=(e,t)=>{if(!e.glitchTimeSpan)return 1;const i=e.glitchTimeSpan.start,a=e.glitchTimeSpan.end;if(t<i||t>a)return 0;const n=i+(a-i)/2;return t<n?(t-i)/(n-i):(a-t)/(a-n)},d=(e,t)=>(Math.random()-.5)*2*b(e,t),j=({minHeight:e,maxHeight:t,minWidth:i,maxWidth:a})=>{const n=Math.floor(Math.random()*((t-e)*100+1))+e*100,o=Math.floor(Math.random()*((a-i)*100+1))+i*100,r=Math.floor(Math.random()*(100-n)),l=Math.floor(Math.random()*(100-o)),h=`${l+o}% ${r}%`,s=`${l+o}% ${r+n}%`,c=`${l}% ${r+n}%`,u=`${l}% ${r}%`;return`polygon(${h},${s},${c},${u})`},C=e=>{const t=Math.floor(e.slice.velocity*e.timing.duration/1e3)+1,i=[];for(let a=0;a<t;++a){if(b(e,a/t)===0){i.push({opacity:"0",transform:"none",clipPath:"unset"});continue}const n={opacity:"1",transform:`translate3d(${d(e,a/t)*30}%,0,0)`,clipPath:j({minHeight:e.slice.minHeight,maxHeight:e.slice.maxHeight,minWidth:1,maxWidth:1})};e.slice.hueRotate&&(n.filter=`hue-rotate(${Math.floor(d(e,a/t)*360)}deg)`),i.push(n)}return{steps:i,timing:p({easing:`steps(${t},jump-start)`},e.timing)}},S=e=>e.pulse?{steps:[{transform:"scale(1)",opacity:"1"},{transform:`scale(${e.pulse.scale})`,opacity:"0"}],timing:O(p({},e.timing),{delay:(e.glitchTimeSpan?e.glitchTimeSpan.start:0)*e.timing.duration,easing:"ease-in-out"})}:null,A=e=>{if(!e.shake)return{steps:[],timing:{}};const t=Math.floor(e.shake.velocity*e.timing.duration/1e3)+1,i=[];for(let a=0;a<t;++a){const n=d(e,a/t)*e.shake.amplitudeX*100,o=d(e,a/t)*e.shake.amplitudeY*100;i.push({transform:`translate3d(${n}%,${o}%,0)`})}return{steps:i,timing:p({easing:`steps(${t},jump-start)`},e.timing)}},v=e=>[A(e),S(e),...Array.from({length:e.slice.count}).map(()=>C(e))].filter(t=>t!==null),w=(...e)=>{const t=i=>i&&typeof i=="object";return e.reduce((i,a)=>(Object.keys(a).forEach(n=>{t(i[n])&&t(a[n])?i[n]=w(i[n],a[n]):a[n]!==void 0&&(i[n]=a[n])}),i),{})},P=(e,t)=>{var i,a;if(!t.createContainers)return{container:e,layersContainer:e,glitched:e.firstElementChild};if(!e.dataset.glitched){const r=document.createElement("div"),l=document.createElement("div");return getComputedStyle(e).getPropertyValue("display").match(/^inline/)&&(l.style.display="inline-block"),l.appendChild(r),(i=e.parentElement)==null||i.insertBefore(l,e),r.prepend(e),{container:l,layersContainer:r,glitched:e}}const n=e.parentElement,o=(a=e.parentElement)==null?void 0:a.parentElement;for(;n.children.length>1;)n.removeChild(n.children[1]);return n.firstElementChild.getAnimations().forEach(r=>r.cancel()),{container:o,layersContainer:n,glitched:e}},G=(e,t,i)=>{const{glitched:a,container:n,layersContainer:o}=P(e,i);o.style.display="grid",i.hideOverflow&&(n.style.overflow="hidden"),i.html&&(a.innerHTML=i.html),a.style.gridArea="1/1/-1/-1";const r=a.cloneNode(!0);r.dataset.islayer="true",r.style.gridArea="1/1/-1/-1",r.style.userSelect="none",r.style.pointerEvents="none",r.style.opacity="0";for(let s=0;s<t.length-1;++s){const c=r.cloneNode(!0);o.appendChild(c)}const l=()=>{t.forEach((s,c)=>{o.children[c].animate(s.steps,s.timing)})},h=()=>{t.forEach((s,c)=>{o.children[c].getAnimations().forEach(u=>{u.cancel()})})};switch(n.onmouseenter=null,n.onmouseleave=null,n.onclick=null,i.playMode){case"always":l();break;case"hover":n.onmouseenter=l,n.onmouseleave=h;break;case"click":n.onclick=()=>{h(),l()};break}return e.dataset.glitched="1",{container:n,startGlitch:l,stopGlitch:h}},T=(e=".powerglitch",t={})=>{const i=w(y(t.playMode),t);if(i.optimizeSeo&&/google|bing|baidu|yandex|slurp|bot/i.exec(navigator.userAgent))return{containers:[],startGlitch:()=>{console.warn("PowerGlitch disabled")},stopGlitch:()=>{console.warn("PowerGlitch disabled")}};let a=[];typeof e=="string"?a=Array.from(document.querySelectorAll(e)):e instanceof NodeList?a=Array.from(e):Array.isArray(e)?a=e:e instanceof HTMLElement&&(a=[e]);const n=v(i),o=a.filter(r=>!r.dataset.islayer).map(r=>G(r,n,i));return{containers:o.map(r=>r.container),startGlitch:()=>o.forEach(r=>r.startGlitch()),stopGlitch:()=>o.forEach(r=>r.stopGlitch())}},D={glitch:T,generateLayers:v,getDefaultOptions:y},N=({children:e})=>(E.useEffect(()=>{D.glitch(".glitch",{playMode:"always",hideOverflow:!0,timing:{duration:2e3,easing:"ease-in-out"},glitchTimeSpan:{start:.4,end:.7},shake:{velocity:10,amplitudeX:.4,amplitudeY:.4},slice:{count:10,velocity:10,minHeight:.02,maxHeight:.4,hueRotate:!0}})}),m.jsx(m.Fragment,{children:m.jsx("div",{className:"glitch min-h-[50px]",children:e})}));export{N as default};
//# sourceMappingURL=powerglitch.Dl1HSOZt.js.map
