{"version":3,"file":"balloon.B_oBmxQ2.js","sources":["../../src/components/react/p5/Forces/balloon.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\n\nexport default () => {\n  const sketch = (p: p5) => {\n    let balloon: Balloon;\n    let gravity: p5.Vector;\n    p.setup = () => {\n      p.createCanvas(80, p.windowHeight - 100);\n      balloon = new Balloon(p.width / 2, p.height, 20);\n      gravity = p.createVector(0, -0.01); // Gravity force (upward)\n    };\n\n    p.draw = () => {\n      p.background(220);\n\n      // Apply gravity\n      balloon.applyForce(gravity);\n      // Apply wind using Perlin noise\n      let windForce = p.createVector(\n        p.map(p.random(0.5), 0, 0.5, -0.5, 0.5),\n        0\n      );\n      balloon.applyForce(windForce);\n\n      // Update and display balloon\n      balloon.update();\n      balloon.checkEdges();\n      balloon.display();\n\n      // Bounce off the top of the window\n      if (balloon.position.y < balloon.radius) {\n        balloon.velocity.y *= -0.5; // Reverse velocity and dampen it\n        balloon.position.y = p.height - balloon.radius;\n      }\n    };\n\n    // Balloon class\n    class Balloon {\n      position: p5.Vector;\n      velocity: p5.Vector;\n      acceleration: p5.Vector;\n      radius: number;\n      lift: p5.Vector;\n      damping: number;\n\n      constructor(x: number, y: number, r: number) {\n        this.position = p.createVector(x, y);\n        this.velocity = p.createVector(0, 0);\n        this.acceleration = p.createVector(0, 0);\n        this.radius = r;\n        this.lift = p.createVector(0, -0.5); // Lift force (upward)\n        this.damping = 0.95; // Damping factor\n      }\n\n      applyForce(force: p5.Vector) {\n        let f = force.copy();\n        this.acceleration.add(f);\n      }\n\n      update() {\n        this.velocity.add(this.acceleration);\n        this.position.add(this.velocity);\n        this.acceleration.mult(0); // Reset acceleration\n\n        // Apply damping\n        this.velocity.mult(this.damping);\n\n        // Apply lift force (buoyancy)\n        this.applyForce(this.lift);\n      }\n\n      display() {\n        p.fill(255, 0, 0);\n        p.ellipse(this.position.x, this.position.y, this.radius * 2);\n      }\n\n      checkEdges() {\n        if (\n          this.position.x + this.radius > p.width ||\n          this.position.x < this.radius\n        ) {\n          this.velocity.x *= -1;\n        }\n        if (\n          this.position.y + this.radius > p.height ||\n          this.position.y < this.radius\n        ) {\n          this.velocity.y *= -1;\n        }\n      }\n    }\n  };\n\n  return <Basic sketch={sketch} showControls />;\n};\n"],"names":["balloon","sketch","p","gravity","Balloon","windForce","x","y","r","force","f","jsx","Basic"],"mappings":"0rBAGA,MAAAA,EAAe,IAAM,CACb,MAAAC,EAAUC,GAAU,CACpB,IAAAF,EACAG,EACJD,EAAE,MAAQ,IAAM,CACdA,EAAE,aAAa,GAAIA,EAAE,aAAe,GAAG,EACvCF,EAAU,IAAII,EAAQF,EAAE,MAAQ,EAAGA,EAAE,OAAQ,EAAE,EACrCC,EAAAD,EAAE,aAAa,EAAG,IAAK,CACnC,EAEAA,EAAE,KAAO,IAAM,CACbA,EAAE,WAAW,GAAG,EAGhBF,EAAQ,WAAWG,CAAO,EAE1B,IAAIE,EAAYH,EAAE,aAChBA,EAAE,IAAIA,EAAE,OAAO,EAAG,EAAG,EAAG,GAAK,IAAM,EAAG,EACtC,CACF,EACAF,EAAQ,WAAWK,CAAS,EAG5BL,EAAQ,OAAO,EACfA,EAAQ,WAAW,EACnBA,EAAQ,QAAQ,EAGZA,EAAQ,SAAS,EAAIA,EAAQ,SAC/BA,EAAQ,SAAS,GAAK,IACtBA,EAAQ,SAAS,EAAIE,EAAE,OAASF,EAAQ,OAE5C,EAGA,MAAMI,CAAQ,CAQZ,YAAYE,EAAWC,EAAWC,EAAW,CAC3C,KAAK,SAAWN,EAAE,aAAaI,EAAGC,CAAC,EACnC,KAAK,SAAWL,EAAE,aAAa,EAAG,CAAC,EACnC,KAAK,aAAeA,EAAE,aAAa,EAAG,CAAC,EACvC,KAAK,OAASM,EACd,KAAK,KAAON,EAAE,aAAa,EAAG,GAAI,EAClC,KAAK,QAAU,GAAA,CAGjB,WAAWO,EAAkB,CACvB,IAAAC,EAAID,EAAM,KAAK,EACd,KAAA,aAAa,IAAIC,CAAC,CAAA,CAGzB,QAAS,CACF,KAAA,SAAS,IAAI,KAAK,YAAY,EAC9B,KAAA,SAAS,IAAI,KAAK,QAAQ,EAC1B,KAAA,aAAa,KAAK,CAAC,EAGnB,KAAA,SAAS,KAAK,KAAK,OAAO,EAG1B,KAAA,WAAW,KAAK,IAAI,CAAA,CAG3B,SAAU,CACNR,EAAA,KAAK,IAAK,EAAG,CAAC,EACdA,EAAA,QAAQ,KAAK,SAAS,EAAG,KAAK,SAAS,EAAG,KAAK,OAAS,CAAC,CAAA,CAG7D,YAAa,EAET,KAAK,SAAS,EAAI,KAAK,OAASA,EAAE,OAClC,KAAK,SAAS,EAAI,KAAK,UAEvB,KAAK,SAAS,GAAK,KAGnB,KAAK,SAAS,EAAI,KAAK,OAASA,EAAE,QAClC,KAAK,SAAS,EAAI,KAAK,UAEvB,KAAK,SAAS,GAAK,GACrB,CACF,CAEJ,EAEA,OAAQS,EAAAA,IAAAC,EAAA,CAAM,OAAAX,EAAgB,aAAY,EAAC,CAAA,CAC7C"}