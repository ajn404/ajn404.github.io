{"version":3,"file":"simulatePaint.Cw7TyOSL.js","sources":["../../src/components/react/p5/Randomness/simulatePaint.tsx"],"sourcesContent":["import type p5 from \"p5\";\nimport Basic from \"@components/react/p5/index.tsx\";\nimport { useCallback, useRef, useState } from \"react\";\nimport { useDebounce } from \"@uidotdev/usehooks\";\nexport default () => {\n  let [sd, setSd] = useState(100);\n  const slider = useRef(null);\n  const debouncedSd = useDebounce(sd, 300);\n  const [maxRange, setMaxRange] = useState(100);\n  const sketch = useCallback(\n    (p: p5) => {\n      const setup = () => {\n        p.createCanvas(p.windowWidth / 2, 240);\n        setMaxRange(p.windowWidth / 4);\n        p.background(\"aliceblue\");\n      };\n      const draw = () => {\n        let x = p.randomGaussian(p.width / 2, debouncedSd);\n        let y = p.randomGaussian(p.height / 2, debouncedSd);\n        p.noStroke();\n        p.fill(0, 100);\n        p.fill(\n          p.randomGaussian(155, 100),\n          p.randomGaussian(125, 125),\n          p.randomGaussian(125, 120)\n        );\n\n        p.circle(x, y, p.random(16));\n      };\n      const resize = () => {\n        p.resizeCanvas(p.windowWidth / 2, 240);\n      };\n      p.setup = setup;\n      p.draw = draw;\n      p.windowResized = resize;\n    },\n    [debouncedSd]\n  );\n  const handleSliderChange = (val: string) => {\n    setSd(parseFloat(val));\n  };\n\n  return (\n    <>\n      debouncedSd:{debouncedSd} sd:{sd}{\" \"}\n      这里是二维的正态分布,但是两者用的是一个方差,待优化\n      <input\n        type=\"range\"\n        max={maxRange}\n        className=\"transparent h-[4px] w-full cursor-pointer appearance-none border-transparent bg-neutral-200 dark:bg-neutral-600\"\n        ref={slider}\n        value={sd}\n        step={5}\n        onChange={e => {\n          handleSliderChange(e.target.value);\n        }}\n      />\n      result:\n      <Basic sketch={sketch} showControls></Basic>\n    </>\n  );\n};\n"],"names":["simulatePaint","sd","setSd","useState","slider","useRef","debouncedSd","useDebounce","maxRange","setMaxRange","sketch","useCallback","p","setup","draw","x","y","resize","handleSliderChange","val","jsxs","Fragment","jsx","Basic"],"mappings":"yuBAIA,MAAAA,EAAe,IAAM,CACnB,GAAI,CAACC,EAAIC,CAAK,EAAIC,EAAAA,SAAS,GAAG,EACxB,MAAAC,EAASC,SAAO,IAAI,EACpBC,EAAcC,EAAYN,EAAI,GAAG,EACjC,CAACO,EAAUC,CAAW,EAAIN,EAAAA,SAAS,GAAG,EACtCO,EAASC,EAAA,YACZC,GAAU,CACT,MAAMC,EAAQ,IAAM,CAClBD,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,EACzBH,EAAAG,EAAE,YAAc,CAAC,EAC7BA,EAAE,WAAW,WAAW,CAC1B,EACME,EAAO,IAAM,CACjB,IAAIC,EAAIH,EAAE,eAAeA,EAAE,MAAQ,EAAGN,CAAW,EAC7CU,EAAIJ,EAAE,eAAeA,EAAE,OAAS,EAAGN,CAAW,EAClDM,EAAE,SAAS,EACTA,EAAA,KAAK,EAAG,GAAG,EACXA,EAAA,KACAA,EAAE,eAAe,IAAK,GAAG,EACzBA,EAAE,eAAe,IAAK,GAAG,EACzBA,EAAE,eAAe,IAAK,GAAG,CAC3B,EAEAA,EAAE,OAAOG,EAAGC,EAAGJ,EAAE,OAAO,EAAE,CAAC,CAC7B,EACMK,EAAS,IAAM,CACnBL,EAAE,aAAaA,EAAE,YAAc,EAAG,GAAG,CACvC,EACAA,EAAE,MAAQC,EACVD,EAAE,KAAOE,EACTF,EAAE,cAAgBK,CACpB,EACA,CAACX,CAAW,CACd,EACMY,EAAsBC,GAAgB,CACpCjB,EAAA,WAAWiB,CAAG,CAAC,CACvB,EAEA,OACIC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAA,eACaf,EAAY,OAAKL,EAAI,IAAI,6BAEtCqB,EAAA,IAAC,QAAA,CACC,KAAK,QACL,IAAKd,EACL,UAAU,kHACV,IAAKJ,EACL,MAAOH,EACP,KAAM,EACN,SAAe,GAAA,CACMiB,EAAA,EAAE,OAAO,KAAK,CAAA,CACnC,CACF,EAAE,UAEDI,EAAAA,IAAAC,EAAA,CAAM,OAAAb,EAAgB,aAAY,EAAC,CAAA,CAAA,EACtC,CAEJ"}